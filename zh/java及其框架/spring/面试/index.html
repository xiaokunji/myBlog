<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>é¢è¯• | ç±³äºŒ</title><meta name=keywords content=" BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ, beanåŠ è½½è¿‡ç¨‹, Spring æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼, Springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ, spring beançš„ç”Ÿå‘½å‘¨æœŸ, Spring ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š"><meta name=description content="     "><meta name=author content="xkj"><link rel=canonical href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring/%E9%9D%A2%E8%AF%95/><link crossorigin=anonymous href=/assets/css/stylesheet.4e0011f750c7441f57e7cdbfd7afb83ad2ac4efdcdb4adebee9988b40de3f85c.css integrity="sha256-TgAR91DHRB9X582/16+4OtKsTv3NtK3r7pmItA3j+Fw=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://xiaokunji.github.io/img/Q.svg><link rel=icon type=image/png sizes=16x16 href=https://xiaokunji.github.io/img/Q.svg><link rel=icon type=image/png sizes=32x32 href=https://xiaokunji.github.io/img/Q.svg><link rel=apple-touch-icon href=https://xiaokunji.github.io/Q.svg><link rel=mask-icon href=https://xiaokunji.github.io/Q.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring/%E9%9D%A2%E8%AF%95/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="é¢è¯•"><meta property="og:description" content="     "><meta property="og:type" content="article"><meta property="og:url" content="https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring/%E9%9D%A2%E8%AF%95/"><meta property="article:section" content="javaåŠå…¶æ¡†æ¶"><meta property="article:published_time" content="2023-08-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="é¢è¯•"><meta name=twitter:description content="     "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":5,"name":"é¢è¯•","item":"https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring/%E9%9D%A2%E8%AF%95/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"é¢è¯•","name":"é¢è¯•","description":"     ","keywords":[" BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"," beanåŠ è½½è¿‡ç¨‹"," Spring æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼"," Springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ"," spring beançš„ç”Ÿå‘½å‘¨æœŸ"," Spring ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š"],"articleBody":"[TOC]\nBeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Beanå·¥å‚(BeanFactory)æ˜¯Springæ¡†æ¶æœ€æ ¸å¿ƒçš„æ¥å£ï¼Œæä¾›äº†é«˜çº§Iocçš„é…ç½®æœºåˆ¶ï¼\nåº”ç”¨ä¸Šä¸‹æ–‡(ApplicationContext)å»ºç«‹åœ¨BeanFacotryåŸºç¡€ä¹‹ä¸Šï¼Œæä¾›äº†æ›´å¤šé¢å‘åº”ç”¨çš„åŠŸèƒ½ï¼Œå¦‚æœå›½é™…åŒ–ï¼Œå±æ€§ç¼–è¾‘å™¨ï¼Œäº‹ä»¶ç­‰ç­‰ï¼\nbeanFactoryæ˜¯springæ¡†æ¶çš„åŸºç¡€è®¾æ–½ï¼Œæ˜¯é¢å‘springæœ¬èº«ï¼ŒApplicationContextæ˜¯é¢å‘ä½¿ç”¨Springæ¡†æ¶çš„å¼€å‘è€…ï¼Œå‡ ä¹æ‰€æœ‰åœºåˆéƒ½ä¼šç”¨åˆ°ApplicationContext.\nhttps://www.jianshu.com/p/b82ceb084adf beanåŠ è½½è¿‡ç¨‹ æ ¹æ®beanåç§° æŸ¥è¯¢ç¼“å­˜ä¸­æ˜¯å¦å·²å­˜åœ¨(å› ä¸ºæ˜¯å•ä¾‹)\ncontext.getBean(\"person\", Person.class);\nç¡®è®¤è¯¥beanåœ¨å·¥å‚ä¸­æ˜¯å¦å·²å®šä¹‰,è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜,æœ‰å®šä¹‰åˆ™å®Œå–„è¯¥beanå¹¶è¿”å›\nå¦‚æœæ²¡æœ‰å°±ä¼šåˆ›å»ºä¸ªæ–°çš„,å¹¶æ”¾åˆ°beanæ± ä¸­\næ ¹æ®é…ç½®æ–‡ä»¶(xml.yaml)ç»™beanè®¾ç½®å±æ€§(å¤„ç†å¾ªç¯ä¾èµ–é—®é¢˜(ä»…ä»…æ˜¯å•ä¾‹çš„æƒ…å†µä¸‹)) åˆå§‹åŒ–bean,å¦‚æœæœ‰è‡ªå®šä¹‰çš„beanåˆå§‹åŒ–æ–¹æ³•,åˆ™ä¼šåœ¨è¿™é‡Œæ‰§è¡Œ https://segmentfault.com/a/1190000012887776#item-4-3 .\nhttps://www.jianshu.com/p/b82ceb084adf Spring æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼ ä»£ç†æ¨¡å¼â€”åœ¨AOPå’Œremotingä¸­è¢«ç”¨çš„æ¯”è¾ƒå¤šã€‚\nå•ä¾‹æ¨¡å¼â€”åœ¨springé…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„beané»˜è®¤ä¸ºå•ä¾‹æ¨¡å¼ã€‚\næ¨¡æ¿æ–¹æ³•â€”ç”¨æ¥è§£å†³ä»£ç é‡å¤çš„é—®é¢˜ æ¯”å¦‚. RestTemplate, JmsTemplate, JpaTemplateã€‚ å‰ç«¯æ§åˆ¶å™¨â€”Srpingæä¾›äº†DispatcherServletæ¥å¯¹è¯·æ±‚è¿›è¡Œåˆ†å‘ã€‚ è§†å›¾å¸®åŠ©(View Helper )â€”Springæä¾›äº†ä¸€ç³»åˆ—çš„JSPæ ‡ç­¾ï¼Œé«˜æ•ˆå®æ¥è¾…åŠ©å°†åˆ†æ•£çš„ä»£ç æ•´åˆåœ¨è§†å›¾é‡Œã€‚ ä¾èµ–æ³¨å…¥â€”è´¯ç©¿äºBeanFactory / ApplicationContextæ¥å£çš„æ ¸å¿ƒç†å¿µã€‚\nå·¥å‚æ¨¡å¼â€”BeanFactoryç”¨æ¥åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ã€‚\nBuilderæ¨¡å¼- è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è§£æbeanæ˜¯æ—¶é‡‡ç”¨builderæ¨¡å¼ï¼Œä¸€æ­¥ä¸€æ­¥åœ°æ„å»ºä¸€ä¸ªbeanDefinition\nç­–ç•¥æ¨¡å¼ï¼šSpring ä¸­ç­–ç•¥æ¨¡å¼ä½¿ç”¨æœ‰å¤šä¸ªåœ°æ–¹ï¼Œå¦‚ Bean å®šä¹‰å¯¹è±¡çš„åˆ›å»ºä»¥åŠä»£ç†å¯¹è±¡çš„åˆ›å»ºç­‰ã€‚è¿™é‡Œä¸»è¦çœ‹ä¸€ä¸‹ä»£ç†å¯¹è±¡åˆ›å»ºçš„ç­–ç•¥æ¨¡å¼çš„å®ç°ã€‚ å‰é¢å·²ç»äº†è§£ Spring çš„ä»£ç†æ–¹å¼æœ‰ä¸¤ä¸ª Jdk åŠ¨æ€ä»£ç†å’Œ CGLIB ä»£ç†ã€‚è¿™ä¸¤ä¸ªä»£ç†æ–¹å¼çš„ä½¿ç”¨æ­£æ˜¯ä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼ã€‚\nSpringæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ ä¸æ˜¯ï¼ŒSpringæ¡†æ¶ä¸­çš„å•ä¾‹beansä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nspring beançš„ç”Ÿå‘½å‘¨æœŸ Springå¯åŠ¨ï¼ŒæŸ¥æ‰¾å¹¶åŠ è½½éœ€è¦è¢«Springç®¡ç†çš„beanï¼Œè¿›è¡ŒBeançš„å®ä¾‹åŒ– Beanå®ä¾‹åŒ–åå¯¹å°†Beançš„å¼•å…¥å’Œå€¼æ³¨å…¥åˆ°Beançš„å±æ€§ä¸­ å¦‚æœBeanå®ç°äº†BeanNameAwareæ¥å£çš„è¯ï¼ŒSpringå°†Beançš„Idä¼ é€’ç»™setBeanName()æ–¹æ³• å¦‚æœBeanå®ç°äº†BeanFactoryAwareæ¥å£çš„è¯ï¼ŒSpringå°†è°ƒç”¨setBeanFactory()æ–¹æ³•ï¼Œå°†BeanFactoryå®¹å™¨å®ä¾‹ä¼ å…¥ å¦‚æœBeanå®ç°äº†ApplicationContextAwareæ¥å£çš„è¯ï¼ŒSpringå°†è°ƒç”¨Beançš„setApplicationContext()æ–¹æ³•ï¼Œå°†beanæ‰€åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å¼•ç”¨ä¼ å…¥è¿›æ¥ å¦‚æœBeanå®ç°äº†BeanPostProcessoræ¥å£ï¼ŒSpringå°±å°†è°ƒç”¨ä»–ä»¬çš„postProcessBeforeInitialization()æ–¹æ³•ã€‚Spring çš„ AOP å°±æ˜¯åˆ©ç”¨å®ƒå®ç°çš„ã€‚ å¦‚æœBean å®ç°äº†InitializingBeanæ¥å£ï¼ŒSpringå°†è°ƒç”¨ä»–ä»¬çš„afterPropertiesSet()æ–¹æ³•ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æœbeanä½¿ç”¨init-methodå£°æ˜äº†åˆå§‹åŒ–æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨ å¦‚æœBean å®ç°äº†BeanPostProcessoræ¥å£ï¼ŒSpringå°±å°†è°ƒç”¨ä»–ä»¬çš„postProcessAfterInitialization()æ–¹æ³•ã€‚ æ­¤æ—¶ï¼ŒBeanå·²ç»å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†ã€‚ä»–ä»¬å°†ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ï¼Œç›´åˆ°åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯ã€‚ å¦‚æœbeanå®ç°äº†DisposableBeanæ¥å£ï¼ŒSpringå°†è°ƒç”¨å®ƒçš„destory()æ¥å£æ–¹æ³•ï¼ŒåŒæ ·ï¼Œå¦‚æœbeanä½¿ç”¨äº†destory-method å£°æ˜é”€æ¯æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚ ç®€ç‰ˆ:\nBean çš„å®ä¾‹åŒ– Bean å±æ€§èµ‹å€¼ Bean çš„åˆå§‹åŒ– Bean çš„ä½¿ç”¨ Bean çš„é”€æ¯ javaå¯¹è±¡åˆ›å»ºå®ä¾‹åŒ–å’Œåˆå§‹åŒ–çš„åŒºåˆ«\nå®ä¾‹åŒ–ï¼šåœ¨å †ä¸­ç”³è¯·å†…å­˜ç©ºé—´ï¼Œå±æ€§éƒ½æ˜¯é»˜è®¤å€¼\nåˆå§‹åŒ–ï¼šç»™å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼æ“ä½œæˆ–è€…åˆå§‹åŒ–æ–¹æ³•çš„è°ƒç”¨\nSpring Beanç”Ÿå‘½å‘¨æœŸ (biancheng.net) é¢è¯•å®˜ï¼šè¯·ä½ è¯´ä¸€ä¸‹ Bean çš„ç”Ÿå‘½å‘¨æœŸ - çŸ¥ä¹ (zhihu.com) javaç±»çš„åˆå§‹åŒ–å’Œå®ä¾‹åŒ–åŒºåˆ« - pu20065226 - åšå®¢å›­ (cnblogs.com) Spring ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š åŸºäº field æ³¨å…¥ï¼ˆå±æ€§æ³¨å…¥ï¼‰\nåŸºäº setter æ³¨å…¥\nåŸºäº constructor æ³¨å…¥ï¼ˆæ„é€ å™¨æ³¨å…¥ï¼‰\nspring æ–°ç‰ˆæœ¬æ¨èä½¿ç”¨æ„é€ å™¨æ³¨å…¥, å¦‚ä¸‹\n1 2 3 4 private final Svc svc; public HelpService( Svc svc) { this.svc = svc; } å¯ä»¥ä½¿ç”¨ lombokçš„ @RequiredArgsConstructor æˆ–è€… @AllArgsConstructor æ¥è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³•, è™½ç„¶è¿™æ ·åšä¹Ÿå®¹æ˜“ è¿åå•ä¸€è´£ä»»åŸåˆ™\n1 2 3 4 5 6 @RequiredArgsConstructor // @AllArgsConstructor public class MdmProjectController { private final MdmProjectService mdmProjectService; } field æ³¨å…¥ï¼Œå°±æ˜¯åœ¨beançš„å˜é‡ä¸Šä½¿ç”¨æ³¨è§£è¿›è¡Œä¾èµ–æ³¨å…¥ã€‚æœ¬è´¨ä¸Šæ˜¯é€šè¿‡åå°„çš„æ–¹å¼ç›´æ¥æ³¨å…¥åˆ°fieldã€‚è¿™æ˜¯æˆ‘å¹³å¸¸å¼€å‘ä¸­çœ‹çš„æœ€å¤šä¹Ÿæ˜¯æœ€ç†Ÿæ‚‰çš„ä¸€ç§æ–¹å¼ï¼ŒåŒæ—¶ï¼Œä¹Ÿæ­£æ˜¯ Spring å›¢é˜Ÿæ‰€ä¸æ¨èçš„æ–¹å¼ã€‚\næºç ä½ç½®: org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.java:621 5.1.7.RELEASE\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 @Override protected void inject(Object bean, @Nullable String beanName, @Nullable PropertyValues pvs) throws Throwable { //è·å–è¦æ³¨å…¥çš„å­—æ®µ Field field = (Field) this.member; Object value; //å¦‚æœå­—æ®µçš„å€¼æœ‰ç¼“å­˜ if (this.cached) { //ä»ç¼“å­˜ä¸­è·å–å­—æ®µå€¼value value = resolvedCachedArgument(beanName, this.cachedFieldValue); } //æ²¡æœ‰ç¼“å­˜ else { //åˆ›å»ºä¸€ä¸ªå­—æ®µä¾èµ–æè¿°ç¬¦ DependencyDescriptor desc = new DependencyDescriptor(field, this.required); desc.setContainingClass(bean.getClass()); Set\u003cString\u003e autowiredBeanNames = new LinkedHashSet\u003c\u003e(1); Assert.state(beanFactory != null, \"No BeanFactory available\"); //è·å–å®¹å™¨ä¸­çš„ç±»å‹è½¬æ¢å™¨ TypeConverter typeConverter = beanFactory.getTypeConverter(); try { //æ ¸å¿ƒï¼è·å–æ³¨å…¥çš„å€¼ value = beanFactory.resolveDependency(desc, beanName, autowiredBeanNames, typeConverter); } catch (BeansException ex) { throw new UnsatisfiedDependencyException(null, beanName, new InjectionPoint(field), ex); } // .... çœç•¥ä»£ç  if (value != null) { //æ˜¾å¼ä½¿ç”¨JDKçš„åå°„æœºåˆ¶ï¼Œè®¾ç½®è‡ªåŠ¨çš„è®¿é—®æ§åˆ¶æƒé™ä¸ºå…è®¸è®¿é—® ReflectionUtils.makeAccessible(field); //ä¸ºå­—æ®µèµ‹å€¼ field.set(bean, value); } } ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨Fieldæ³¨å…¥?\nè¿åå•ä¸€è´£ä»»åŸåˆ™ æ·»åŠ æ–°çš„ä¾èµ–é¡¹éå¸¸å®¹æ˜“ã€‚æ·»åŠ 6ä¸ªã€10ä¸ªç”šè‡³12ä¸ªä¾èµ–é¡¹æ²¡æœ‰é—®é¢˜ã€‚å½“ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥æ—¶ï¼Œåœ¨æŸä¸€ç‚¹ä¹‹åï¼Œæ„é€ å‡½æ•°å‚æ•°çš„æ•°é‡ä¼šå˜å¾—è¿‡é«˜ï¼Œå¹¶ä¸”å¾ˆæ˜æ˜¾ä¼šå‡ºç°é—®é¢˜ã€‚ä¾èµ–å¤ªå¤šé€šå¸¸æ„å‘³ç€ç±»æœ‰å¤ªå¤šçš„è´£ä»»ã€‚è¿™å¯èƒ½è¿åäº†å•ä¸€èŒè´£åŸåˆ™å’Œå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œè¿™è¡¨æ˜ç±»éœ€è¦è¿›ä¸€æ­¥çš„æ£€æŸ¥å’Œé‡æ„ã€‚å½“ç›´æ¥æ³¨å…¥å­—æ®µæ—¶ï¼Œæ²¡æœ‰è¿™æ ·çš„è­¦å‘Šï¼Œå› ä¸ºè¿™ç§æ–¹æ³•å¯ä»¥æ— é™æ‰©å±•ã€‚\nä¾èµ–éšè— ä½¿ç”¨ä¾èµ–æ³¨å…¥å®¹å™¨æ„å‘³ç€ç±»ä¸å†è´Ÿè´£ç®¡ç†è‡ªå·±çš„ä¾èµ–é¡¹ã€‚è·å–ä¾èµ–é¡¹çš„èŒè´£æ˜¯ä»ç±»ä¸­æå–çš„ã€‚ç”±å…¶ä»–äººç°åœ¨è´Ÿè´£æä¾›ä¾èµ–é¡¹â€”â€”ä¾èµ–æ³¨å…¥å®¹å™¨æˆ–åœ¨æµ‹è¯•ä¸­æ‰‹åŠ¨åˆ†é…å®ƒä»¬ã€‚å½“ç±»ä¸å†è´Ÿè´£è·å–å…¶ä¾èµ–é¡¹æ—¶ï¼Œå®ƒåº”è¯¥ä½¿ç”¨å…¬å…±æ¥å£(æ–¹æ³•æˆ–æ„é€ å‡½æ•°)æ¸…æ¥šåœ°ä¸å®ƒä»¬é€šä¿¡ã€‚\nå°±æ˜¯è¯´ ç±»çš„æˆå‘˜å˜é‡(ä¾èµ–é¡¹)è¢«\"éšè—\"äº†, æŒ‰ç…§ æ§åˆ¶ç¿»è½¬ çš„æ€æƒ³, æˆå‘˜å˜é‡çš„èµ‹å€¼åº”è¯¥åœ¨åˆå§‹åŒ–ç±»æ—¶(æ˜¾ç¤º)å¤„ç† , ä½†æ˜¯ç”±äº fieldæ³¨å…¥æ˜¯åå°„åšçš„, å°±ä¸æ˜¯ç±»çš„ä¸»åŠ¨æ“ä½œäº†,\nä¾èµ–æ³¨å…¥å®¹å™¨è€¦åˆ DIæ¡†æ¶çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€æ˜¯æ‰˜ç®¡ç±»ä¸åº”è¯¥ä¾èµ–äºæ‰€ä½¿ç”¨çš„DIå®¹å™¨ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒåº”è¯¥åªæ˜¯ä¸€ä¸ªæ™®é€šçš„POJOï¼Œå¯ä»¥ç‹¬ç«‹åœ°å®ä¾‹åŒ–å®ƒï¼Œå‰ææ˜¯å°†æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹ä¼ é€’ç»™å®ƒã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥åœ¨å•å…ƒæµ‹è¯•ä¸­å®ä¾‹åŒ–å®ƒï¼Œè€Œä¸éœ€è¦å¯åŠ¨DIå®¹å™¨ï¼Œå¹¶å•ç‹¬æµ‹è¯•å®ƒ(ä½¿ç”¨çš„å®¹å™¨æ›´åƒæ˜¯é›†æˆæµ‹è¯•)ã€‚å¦‚æœæ²¡æœ‰å®¹å™¨è€¦åˆï¼Œåˆ™å¯ä»¥å°†è¯¥ç±»ä½œä¸ºæ‰˜ç®¡æˆ–éæ‰˜ç®¡ç±»ä½¿ç”¨ï¼Œç”šè‡³å¯ä»¥åˆ‡æ¢åˆ°æ–°çš„DIæ¡†æ¶ã€‚\nå°±æ˜¯è¯´, è¦ç”¨beanåº”è¯¥ä»å®¹å™¨ä¸­å–, ä¸èƒ½è‡ªå·±é¢å¤–å»å–, åå°„æ“ä½œå°±æ˜¯è‡ªå·±å»å–äº†\nä¸å˜æ€§ ä¸æ„é€ å‡½æ•°ä¸åŒï¼ŒFieldæ³¨å…¥ä¸èƒ½ç”¨äºå°†ä¾èµ–é¡¹åˆ†é…ç»™æœ€ç»ˆå­—æ®µã€‚\nä¼šé€ æˆå¾ªç¯ä¾èµ–\n2, 3, 4,5 å‡ ç‚¹éƒ½æ˜¯ç”±äº fieldæ–¹å¼æ˜¯åå°„åšçš„, æ‰é€ æˆäº†è¿™ç§æƒ…å†µ, ä½¿ç”¨Field æ³¨å…¥ä¸ä¼šæœ‰åŠŸèƒ½ä¸Šçš„é—®é¢˜, åªæ˜¯è¿èƒŒäº†springçš„è®¾è®¡æ€æƒ³\nSpringæ³¨è§£@Autowiredæºç åˆ†æ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com) å…³äºSpringæ³¨å…¥æ–¹å¼çš„å‡ é“é¢è¯•é¢˜ï¼Œä½ èƒ½ç­”ä¸Šä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com) IDEA æç¤º Field injection is not recommended_Ongoingèœ—ç‰›çš„åšå®¢-CSDNåšå®¢ ç§‘æ™®æ–‡: å¤§ç™½è¯è®²è§£Springçš„@beanæ³¨è§£ - çŸ¥ä¹ (zhihu.com) ä¸€ç±»æ³¨è§£æ˜¯ç”¨äºæ³¨å†ŒBean: @Component , @Repository , @ Controller , @Service , @Configration, @bean ç­‰ç­‰\nä¸€ç±»æ³¨è§£æ˜¯ç”¨äºä½¿ç”¨Bean @Autowired , @Resource ç­‰ç­‰\næœ¬é¢˜ä¸­çš„æ³¨å…¥æ–¹å¼, æŒ‡çš„æ˜¯ beanæ³¨å…¥çš„æŸä¸ªç±»ä¸­, è€Œ @service ç­‰æ³¨è§£æ˜¯æ³¨å…¥çš„å®¹å™¨ä¸­\n","wordCount":"3202","inLanguage":"zh","datePublished":"2023-08-22T00:00:00Z","dateModified":"2023-08-22T00:00:00Z","author":{"@type":"Person","name":"xkj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring/%E9%9D%A2%E8%AF%95/"},"publisher":{"@type":"Organization","name":"ç±³äºŒ","logo":{"@type":"ImageObject","url":"https://xiaokunji.github.io/img/Q.svg"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xiaokunji.github.io/zh/ accesskey=h title="ç±³äºŒ (Alt + H)"><img src=https://xiaokunji.github.io/img/Q.svg alt aria-label=logo height=35>ç±³äºŒ</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://xiaokunji.github.io/en/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://xiaokunji.github.io/zh/ title=ğŸ ä¸»é¡µ><span>ğŸ ä¸»é¡µ</span></a></li><li><a href=https://xiaokunji.github.io/zh/search title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://xiaokunji.github.io/zh/post title=ğŸ“šæ–‡ç« ><span>ğŸ“šæ–‡ç« </span></a></li><li><a href=https://xiaokunji.github.io/zh/archives/ title=â±æ—¶é—´è½´><span>â±æ—¶é—´è½´</span></a></li><li><a href=https://xiaokunji.github.io/zh/tags title=ğŸ”–æ ‡ç­¾><span>ğŸ”–æ ‡ç­¾</span></a></li><li><a href=https://xiaokunji.github.io/zh/categories title=ğŸ“–åˆ†ç±»><span>ğŸ“–åˆ†ç±»</span></a></li><li><a href=https://xiaokunji.github.io/zh/links title=ğŸ¤å‹é“¾><span>ğŸ¤å‹é“¾</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><nav aria-label=breadcrumb><ul><a href=https://xiaokunji.github.io/zh/>ç±³äºŒ</a> <span>></span>
<a href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/>javaåŠå…¶æ¡†æ¶</a> <span>></span>
<a href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring/>Spring</a> <span>></span></ul></nav><h1 class=post-title>é¢è¯•</h1><div class=post-description></div><div class=post-meta><span title='2023-08-22 00:00:00 +0000 UTC'>2023-08-22</span>&nbsp;Â·&nbsp;7 åˆ†é’Ÿ&nbsp;Â·&nbsp;xkj
&nbsp;|&nbsp;åˆ†ç±»: &nbsp;<ul class=post-categories-meta><a href=https://xiaokunji.github.io/zh/categories/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/>javaåŠå…¶æ¡†æ¶</a></ul><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span id=busuanzi_container_page_pv>&nbsp;| è®¿é—®: <span id=busuanzi_value_page_pv></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#beanfactory%e5%92%8capplicationcontext%e6%9c%89%e4%bb%80%e4%b9%88%e5%8c%ba%e5%88%ab aria-label=BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ>BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li><a href=#bean%e5%8a%a0%e8%bd%bd%e8%bf%87%e7%a8%8b aria-label=beanåŠ è½½è¿‡ç¨‹>beanåŠ è½½è¿‡ç¨‹</a></li><li><a href=#spring-%e6%a1%86%e6%9e%b6%e4%b8%ad%e9%83%bd%e7%94%a8%e5%88%b0%e4%ba%86%e5%93%aa%e4%ba%9b%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f aria-label="Spring æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼">Spring æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼</a></li><li><a href=#spring%e6%a1%86%e6%9e%b6%e4%b8%ad%e5%8d%95%e4%be%8bbeans%e6%98%af%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%e7%9a%84%e5%90%97 aria-label=Springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ>Springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ</a></li><li><a href=#spring-bean%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f aria-label="spring beançš„ç”Ÿå‘½å‘¨æœŸ">spring beançš„ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href=#spring-%e4%b8%ad3%e7%a7%8d%e4%be%9d%e8%b5%96%e6%b3%a8%e5%85%a5%e7%9a%84%e6%96%b9%e5%bc%8f aria-label="Spring ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š">Spring ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>[TOC]</p><h1 id=beanfactoryå’Œapplicationcontextæœ‰ä»€ä¹ˆåŒºåˆ«>BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#beanfactoryå’Œapplicationcontextæœ‰ä»€ä¹ˆåŒºåˆ«>#</a></h1><p>Beanå·¥å‚(BeanFactory)æ˜¯Springæ¡†æ¶æœ€æ ¸å¿ƒçš„æ¥å£ï¼Œæä¾›äº†é«˜çº§Iocçš„é…ç½®æœºåˆ¶ï¼</p><p>åº”ç”¨ä¸Šä¸‹æ–‡(ApplicationContext)å»ºç«‹åœ¨BeanFacotryåŸºç¡€ä¹‹ä¸Šï¼Œæä¾›äº†æ›´å¤šé¢å‘åº”ç”¨çš„åŠŸèƒ½ï¼Œå¦‚æœå›½é™…åŒ–ï¼Œå±æ€§ç¼–è¾‘å™¨ï¼Œäº‹ä»¶ç­‰ç­‰ï¼</p><p>beanFactoryæ˜¯springæ¡†æ¶çš„åŸºç¡€è®¾æ–½ï¼Œæ˜¯é¢å‘springæœ¬èº«ï¼ŒApplicationContextæ˜¯é¢å‘ä½¿ç”¨Springæ¡†æ¶çš„å¼€å‘è€…ï¼Œå‡ ä¹æ‰€æœ‰åœºåˆéƒ½ä¼šç”¨åˆ°ApplicationContext.</p><blockquote><p><a href=https://www.jianshu.com/p/b82ceb084adf target=_blank rel=noopener>https://www.jianshu.com/p/b82ceb084adf</a></p></blockquote><h1 id=beanåŠ è½½è¿‡ç¨‹>beanåŠ è½½è¿‡ç¨‹<a hidden class=anchor aria-hidden=true href=#beanåŠ è½½è¿‡ç¨‹>#</a></h1><ol><li><p>æ ¹æ®beanåç§° æŸ¥è¯¢ç¼“å­˜ä¸­æ˜¯å¦å·²å­˜åœ¨(å› ä¸ºæ˜¯å•ä¾‹)</p><blockquote><p><code>context.getBean("person", Person.class);</code></p></blockquote></li><li><p>ç¡®è®¤è¯¥beanåœ¨å·¥å‚ä¸­æ˜¯å¦å·²å®šä¹‰,è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜,æœ‰å®šä¹‰åˆ™å®Œå–„è¯¥beanå¹¶è¿”å›</p></li><li><p>å¦‚æœæ²¡æœ‰å°±ä¼šåˆ›å»ºä¸ªæ–°çš„,å¹¶æ”¾åˆ°beanæ± ä¸­</p><ol><li>æ ¹æ®é…ç½®æ–‡ä»¶(xml.yaml)ç»™beanè®¾ç½®å±æ€§(å¤„ç†å¾ªç¯ä¾èµ–é—®é¢˜(ä»…ä»…æ˜¯å•ä¾‹çš„æƒ…å†µä¸‹))</li><li>åˆå§‹åŒ–bean,å¦‚æœæœ‰è‡ªå®šä¹‰çš„beanåˆå§‹åŒ–æ–¹æ³•,åˆ™ä¼šåœ¨è¿™é‡Œæ‰§è¡Œ</li></ol></li></ol><blockquote><p><a href=https://segmentfault.com/a/1190000012887776#item-4-3 target=_blank rel=noopener>https://segmentfault.com/a/1190000012887776#item-4-3</a>
.</p><p><a href=https://www.jianshu.com/p/b82ceb084adf target=_blank rel=noopener>https://www.jianshu.com/p/b82ceb084adf</a></p></blockquote><h1 id=spring-æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼>Spring æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#spring-æ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼>#</a></h1><p><strong>ä»£ç†æ¨¡å¼</strong>â€”åœ¨AOPå’Œremotingä¸­è¢«ç”¨çš„æ¯”è¾ƒå¤šã€‚</p><p><strong>å•ä¾‹æ¨¡å¼</strong>â€”åœ¨springé…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„beané»˜è®¤ä¸ºå•ä¾‹æ¨¡å¼ã€‚</p><p><strong>æ¨¡æ¿æ–¹æ³•</strong>â€”ç”¨æ¥è§£å†³ä»£ç é‡å¤çš„é—®é¢˜ æ¯”å¦‚. RestTemplate, JmsTemplate, JpaTemplateã€‚ å‰ç«¯æ§åˆ¶å™¨â€”Srpingæä¾›äº†DispatcherServletæ¥å¯¹è¯·æ±‚è¿›è¡Œåˆ†å‘ã€‚ è§†å›¾å¸®åŠ©(View Helper )â€”Springæä¾›äº†ä¸€ç³»åˆ—çš„JSPæ ‡ç­¾ï¼Œé«˜æ•ˆå®æ¥è¾…åŠ©å°†åˆ†æ•£çš„ä»£ç æ•´åˆåœ¨è§†å›¾é‡Œã€‚ ä¾èµ–æ³¨å…¥â€”è´¯ç©¿äºBeanFactory / ApplicationContextæ¥å£çš„æ ¸å¿ƒç†å¿µã€‚</p><p><strong>å·¥å‚æ¨¡å¼</strong>â€”BeanFactoryç”¨æ¥åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ã€‚</p><p><strong>Builderæ¨¡å¼</strong>- è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è§£æbeanæ˜¯æ—¶é‡‡ç”¨builderæ¨¡å¼ï¼Œä¸€æ­¥ä¸€æ­¥åœ°æ„å»ºä¸€ä¸ªbeanDefinition</p><p><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼šSpring ä¸­ç­–ç•¥æ¨¡å¼ä½¿ç”¨æœ‰å¤šä¸ªåœ°æ–¹ï¼Œå¦‚ Bean å®šä¹‰å¯¹è±¡çš„åˆ›å»ºä»¥åŠä»£ç†å¯¹è±¡çš„åˆ›å»ºç­‰ã€‚è¿™é‡Œä¸»è¦çœ‹ä¸€ä¸‹ä»£ç†å¯¹è±¡åˆ›å»ºçš„ç­–ç•¥æ¨¡å¼çš„å®ç°ã€‚ å‰é¢å·²ç»äº†è§£ Spring çš„ä»£ç†æ–¹å¼æœ‰ä¸¤ä¸ª Jdk åŠ¨æ€ä»£ç†å’Œ CGLIB ä»£ç†ã€‚è¿™ä¸¤ä¸ªä»£ç†æ–¹å¼çš„ä½¿ç”¨æ­£æ˜¯ä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼ã€‚</p><h1 id=springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—>Springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#springæ¡†æ¶ä¸­å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„å—>#</a></h1><p>ä¸æ˜¯ï¼ŒSpringæ¡†æ¶ä¸­çš„å•ä¾‹beansä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><h1 id=spring-beançš„ç”Ÿå‘½å‘¨æœŸ>spring beançš„ç”Ÿå‘½å‘¨æœŸ<a hidden class=anchor aria-hidden=true href=#spring-beançš„ç”Ÿå‘½å‘¨æœŸ>#</a></h1><p><img loading=lazy src=https://pic1.zhimg.com/v2-8787f1b3800b71f6234e996d432e0a0c_r.jpg alt=img></p><ol><li>Springå¯åŠ¨ï¼ŒæŸ¥æ‰¾å¹¶åŠ è½½éœ€è¦è¢«Springç®¡ç†çš„beanï¼Œè¿›è¡ŒBeançš„å®ä¾‹åŒ–</li><li>Beanå®ä¾‹åŒ–åå¯¹å°†Beançš„å¼•å…¥å’Œå€¼æ³¨å…¥åˆ°Beançš„å±æ€§ä¸­</li><li>å¦‚æœBeanå®ç°äº†BeanNameAwareæ¥å£çš„è¯ï¼ŒSpringå°†Beançš„Idä¼ é€’ç»™setBeanName()æ–¹æ³•</li><li>å¦‚æœBeanå®ç°äº†BeanFactoryAwareæ¥å£çš„è¯ï¼ŒSpringå°†è°ƒç”¨setBeanFactory()æ–¹æ³•ï¼Œå°†BeanFactoryå®¹å™¨å®ä¾‹ä¼ å…¥</li><li>å¦‚æœBeanå®ç°äº†ApplicationContextAwareæ¥å£çš„è¯ï¼ŒSpringå°†è°ƒç”¨Beançš„setApplicationContext()æ–¹æ³•ï¼Œå°†beanæ‰€åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å¼•ç”¨ä¼ å…¥è¿›æ¥</li><li>å¦‚æœBeanå®ç°äº†BeanPostProcessoræ¥å£ï¼ŒSpringå°±å°†è°ƒç”¨ä»–ä»¬çš„postProcessBeforeInitialization()æ–¹æ³•ã€‚<strong>Spring çš„ AOP å°±æ˜¯åˆ©ç”¨å®ƒå®ç°çš„ã€‚</strong></li><li>å¦‚æœBean å®ç°äº†InitializingBeanæ¥å£ï¼ŒSpringå°†è°ƒç”¨ä»–ä»¬çš„afterPropertiesSet()æ–¹æ³•ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æœbeanä½¿ç”¨init-methodå£°æ˜äº†åˆå§‹åŒ–æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨</li><li>å¦‚æœBean å®ç°äº†BeanPostProcessoræ¥å£ï¼ŒSpringå°±å°†è°ƒç”¨ä»–ä»¬çš„postProcessAfterInitialization()æ–¹æ³•ã€‚</li><li>æ­¤æ—¶ï¼ŒBeanå·²ç»å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†ã€‚ä»–ä»¬å°†ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ï¼Œç›´åˆ°åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯ã€‚</li><li>å¦‚æœbeanå®ç°äº†DisposableBeanæ¥å£ï¼ŒSpringå°†è°ƒç”¨å®ƒçš„destory()æ¥å£æ–¹æ³•ï¼ŒåŒæ ·ï¼Œå¦‚æœbeanä½¿ç”¨äº†destory-method å£°æ˜é”€æ¯æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚</li></ol><blockquote><p>ç®€ç‰ˆ:</p><ol><li>Bean çš„å®ä¾‹åŒ–</li><li>Bean å±æ€§èµ‹å€¼</li><li>Bean çš„åˆå§‹åŒ–</li><li>Bean çš„ä½¿ç”¨</li><li>Bean çš„é”€æ¯</li></ol><p><strong>javaå¯¹è±¡åˆ›å»ºå®ä¾‹åŒ–å’Œåˆå§‹åŒ–çš„åŒºåˆ«</strong></p><p>å®ä¾‹åŒ–ï¼šåœ¨å †ä¸­ç”³è¯·å†…å­˜ç©ºé—´ï¼Œå±æ€§éƒ½æ˜¯é»˜è®¤å€¼</p><p>åˆå§‹åŒ–ï¼šç»™å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼æ“ä½œæˆ–è€…åˆå§‹åŒ–æ–¹æ³•çš„è°ƒç”¨</p></blockquote><p><a href=http://c.biancheng.net/spring/life-cycle.html target=_blank rel=noopener>Spring Beanç”Ÿå‘½å‘¨æœŸ (biancheng.net)</a></p><p><a href=https://zhuanlan.zhihu.com/p/344140024 target=_blank rel=noopener>é¢è¯•å®˜ï¼šè¯·ä½ è¯´ä¸€ä¸‹ Bean çš„ç”Ÿå‘½å‘¨æœŸ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href=https://www.cnblogs.com/pu20065226/p/12206463.html target=_blank rel=noopener>javaç±»çš„åˆå§‹åŒ–å’Œå®ä¾‹åŒ–åŒºåˆ« - pu20065226 - åšå®¢å›­ (cnblogs.com)</a></p><h1 id=spring-ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼>Spring ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š<a hidden class=anchor aria-hidden=true href=#spring-ä¸­3ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼>#</a></h1><ol><li><p>åŸºäº field æ³¨å…¥ï¼ˆå±æ€§æ³¨å…¥ï¼‰</p></li><li><p>åŸºäº setter æ³¨å…¥</p></li><li><p>åŸºäº constructor æ³¨å…¥ï¼ˆæ„é€ å™¨æ³¨å…¥ï¼‰</p><blockquote><p>spring æ–°ç‰ˆæœ¬æ¨èä½¿ç”¨æ„é€ å™¨æ³¨å…¥, å¦‚ä¸‹</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> Svc svc<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#a6e22e>HelpService</span><span style=color:#f92672>(</span> Svc svc<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>svc</span> <span style=color:#f92672>=</span> svc<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥ä½¿ç”¨ lombokçš„ <code>@RequiredArgsConstructor</code> æˆ–è€… <code>@AllArgsConstructor</code> æ¥è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³•, è™½ç„¶è¿™æ ·åšä¹Ÿå®¹æ˜“ è¿åå•ä¸€è´£ä»»åŸåˆ™</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@RequiredArgsConstructor</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @AllArgsConstructor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MdmProjectController</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> MdmProjectService mdmProjectService<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote></li></ol><p>field æ³¨å…¥ï¼Œå°±æ˜¯åœ¨beançš„å˜é‡ä¸Šä½¿ç”¨æ³¨è§£è¿›è¡Œä¾èµ–æ³¨å…¥ã€‚æœ¬è´¨ä¸Šæ˜¯é€šè¿‡<strong>åå°„çš„æ–¹å¼ç›´æ¥æ³¨å…¥åˆ°field</strong>ã€‚è¿™æ˜¯æˆ‘å¹³å¸¸å¼€å‘ä¸­çœ‹çš„æœ€å¤šä¹Ÿæ˜¯æœ€ç†Ÿæ‚‰çš„ä¸€ç§æ–¹å¼ï¼ŒåŒæ—¶ï¼Œä¹Ÿæ­£æ˜¯ Spring å›¢é˜Ÿæ‰€ä¸æ¨èçš„æ–¹å¼ã€‚</p><p>æºç ä½ç½®: <code>org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.java:621</code> <code>5.1.7.RELEASE</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>inject</span><span style=color:#f92672>(</span>Object bean<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> String beanName<span style=color:#f92672>,</span> <span style=color:#a6e22e>@Nullable</span> PropertyValues pvs<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Throwable <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>		<span style=color:#75715e>//è·å–è¦æ³¨å…¥çš„å­—æ®µ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		Field field <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Field<span style=color:#f92672>)</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>member</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>		Object value<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>		<span style=color:#75715e>//å¦‚æœå­—æ®µçš„å€¼æœ‰ç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>cached</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>//ä»ç¼“å­˜ä¸­è·å–å­—æ®µå€¼value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			value <span style=color:#f92672>=</span> resolvedCachedArgument<span style=color:#f92672>(</span>beanName<span style=color:#f92672>,</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>cachedFieldValue</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>		<span style=color:#75715e>//æ²¡æœ‰ç¼“å­˜
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>//åˆ›å»ºä¸€ä¸ªå­—æ®µä¾èµ–æè¿°ç¬¦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			DependencyDescriptor desc <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DependencyDescriptor<span style=color:#f92672>(</span>field<span style=color:#f92672>,</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>required</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			desc<span style=color:#f92672>.</span><span style=color:#a6e22e>setContainingClass</span><span style=color:#f92672>(</span>bean<span style=color:#f92672>.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>			Set<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> autowiredBeanNames <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> LinkedHashSet<span style=color:#f92672>&lt;&gt;(</span>1<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>state</span><span style=color:#f92672>(</span>beanFactory <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;No BeanFactory available&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>//è·å–å®¹å™¨ä¸­çš„ç±»å‹è½¬æ¢å™¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			TypeConverter typeConverter <span style=color:#f92672>=</span> beanFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeConverter</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>				<span style=color:#75715e>//æ ¸å¿ƒï¼è·å–æ³¨å…¥çš„å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>				value <span style=color:#f92672>=</span> beanFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>resolveDependency</span><span style=color:#f92672>(</span>desc<span style=color:#f92672>,</span> beanName<span style=color:#f92672>,</span> autowiredBeanNames<span style=color:#f92672>,</span> typeConverter<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>BeansException ex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> UnsatisfiedDependencyException<span style=color:#f92672>(</span><span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> beanName<span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> InjectionPoint<span style=color:#f92672>(</span>field<span style=color:#f92672>),</span> ex<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>// .... çœç•¥ä»£ç 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>value <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>//æ˜¾å¼ä½¿ç”¨JDKçš„åå°„æœºåˆ¶ï¼Œè®¾ç½®è‡ªåŠ¨çš„è®¿é—®æ§åˆ¶æƒé™ä¸ºå…è®¸è®¿é—®
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			ReflectionUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>makeAccessible</span><span style=color:#f92672>(</span>field<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>//ä¸ºå­—æ®µèµ‹å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			field<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span>bean<span style=color:#f92672>,</span> value<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨Fieldæ³¨å…¥?</strong></p><ol><li><p>è¿åå•ä¸€è´£ä»»åŸåˆ™
æ·»åŠ æ–°çš„ä¾èµ–é¡¹éå¸¸å®¹æ˜“ã€‚æ·»åŠ 6ä¸ªã€10ä¸ªç”šè‡³12ä¸ªä¾èµ–é¡¹æ²¡æœ‰é—®é¢˜ã€‚å½“ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥æ—¶ï¼Œåœ¨æŸä¸€ç‚¹ä¹‹åï¼Œæ„é€ å‡½æ•°å‚æ•°çš„æ•°é‡ä¼šå˜å¾—è¿‡é«˜ï¼Œå¹¶ä¸”å¾ˆæ˜æ˜¾ä¼šå‡ºç°é—®é¢˜ã€‚ä¾èµ–å¤ªå¤šé€šå¸¸æ„å‘³ç€ç±»æœ‰å¤ªå¤šçš„è´£ä»»ã€‚è¿™å¯èƒ½è¿åäº†å•ä¸€èŒè´£åŸåˆ™å’Œå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œè¿™è¡¨æ˜ç±»éœ€è¦è¿›ä¸€æ­¥çš„æ£€æŸ¥å’Œé‡æ„ã€‚å½“ç›´æ¥æ³¨å…¥å­—æ®µæ—¶ï¼Œæ²¡æœ‰è¿™æ ·çš„è­¦å‘Šï¼Œå› ä¸ºè¿™ç§æ–¹æ³•å¯ä»¥æ— é™æ‰©å±•ã€‚</p></li><li><p>ä¾èµ–éšè—
ä½¿ç”¨ä¾èµ–æ³¨å…¥å®¹å™¨æ„å‘³ç€ç±»ä¸å†è´Ÿè´£ç®¡ç†è‡ªå·±çš„ä¾èµ–é¡¹ã€‚è·å–ä¾èµ–é¡¹çš„èŒè´£æ˜¯ä»ç±»ä¸­æå–çš„ã€‚ç”±å…¶ä»–äººç°åœ¨è´Ÿè´£æä¾›ä¾èµ–é¡¹â€”â€”ä¾èµ–æ³¨å…¥å®¹å™¨æˆ–åœ¨æµ‹è¯•ä¸­æ‰‹åŠ¨åˆ†é…å®ƒä»¬ã€‚å½“ç±»ä¸å†è´Ÿè´£è·å–å…¶ä¾èµ–é¡¹æ—¶ï¼Œå®ƒåº”è¯¥ä½¿ç”¨å…¬å…±æ¥å£(æ–¹æ³•æˆ–æ„é€ å‡½æ•°)æ¸…æ¥šåœ°ä¸å®ƒä»¬é€šä¿¡ã€‚</p></li></ol><blockquote><p>å°±æ˜¯è¯´ ç±»çš„æˆå‘˜å˜é‡(ä¾èµ–é¡¹)è¢«"éšè—"äº†, æŒ‰ç…§ æ§åˆ¶ç¿»è½¬ çš„æ€æƒ³, æˆå‘˜å˜é‡çš„èµ‹å€¼åº”è¯¥åœ¨åˆå§‹åŒ–ç±»æ—¶(æ˜¾ç¤º)å¤„ç† , ä½†æ˜¯ç”±äº fieldæ³¨å…¥æ˜¯åå°„åšçš„, å°±ä¸æ˜¯ç±»çš„ä¸»åŠ¨æ“ä½œäº†,</p></blockquote><ol start=3><li><p>ä¾èµ–æ³¨å…¥å®¹å™¨è€¦åˆ
DIæ¡†æ¶çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€æ˜¯æ‰˜ç®¡ç±»ä¸åº”è¯¥ä¾èµ–äºæ‰€ä½¿ç”¨çš„DIå®¹å™¨ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒåº”è¯¥åªæ˜¯ä¸€ä¸ªæ™®é€šçš„POJOï¼Œå¯ä»¥ç‹¬ç«‹åœ°å®ä¾‹åŒ–å®ƒï¼Œå‰ææ˜¯å°†æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹ä¼ é€’ç»™å®ƒã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥åœ¨å•å…ƒæµ‹è¯•ä¸­å®ä¾‹åŒ–å®ƒï¼Œè€Œä¸éœ€è¦å¯åŠ¨DIå®¹å™¨ï¼Œå¹¶å•ç‹¬æµ‹è¯•å®ƒ(ä½¿ç”¨çš„å®¹å™¨æ›´åƒæ˜¯é›†æˆæµ‹è¯•)ã€‚å¦‚æœæ²¡æœ‰å®¹å™¨è€¦åˆï¼Œåˆ™å¯ä»¥å°†è¯¥ç±»ä½œä¸ºæ‰˜ç®¡æˆ–éæ‰˜ç®¡ç±»ä½¿ç”¨ï¼Œç”šè‡³å¯ä»¥åˆ‡æ¢åˆ°æ–°çš„DIæ¡†æ¶ã€‚</p><blockquote><p>å°±æ˜¯è¯´, è¦ç”¨beanåº”è¯¥ä»å®¹å™¨ä¸­å–, ä¸èƒ½è‡ªå·±é¢å¤–å»å–, åå°„æ“ä½œå°±æ˜¯è‡ªå·±å»å–äº†</p></blockquote></li><li><p>ä¸å˜æ€§
ä¸æ„é€ å‡½æ•°ä¸åŒï¼ŒFieldæ³¨å…¥ä¸èƒ½ç”¨äºå°†ä¾èµ–é¡¹åˆ†é…ç»™æœ€ç»ˆå­—æ®µã€‚</p></li><li><p>ä¼šé€ æˆå¾ªç¯ä¾èµ–</p></li></ol><blockquote><p>2, 3, 4,5 å‡ ç‚¹éƒ½æ˜¯ç”±äº fieldæ–¹å¼æ˜¯åå°„åšçš„, æ‰é€ æˆäº†è¿™ç§æƒ…å†µ, ä½¿ç”¨Field æ³¨å…¥ä¸ä¼šæœ‰åŠŸèƒ½ä¸Šçš„é—®é¢˜, åªæ˜¯è¿èƒŒäº†springçš„è®¾è®¡æ€æƒ³</p></blockquote><p><a href=https://cloud.tencent.com/developer/article/1519929 target=_blank rel=noopener>Springæ³¨è§£@Autowiredæºç åˆ†æ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p><a href=https://zhuanlan.zhihu.com/p/377745017 target=_blank rel=noopener>å…³äºSpringæ³¨å…¥æ–¹å¼çš„å‡ é“é¢è¯•é¢˜ï¼Œä½ èƒ½ç­”ä¸Šä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href=https://blog.csdn.net/Li_Ya_Fei/article/details/104448398 target=_blank rel=noopener>IDEA æç¤º Field injection is not recommended_Ongoingèœ—ç‰›çš„åšå®¢-CSDNåšå®¢</a></p><p><a href=https://zhuanlan.zhihu.com/p/99870991 target=_blank rel=noopener>ç§‘æ™®æ–‡: å¤§ç™½è¯è®²è§£Springçš„@beanæ³¨è§£ - çŸ¥ä¹ (zhihu.com)</a></p><blockquote><p>ä¸€ç±»æ³¨è§£æ˜¯ç”¨äºæ³¨å†ŒBean: <code>@Component , @Repository , @ Controller , @Service , @Configration, @bean</code> ç­‰ç­‰</p><p>ä¸€ç±»æ³¨è§£æ˜¯ç”¨äºä½¿ç”¨Bean <code>@Autowired , @Resource</code> ç­‰ç­‰</p><p>æœ¬é¢˜ä¸­çš„æ³¨å…¥æ–¹å¼, æŒ‡çš„æ˜¯ beanæ³¨å…¥çš„æŸä¸ªç±»ä¸­, è€Œ <code>@service</code> ç­‰æ³¨è§£æ˜¯æ³¨å…¥çš„å®¹å™¨ä¸­</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://xiaokunji.github.io/zh/tags/spring/>Spring</a></li><li><a href=https://xiaokunji.github.io/zh/tags/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/>javaåŠå…¶æ¡†æ¶</a></li></ul><nav class=paginav><a class=prev href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/%E9%9D%A2%E8%AF%95/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>é¢è¯•</span></a>
<a class=next href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/spring_boot/%E9%9D%A2%E8%AF%95/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>é¢è¯•</span></a></nav></footer></article></main><footer class=footer><span>Copyright
&copy;
-2023
<a href=https://xiaokunji.github.io/zh/ style=color:#939393>ç±³äºŒ</a>
All Rights Reserved</span>
<span id=busuanzi_container><span class="fa fa-user">ç”¨æˆ·æ•°:</span><span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye">è®¿é—®æ•°:</span><span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>