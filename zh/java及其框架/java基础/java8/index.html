<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>java8 | ç±³äºŒ</title><meta name=keywords content=" ä»‹ç», 1. æ¡ˆä¾‹, 1.1 åŸºæœ¬ä½¿ç”¨, 1.2 å…¶ä»–åº”ç”¨, 2. é«˜é˜¶ä½¿ç”¨, 2.1 å—æ£€å‡½æ•°å¼æ¥å£:, 2.2  æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†, 2.3 è‡ªå®šä¹‰Collector"><meta name=description content="     "><meta name=author content="xkj"><link rel=canonical href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/java8/><link crossorigin=anonymous href=/assets/css/stylesheet.4e0011f750c7441f57e7cdbfd7afb83ad2ac4efdcdb4adebee9988b40de3f85c.css integrity="sha256-TgAR91DHRB9X582/16+4OtKsTv3NtK3r7pmItA3j+Fw=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://xiaokunji.github.io/img/Q.svg><link rel=icon type=image/png sizes=16x16 href=https://xiaokunji.github.io/img/Q.svg><link rel=icon type=image/png sizes=32x32 href=https://xiaokunji.github.io/img/Q.svg><link rel=apple-touch-icon href=https://xiaokunji.github.io/Q.svg><link rel=mask-icon href=https://xiaokunji.github.io/Q.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/java8/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="java8"><meta property="og:description" content="     "><meta property="og:type" content="article"><meta property="og:url" content="https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/java8/"><meta property="article:section" content="javaåŠå…¶æ¡†æ¶"><meta property="article:published_time" content="2023-08-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="java8"><meta name=twitter:description content="     "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":5,"name":"java8","item":"https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/java8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"java8","name":"java8","description":"     ","keywords":[" ä»‹ç»"," 1. æ¡ˆä¾‹"," 1.1 åŸºæœ¬ä½¿ç”¨"," 1.2 å…¶ä»–åº”ç”¨"," 2. é«˜é˜¶ä½¿ç”¨"," 2.1 å—æ£€å‡½æ•°å¼æ¥å£:"," 2.2  æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†"," 2.3 è‡ªå®šä¹‰Collector"],"articleBody":"[TOC]\nä»‹ç» streamçš„ä¼˜åŠ¿:\nå¦‚è¡¨1-1ä¸­æ‰€ç¤ºï¼ŒStreamä¸­çš„æ“ä½œå¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸­é—´æ“ä½œä¸ç»“æŸæ“ä½œï¼Œ\nä¸­é—´æ“ä½œåªæ˜¯å¯¹æ“ä½œè¿›è¡Œäº†è®°å½•ï¼Œåªæœ‰ç»“æŸæ“ä½œæ‰ä¼šè§¦å‘å®é™…çš„è®¡ç®—ï¼ˆå³æƒ°æ€§æ±‚å€¼ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯Streamåœ¨è¿­ä»£å¤§é›†åˆæ—¶é«˜æ•ˆçš„åŸå› ä¹‹ä¸€ã€‚\nä¸­é—´æ“ä½œåˆå¯ä»¥åˆ†ä¸ºæ— çŠ¶æ€ï¼ˆStatelessï¼‰æ“ä½œä¸æœ‰çŠ¶æ€ï¼ˆStatefulï¼‰æ“ä½œï¼Œå‰è€…æ˜¯æŒ‡å…ƒç´ çš„å¤„ç†ä¸å—ä¹‹å‰å…ƒç´ çš„å½±å“ï¼›åè€…æ˜¯æŒ‡è¯¥æ“ä½œåªæœ‰æ‹¿åˆ°æ‰€æœ‰å…ƒç´ ä¹‹åæ‰èƒ½ç»§ç»­ä¸‹å»ã€‚\nç»“æŸæ“ä½œåˆå¯ä»¥åˆ†ä¸ºçŸ­è·¯ä¸éçŸ­è·¯æ“ä½œï¼Œè¿™ä¸ªåº”è¯¥å¾ˆå¥½ç†è§£ï¼Œå‰è€…æ˜¯æŒ‡é‡åˆ°æŸäº›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆç»“æœï¼›è€Œåè€…æ˜¯æŒ‡å¿…é¡»å¤„ç†æ‰€æœ‰å…ƒç´ æ‰èƒ½å¾—åˆ°æœ€ç»ˆç»“æœã€‚\næ¥è‡ª http://www.cnblogs.com/Dorae/p/7779246.html å¤§æ¦‚æ€»ç»“ä¸€ä¸‹: æµå¼è¿­ä»£é›†åˆæ“ä½œ,ä¸­é—´æ“ä½œä¸ä¼šå®é™…è®¡ç®—,è€Œä¸”ä¼šå¹¶è¡Œå¤„ç†,(ä¸€ä¸ªæ•°æ®ä¼šåŒæ—¶è¢«å¤„ç†),ç­‰åˆ°äº†ç»“æŸæ“ä½œæ‰ä¼šè§¦å‘æ“ä½œ(å’Œsparkå¾ˆåƒ),java8çš„foreachè¿˜æœ‰å¹¶å‘å¤„ç†,åœ¨æ•°æ®é‡å¾ˆå¤§æ—¶foreachå’Œæµå¼çš„ä¼˜åŠ¿æ‰ä¼šä½“ç°\n1. æ¡ˆä¾‹ å‡½æ•°å¼æ¥å£(å¯¼è¯»): é‚£äº›åœ°æ–¹å¯ä»¥ç”¨,çœ‹æµçš„å…¥å‚å°±è¡Œäº†\nFunction =\u003e å‡½æ•°,æœ‰è¾“å…¥æœ‰è¾“å‡º å‚å…¥å‚æ•°T , è¿”å› R (ç”¨å¾—å¤š)\npredicate =\u003e è°“è¯/åˆ¤å®š, æœ‰è¾“å…¥,è¿”å›å¸ƒå°”å€¼,ä¸»è¦ä½œä¸ºä¸€ä¸ªè°“è¯æ¼”ç®—æ¨å¯¼çœŸå‡å€¼å­˜åœ¨ (ç”¨å¾—å¤š)\nconsumer =\u003e è°“è¯/æ¶ˆè´¹,æœ‰è¾“å…¥æ— è¾“å‡º,\nsupplier =\u003e æä¾›, æ— è¾“å…¥æœ‰è¾“å‡º,\n(ç‰¹æ®Š) Operator =\u003e ç»§æ‰¿äº BiFunction ,æ‰€ä»¥ä¹Ÿå±äºfunction, ç®—å­OperatoråŒ…æ‹¬ï¼šUnaryOperatorå’ŒBinaryOperatorã€‚åˆ†åˆ«å¯¹åº”å•å…ƒç®—å­å’ŒäºŒå…ƒç®—å­ã€‚å…¶ä¸­BinaryOperator å¯ç”¨äºreduce\næ¥è‡ª https://blog.csdn.net/lz710117239/article/details/76192629 æ¥è‡ª http://www.sohu.com/a/123958799_465959 1.1 åŸºæœ¬ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // Function =\u003e å°±æ˜¯ä¸€ä¸ªå‡½æ•°,æœ‰è¾“å…¥è¾“å‡º // æ¥æ”¶ä¸€ä¸ªå‚æ•° Function\u003cInteger, Integer\u003e add = x -\u003e x + 1; System.out.println(add.apply(4)); // è¾“å‡º: 5 // æ¥æ”¶ä¸¤ä¸ªå‚æ•° BiFunction\u003cString, Integer, Person\u003e addxy2Str = (x, y) -\u003e new Person(x, y); System.out.println(addxy2Str.apply(\"xkj\", 6)); // è¾“å‡º: å¯¹è±¡ä¿¡æ¯ String nameStr=\"xkj,xkq,xkk,qoo\"; List\u003cString\u003e nameList = Arrays.asList(nameStr.split(\",\")); List\u003cPerson\u003e personList = new ArrayList\u003c\u003e(); Person p1=new Person(\"xkj\", 4); personList.add(p1); // PredicateÂ =\u003e å¯ä»¥ç”¨æ¥è¿‡æ»¤,æŸ¥æ‰¾ //åŠŸèƒ½:æ‰¾åˆ°å« xkj çš„å­—ç¬¦ä¸²Â =\u003eÂ è¿”å›é›†åˆÂ || è¿”å›å¸ƒå°” Predicate\u003cString\u003e isConxkj= n-\u003en.contains(\"xkj\"); List\u003cString\u003e xkjInfo = nameList.stream().filter(isConxkj).collect(Collectors.toList());//æŒ‰ isConxkj è¿‡æ»¤ boolean isHaveXkj = nameList.stream().anyMatch(isConxkj); // æŒ‰isConxkj æ‰¾åˆ°ä»»æ„ä¸€ä¸ªå°±è¡Œ System.out.println(xkjInfo); // è¾“å‡ºÂ :Â xkj System.out.println(isHaveXkj); // è¾“å‡º: true // Consumer =\u003e åªæœ‰å…¥å‚æ²¡æœ‰è¿”å‚,å¯ä»¥åšä¸€äº›æ•°æ®å¤„ç† å¯ä»¥ç”¨åœ¨forEachä¸­ç»™listä¿®æ”¹å±æ€§å€¼, Consumer\u003cPerson\u003e addPrefix = p-\u003ep.setAge(30);; personList.forEach(System.out::println);//ä¿®æ”¹å‰Â // è¾“å‡º:Person [name=xkj, age=4] personList.stream().forEach(addPrefix); personList.forEach(System.out::println);//ä¿®æ”¹åÂ // è¾“å‡º : Person [name=xkj, age=30] //Supplier =\u003e å¯ä»¥ç”¨æ¥å–é…ç½®ä¿¡æ¯(è¿˜æ˜¯å®šä¹‰å˜é‡æ¥çˆ½),è¿˜æœ‰newå¯¹è±¡(æˆ‘æ„Ÿè§‰è¿˜æ˜¯ç›´æ¥newçˆ½å¿«)Â (æš‚æ—¶ä¸çŸ¥é“åœºæ™¯) Supplier\u003cPerson\u003e person=Person::new; Person p = person.get(); // æ¯ä¸ªgetéƒ½æ˜¯ä¸ªæ–°çš„å¯¹è±¡ System.out.println(p);Â //è¾“å‡º: Person [name=null, age=0] /** * åˆ¤æ–­è¯­å¥æ˜¯å¦æ­£ç¡®æ‰§è¡Œ,è¿”å›è¯­å¥çš„è¿”å›å€¼,æŠ¥é”™åˆ™ä¸ºnull * æ¯”å¦‚,ä¼ å…¥æ ¼å¼åŒ–æ—¶é—´è¯­å¥,ç¡®å®šæ—¶é—´æ˜¯å¦åˆæ³• */ public static \u003cT\u003e T of(Supplier\u003c? extends T\u003e supplier) { try { return supplier.get(); } catch (Throwable t) { return null; } } @Test public void testCollect() { initInfo(); Predicate\u003cString\u003e isConxkj= n-\u003en.contains(\"xk\"); //æŒ‰ isConxkj è®¡æ•° Long xkjCount = nameList.stream().filter(isConxkj).collect(Collectors.counting()); System.out.println(xkjCount); //æŒ‰ isConxkj åˆ†åŒºå¹¶å¯¹ç»“æœè®¡æ•° (å»æ‰åé¢çš„è®¡æ•°å‡½æ•°,å°±å¯ä»¥å¾—åˆ°å…·ä½“çš„å€¼) Map\u003cBoolean, Long\u003e xkjCountMap = nameList.stream().collect(Collectors.partitioningBy(n-\u003en.contains(\"xk\"),Collectors.counting())); System.out.println(xkjCountMap); //æŒ‰ isConxkj è¿‡æ»¤,å¾—åˆ°çš„ç»“æœç”¨,è¿æ¥ String xkJoin = nameList.stream().filter(isConxkj).collect(Collectors.joining(\",\")); System.out.println(xkJoin); //æŒ‰ isConxkj è¿‡æ»¤,å¾—åˆ°çš„ç»“æœç”¨,è¿æ¥ Map\u003cObject, Object\u003e xkMap = nameList.stream().filter(isConxkj).collect(Collectors.toMap(k-\u003ek+\"_zz\", v-\u003ev)); System.out.println(xkMap); //æŒ‰ åå­—map,personä¸ºval Map\u003cObject, Person\u003e xkMapByName = personList.stream().collect(Collectors.toMap(p-\u003ep.getName(),p-\u003ep)); System.out.println(xkMapByName); //åˆ†ç»„åå»æœ€å¤§å€¼ Map\u003cInteger, Optional\u003cUsers\u003e\u003e collect = users.stream().collect(Collectors.groupingBy(Users::getAge, Collectors.maxBy(Comparator.comparing(Users::getId)))); // https://www.jianshu.com/p/21b20c375599 æ›´å¤šä½¿ç”¨åˆ†ç»„ // https://cloud.tencent.com/developer/article/1863390 // æŒ‰å¹´é¾„åˆ†ç»„ Map\u003cInteger, List\u003cPerson\u003e\u003e groupMapByAge = personList.stream().collect(Collectors.groupingBy(p-\u003ep.getAge())); System.out.println(groupMapByAge); // ç”¨mapæ“ä½œæ•°å€¼ç±»å‹æ—¶æ˜¯æœ‰è£…ç®±å¤„ç†çš„,å¤šå°‘æœ‰æŸè€—,ç”¨mapToLongå°±æ˜¯å°†å€¼å˜æˆåŸºæœ¬ç±»å‹,ç„¶åç”¨boxedå˜æˆæ™®é€šæµ Long decrease = ageList.stream().mapToLong(a-\u003ea).boxed().reduce((x,y)-\u003ex-y).orElse(0L); System.out.println(decrease); // åˆå¹¶list List\u003cServiceOrder\u003e serviceOrderList = new ArrayList\u003c\u003e(); List\u003cString\u003e projectNoAll = serviceOrderList.stream().flatMap(s-\u003es.getProjectNos().stream()).collect(Collectors.toList()); List\u003cAClass\u003e unionResult = Stream.of(serviceOrderList, serviceOrderList).flatMap(Collection::stream).collect(Collectors.toList()); @Test public void testMR() { initInfo(); BinaryOperator\u003cString\u003e lk = (x, y) -\u003e x + y; Optional\u003cString\u003e reduceStr = nameList.stream().map(n -\u003e n).reduce(lk);//å°†æ‰€æœ‰çš„å€¼æ‹¼èµ·æ¥ System.out.println(reduceStr.get()); } T reduce(T identity, BinaryOperator accumulator)\nç›¸å¯¹äºä¸€ä¸ªå‚æ•°çš„æ–¹æ³•æ¥è¯´ï¼Œå®ƒå¤šäº†ä¸€ä¸ªTç±»å‹çš„å‚æ•°ï¼›å®é™…ä¸Šå°±ç›¸å½“äºéœ€è¦è®¡ç®—çš„å€¼åœ¨Streamçš„åŸºç¡€ä¸Šå¤šäº†ä¸€ä¸ªåˆå§‹åŒ–çš„å€¼ eg.\n1 2 Stream\u003cString\u003e s = Stream.of(\"test\", \"t1\", \"t2\", \"teeeee\", \"aaaa\", \"taaa\"); System.out.println(s.reduce(\"[value]:\", (s1, s2) -\u003e s1.concat(s2))); // [value]:testt1t2teeeeeaaaataaa æ¥è‡ª https://blog.csdn.net/icarusliu/article/details/79504602 1.2 å…¶ä»–åº”ç”¨ json æ ¼å¼åŒ–ä½¿ç”¨, å€¼ä¸ä¸ºnullçš„æ‰è¾“å‡º\n1 2 3 4 return JSON.toJSONString(val,(PropertyFilter)((obj, name, value) -\u003e value != null)); // NameFilter: å¤„ç†nameå­—æ®µ,(æ¯”å¦‚å¯¹nameåŠ ä¸ªåç¼€) // ValueFilter: å¤„ç†valueå­—æ®µ,(æ¯”å¦‚å¯¹valueåŠ ä¸ªåç¼€) // PropertyFilter: å¤„ç†objå­—æ®µ 2. é«˜é˜¶ä½¿ç”¨ 2.1 å—æ£€å‡½æ•°å¼æ¥å£: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 package com.gree.ecommerce.utils.function; import java.util.Optional; /** * (æ£€æŸ¥)æŠ›å‡ºlambdaä¸­å¼‚å¸¸æƒ…å†µ * * @author A80080 * @createDate 2021/4/21 */ public interface CheckFun { interface Function\u003cT, R\u003e { /** * Functionç±»å‹ * * @param function å¤„ç†å‡½æ•° * @param p å…¥å‚ * @return å¤„ç†ç»“æœ, æŠ¥é”™è¿”å› Optional.empty(); * @author A80080 * @createDate 2021/4/21 */ static \u003cT, R\u003e Optional\u003cR\u003e tryOf(Function\u003cT, R\u003e function, T p) { try { return Optional.ofNullable(function.apply(p)); } catch (Throwable t) { return Optional.empty(); } } /** * å‚ç…§ java.util.function.Function * * @param t å…¥å‚ * @return R ç±»å‹æ•°æ® * @throws Exception å¼‚å¸¸ * @author A80080 * @createDate 2021/4/21 */ R apply(T t) throws Exception; } interface Supplier\u003cT\u003e { /** * Supplier ç±»å‹ * * @param supplier å¤„ç†å‡½æ•° * @return è¿”å›è¯­å¥çš„è¿”å›å€¼(optional), æŠ¥é”™åˆ™ä¸ºOptional.empty() * @author A80080 */ static \u003cT\u003e Optional\u003cT\u003e tryOf(CheckFun.Supplier\u003c? extends T\u003e supplier) { try { return Optional.ofNullable(supplier.get()); } catch (Throwable t) { return Optional.empty(); } } /** * å‚ç…§ java.util.function.Supplier * * @return T ç±»å‹ * @throws Exception å¼‚å¸¸ * @author A80080 * @createDate 2021/4/21 */ T get() throws Exception; } interface Consumer\u003cT\u003e { /** * consumer ç±»å‹ * æŠ¥é”™å°†å¿½ç•¥ * * @param consumer å¤„ç†å‡½æ•° * @param p å…¥å‚ * @author A80080 * @createDate 2021/4/21 */ static \u003cT\u003e void tryOf(CheckFun.Consumer\u003cT\u003e consumer, T p) { try { consumer.accept(p); } catch (Throwable ignored) { } } /** * å‚ç…§ java.util.function.Consumer * * @param t å…¥å‚ * @throws Exception å¼‚å¸¸ * @author A80080 * @createDate 2021/4/21 */ void accept(T t) throws Exception; } interface Predicate\u003cT\u003e { /** * Predicateç±»å‹ * * @param predicate å¤„ç†å‡½æ•° * @param p å…¥å‚ * @return å¤„ç†ç»“æœ, æŠ¥é”™è¿”å› false * @author A80080 * @createDate 2021/4/21 */ static \u003cT\u003e boolean tryOf(CheckFun.Predicate\u003cT\u003e predicate, T p) { try { return predicate.test(p); } catch (Throwable t) { return false; } } /** * å‚ç…§ java.util.function.Predicate * * @param t å…¥å‚ * @return boolean * @throws Exception å¼‚å¸¸ * @author A80080 * @createDate 2021/4/21 */ boolean test(T t) throws Exception; } } // ä½¿ç”¨æ¡ˆä¾‹ @Test public void test() { Stream.of(\"uNameCookie\", \"uidCookie\", \"loginNameCookie\", \"loginStatusCookie\", \"mobileLoginTokenCookie\") .filter(c-\u003e!CheckFun.Predicate.tryOf(a-\u003eURLEncoder.encode(c, \"utf-8\").equals(\"\"),c)) .peek(c -\u003e c.concat(CheckFun.Supplier.tryOf(() -\u003e URLEncoder.encode(c, \"utf-8\")).orElse(c))) .map(c -\u003e c.concat(CheckFun.Function.tryOf(a -\u003e URLEncoder.encode(a, \"utf-8\"), c).orElse(c))) .peek(c -\u003e CheckFun.Consumer.tryOf(x -\u003e c.concat(URLEncoder.encode(x, \"utf-8\")), c)) .forEach(System.out::println); } 2.2 æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ @Test public void should_return_2_because_distinct_by_age() { userList = userList.stream() .filter(distinctByKey(User::getName)) .collect(Collectors.toList()); userList.forEach(System.out::println); assertEquals(2, userList.size()); } private static \u003cT, R\u003e Predicate\u003cT\u003e distinctByKey(Function\u003cT, R\u003e keyExtractor) { Set\u003cR\u003e seen = ConcurrentHashMap.newKeySet(); return t -\u003e seen.add(keyExtractor.apply(t)); } // é“¾æ¥ï¼šhttps://hacpai.com/article/1545321970124 divideBatchHandler(nameList,System.out::println); } /** * è¿ç”¨åœºæ™¯:å½“æ•°æ®é‡è¿‡å¤§,éœ€è¦åˆ†æ‰¹å¤„ç†æ—¶ * @author xkj * @param dataList éœ€è¦å¤„ç†çš„æ•°æ® * @param consumer å¤„ç†å‡½æ•° * @since */ public \u003cT\u003e void divideBatchHandler(List\u003cT\u003e dataList, Consumer\u003cList\u003cT\u003e\u003e consumer) { Optional.ofNullable(dataList).ifPresent(list -\u003e IntStream.range(0, list.size()) .mapToObj(i -\u003e new AbstractMap.SimpleImmutableEntry\u003c\u003e(i, list.get(i)))// ç»™æ•°æ®ç¼–å· .collect(Collectors.groupingBy( e -\u003e e.getKey() / 10, Collectors.mapping(Map.Entry::getValue, Collectors.toList()))) // æŒ‰ç¼–å·åˆ†æ‰¹å¹¶åˆå¹¶ç¼–å·å¯¹åº”çš„å€¼ .values() .parallelStream()// å¹¶è¡Œå¤„ç† .forEach(consumer) // æ‰§è¡Œå¤„ç†å‡½æ•° ); } 2.3 è‡ªå®šä¹‰Collector Collectorä¸»è¦åŒ…å«äº”ä¸ªå‚æ•°ï¼Œå®ƒçš„è¡Œä¸ºä¹Ÿæ˜¯ç”±è¿™äº”ä¸ªå‚æ•°æ¥å®šä¹‰çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nCollectorå®ç°çš„ä¸‰ä¸ªæ³›å‹å…·ä½“æ˜¯ä»€ä¹ˆï¼š\nTï¼ˆè¾“å…¥çš„å…ƒç´ ç±»å‹ï¼‰ï¼šT Aï¼ˆç´¯ç§¯ç»“æœçš„å®¹å™¨ç±»å‹ï¼‰ï¼š Rï¼ˆæœ€ç»ˆç”Ÿæˆçš„ç»“æœç±»å‹ï¼‰ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 public interface Collector\u003cT, A, R\u003e { // supplierå‚æ•°ç”¨äºç”Ÿæˆç»“æœå®¹å™¨ï¼Œå®¹å™¨ç±»å‹ä¸ºA Supplier\u003cA\u003e supplier(); // accumulatorç”¨äºæ¶ˆè´¹å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯å½’çº³å…ƒç´ ï¼Œè¿™é‡Œçš„Tå°±æ˜¯å…ƒç´ ï¼Œå®ƒä¼šå°†æµä¸­çš„å…ƒç´ ä¸€ä¸ªä¸€ä¸ªä¸ç»“æœå®¹å™¨Aå‘ç”Ÿæ“ä½œ BiConsumer\u003cA, T\u003e accumulator(); // combinerç”¨äºä¸¤ä¸ªä¸¤ä¸ªåˆå¹¶å¹¶è¡Œæ‰§è¡Œçš„çº¿ç¨‹çš„æ‰§è¡Œç»“æœï¼Œå°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªæœ€ç»ˆç»“æœA BinaryOperator\u003cA\u003e combiner(); // finisherç”¨äºå°†ä¹‹å‰æ•´åˆå®Œçš„ç»“æœRè½¬æ¢æˆä¸ºA Function\u003cA, R\u003e finisher(); // characteristicsè¡¨ç¤ºå½“å‰Collectorçš„ç‰¹å¾å€¼ï¼Œè¿™æ˜¯ä¸ªä¸å¯å˜Set Set\u003cCharacteristics\u003e characteristics(); } æšä¸¾å¸¸é‡Characteristics ä¸­å…±æœ‰ä¸‰ä¸ªç‰¹å¾å€¼ï¼Œå®ƒä»¬çš„å…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š\nCONCURRENTï¼šè¡¨ç¤ºç»“æœå®¹å™¨åªæœ‰ä¸€ä¸ªï¼ˆå³ä½¿æ˜¯åœ¨å¹¶è¡Œæµçš„æƒ…å†µä¸‹ï¼‰ã€‚åªæœ‰åœ¨å¹¶è¡Œæµä¸”æ”¶é›†å™¨ä¸å…·å¤‡æ­¤ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œcombiner()è¿”å›çš„lambdaè¡¨è¾¾å¼æ‰ä¼šæ‰§è¡Œï¼ˆä¸­é—´ç»“æœå®¹å™¨åªæœ‰ä¸€ä¸ªå°±æ— éœ€åˆå¹¶ï¼‰ã€‚è®¾ç½®æ­¤ç‰¹æ€§æ—¶æ„å‘³ç€å¤šä¸ªçº¿ç¨‹å¯ä»¥å¯¹åŒä¸€ä¸ªç»“æœå®¹å™¨è°ƒç”¨ï¼Œå› æ­¤ç»“æœå®¹å™¨å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nUNORDEREDï¼šè¡¨ç¤ºæµä¸­çš„å…ƒç´ æ— åºã€‚\nIDENTITY_FINISHï¼šè¡¨ç¤ºä¸­é—´ç»“æœå®¹å™¨ç±»å‹ä¸æœ€ç»ˆç»“æœç±»å‹ä¸€è‡´ã€‚è®¾ç½®æ­¤ç‰¹æ€§æ—¶finiser()æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 /** è¯¥æ¡ˆä¾‹ä½œç”¨: å¯¹é›†åˆå…ƒç´  æ±‚å’Œå¹¶è½¬æˆå­—ç¬¦ä¸² */ @Test public void Test(){ // 1. ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸´æ—¶å€¼çš„å®¹å™¨ // 2. ç¬¬äºŒä¸ªå‚æ•°æ˜¯æŠŠå…¥å‚æ”¾åˆ°å®¹å™¨ä¸­ // 3. ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æŠŠç¬¬äºŒæ­¥çš„å€¼åšä¸€ä¸ªç»“åˆæ”¾åˆ°å®¹å™¨ä¸­ // 4. ç¬¬å››ä¸ªå‚æ•°æŠŠå®¹å™¨ä¸­çš„å€¼è½¬åŒ–æˆç»“æœç±»å‹ // 5. ç¬¬äº”ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç‰¹å¾å€¼ BiConsumer\u003cList\u003cLong\u003e, Long\u003e accumulator = (x, y) -\u003e { x.add(y); return; }; BinaryOperator\u003cList\u003cLong\u003e\u003e combiner = (x, y) -\u003e { x.addAll(y); return x; }; Function\u003cList\u003cLong\u003e, String\u003e func = x -\u003e String.valueOf(x.stream().mapToLong(y-\u003e y).sum()); Collector\u003cLong, List\u003cLong\u003e, String\u003e longSupplier = Collector.of(ArrayList::new, accumulator, combiner,func, Collector.Characteristics.UNORDERED); String collect = Stream.of(1, 1, 2, 2) .map(Long::new) .collect(longSupplier); System.out.println(\"collect = \" + collect); } java8æ–°ç‰¹æ€§(å››) Collectorï¼ˆæ”¶é›†å™¨ï¼‰_æˆæµå¹´çš„åšå®¢-CSDNåšå®¢_collector JavaåŸºç¡€ç³»åˆ—-Collectorå’ŒCollectors - ç®€ä¹¦ (jianshu.com) ","wordCount":"3496","inLanguage":"zh","datePublished":"2023-08-22T00:00:00Z","dateModified":"2023-08-22T00:00:00Z","author":{"@type":"Person","name":"xkj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/java8/"},"publisher":{"@type":"Organization","name":"ç±³äºŒ","logo":{"@type":"ImageObject","url":"https://xiaokunji.github.io/img/Q.svg"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xiaokunji.github.io/zh/ accesskey=h title="ç±³äºŒ (Alt + H)"><img src=https://xiaokunji.github.io/img/Q.svg alt aria-label=logo height=35>ç±³äºŒ</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://xiaokunji.github.io/en/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://xiaokunji.github.io/zh/ title=ğŸ ä¸»é¡µ><span>ğŸ ä¸»é¡µ</span></a></li><li><a href=https://xiaokunji.github.io/zh/search title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://xiaokunji.github.io/zh/post title=ğŸ“šæ–‡ç« ><span>ğŸ“šæ–‡ç« </span></a></li><li><a href=https://xiaokunji.github.io/zh/archives/ title=â±æ—¶é—´è½´><span>â±æ—¶é—´è½´</span></a></li><li><a href=https://xiaokunji.github.io/zh/tags title=ğŸ”–æ ‡ç­¾><span>ğŸ”–æ ‡ç­¾</span></a></li><li><a href=https://xiaokunji.github.io/zh/categories title=ğŸ“–åˆ†ç±»><span>ğŸ“–åˆ†ç±»</span></a></li><li><a href=https://xiaokunji.github.io/zh/links title=ğŸ¤å‹é“¾><span>ğŸ¤å‹é“¾</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><nav aria-label=breadcrumb><ul><a href=https://xiaokunji.github.io/zh/>ç±³äºŒ</a> <span>></span>
<a href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/>javaåŠå…¶æ¡†æ¶</a> <span>></span>
<a href=https://xiaokunji.github.io/zh/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/java%E5%9F%BA%E7%A1%80/>JavaåŸºç¡€</a> <span>></span></ul></nav><h1 class=post-title>java8</h1><div class=post-description></div><div class=post-meta><span title='2023-08-22 00:00:00 +0000 UTC'>2023-08-22</span>&nbsp;Â·&nbsp;7 åˆ†é’Ÿ&nbsp;Â·&nbsp;xkj
&nbsp;|&nbsp;åˆ†ç±»: &nbsp;<ul class=post-categories-meta><a href=https://xiaokunji.github.io/zh/categories/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/>javaåŠå…¶æ¡†æ¶</a></ul><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span id=busuanzi_container_page_pv>&nbsp;| è®¿é—®: <span id=busuanzi_value_page_pv></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e4%bb%8b%e7%bb%8d aria-label=ä»‹ç»>ä»‹ç»</a></li><li><a href=#1-%e6%a1%88%e4%be%8b aria-label="1. æ¡ˆä¾‹">1. æ¡ˆä¾‹</a><ul><li><a href=#11-%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8 aria-label="1.1 åŸºæœ¬ä½¿ç”¨">1.1 åŸºæœ¬ä½¿ç”¨</a></li><li><a href=#12-%e5%85%b6%e4%bb%96%e5%ba%94%e7%94%a8 aria-label="1.2 å…¶ä»–åº”ç”¨">1.2 å…¶ä»–åº”ç”¨</a></li></ul></li><li><a href=#2-%e9%ab%98%e9%98%b6%e4%bd%bf%e7%94%a8 aria-label="2. é«˜é˜¶ä½¿ç”¨">2. é«˜é˜¶ä½¿ç”¨</a><ul><li><a href=#21-%e5%8f%97%e6%a3%80%e5%87%bd%e6%95%b0%e5%bc%8f%e6%8e%a5%e5%8f%a3 aria-label="2.1 å—æ£€å‡½æ•°å¼æ¥å£:">2.1 å—æ£€å‡½æ•°å¼æ¥å£:</a></li><li><a href=#22--%e6%a0%b9%e6%8d%ae%e7%b1%bb%e4%b8%ad%e6%9f%90%e4%b8%aa%e5%ad%97%e6%ae%b5%e5%8e%bb%e9%87%8d%e4%bb%a5%e5%8f%8a%e5%88%86%e9%a1%b5%e5%a4%84%e7%90%86 aria-label="2.2  æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†">2.2 æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†</a></li><li><a href=#23-%e8%87%aa%e5%ae%9a%e4%b9%89collector aria-label="2.3 è‡ªå®šä¹‰Collector">2.3 è‡ªå®šä¹‰Collector</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>[TOC]</p><h1 id=ä»‹ç»>ä»‹ç»<a hidden class=anchor aria-hidden=true href=#ä»‹ç»>#</a></h1><p><strong>streamçš„ä¼˜åŠ¿:</strong></p><p><img loading=lazy src=https://gitee.com/xiaokunji/my-images/raw/master/myMD/java8-steam.png alt=image-20210429111143136></p><p>å¦‚è¡¨1-1ä¸­æ‰€ç¤ºï¼Œ<strong>Streamä¸­çš„æ“ä½œå¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»</strong>ï¼š<u>ä¸­é—´æ“ä½œä¸ç»“æŸæ“ä½œ</u>ï¼Œ</p><p>â€ƒâ€ƒä¸­é—´æ“ä½œåªæ˜¯å¯¹æ“ä½œè¿›è¡Œäº†è®°å½•ï¼Œåªæœ‰ç»“æŸæ“ä½œæ‰ä¼šè§¦å‘å®é™…çš„è®¡ç®—ï¼ˆå³æƒ°æ€§æ±‚å€¼ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯Streamåœ¨è¿­ä»£å¤§é›†åˆæ—¶é«˜æ•ˆçš„åŸå› ä¹‹ä¸€ã€‚</p><p>â€ƒâ€ƒä¸­é—´æ“ä½œåˆå¯ä»¥åˆ†ä¸ºæ— çŠ¶æ€ï¼ˆStatelessï¼‰æ“ä½œä¸æœ‰çŠ¶æ€ï¼ˆStatefulï¼‰æ“ä½œï¼Œå‰è€…æ˜¯æŒ‡å…ƒç´ çš„å¤„ç†ä¸å—ä¹‹å‰å…ƒç´ çš„å½±å“ï¼›åè€…æ˜¯æŒ‡è¯¥æ“ä½œåªæœ‰æ‹¿åˆ°æ‰€æœ‰å…ƒç´ ä¹‹åæ‰èƒ½ç»§ç»­ä¸‹å»ã€‚</p><p>â€ƒâ€ƒç»“æŸæ“ä½œåˆå¯ä»¥åˆ†ä¸ºçŸ­è·¯ä¸éçŸ­è·¯æ“ä½œï¼Œè¿™ä¸ªåº”è¯¥å¾ˆå¥½ç†è§£ï¼Œå‰è€…æ˜¯æŒ‡é‡åˆ°æŸäº›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆç»“æœï¼›è€Œåè€…æ˜¯æŒ‡å¿…é¡»å¤„ç†æ‰€æœ‰å…ƒç´ æ‰èƒ½å¾—åˆ°æœ€ç»ˆç»“æœã€‚</p><blockquote><p>æ¥è‡ª <a href=http://www.cnblogs.com/Dorae/p/7779246.html target=_blank rel=noopener>http://www.cnblogs.com/Dorae/p/7779246.html</a></p></blockquote><p>å¤§æ¦‚æ€»ç»“ä¸€ä¸‹: <u>æµå¼è¿­ä»£é›†åˆæ“ä½œ,ä¸­é—´æ“ä½œä¸ä¼šå®é™…è®¡ç®—,è€Œä¸”ä¼šå¹¶è¡Œå¤„ç†,(ä¸€ä¸ªæ•°æ®ä¼šåŒæ—¶è¢«å¤„ç†),ç­‰åˆ°äº†ç»“æŸæ“ä½œæ‰ä¼šè§¦å‘æ“ä½œ(å’Œsparkå¾ˆåƒ),java8çš„foreachè¿˜æœ‰å¹¶å‘å¤„ç†,åœ¨æ•°æ®é‡å¾ˆå¤§æ—¶foreachå’Œæµå¼çš„ä¼˜åŠ¿æ‰ä¼šä½“ç°</u></p><p><img loading=lazy src=https://github.com/xiaokunji/MyImagesBed/blob/master/mdImagesimage-20210824141738190.png alt=img></p><h1 id=1-æ¡ˆä¾‹>1. æ¡ˆä¾‹<a hidden class=anchor aria-hidden=true href=#1-æ¡ˆä¾‹>#</a></h1><p>å‡½æ•°å¼æ¥å£(å¯¼è¯»): é‚£äº›åœ°æ–¹å¯ä»¥ç”¨,çœ‹æµçš„å…¥å‚å°±è¡Œäº†</p><ol><li><p>Function => å‡½æ•°,æœ‰è¾“å…¥æœ‰è¾“å‡º å‚å…¥å‚æ•°T , è¿”å› R (ç”¨å¾—å¤š)</p></li><li><p>predicate => è°“è¯/åˆ¤å®š, æœ‰è¾“å…¥,è¿”å›å¸ƒå°”å€¼,ä¸»è¦ä½œä¸ºä¸€ä¸ªè°“è¯æ¼”ç®—æ¨å¯¼çœŸå‡å€¼å­˜åœ¨ (ç”¨å¾—å¤š)</p></li><li><p>consumer => è°“è¯/æ¶ˆè´¹,æœ‰è¾“å…¥æ— è¾“å‡º,</p></li><li><p>supplier => æä¾›, æ— è¾“å…¥æœ‰è¾“å‡º,</p></li><li><p>(ç‰¹æ®Š) Operator => ç»§æ‰¿äº BiFunction ,æ‰€ä»¥ä¹Ÿå±äºfunction, ç®—å­OperatoråŒ…æ‹¬ï¼šUnaryOperatorå’ŒBinaryOperatorã€‚åˆ†åˆ«å¯¹åº”å•å…ƒç®—å­å’ŒäºŒå…ƒç®—å­ã€‚å…¶ä¸­BinaryOperator å¯ç”¨äºreduce</p><blockquote><p>æ¥è‡ª <a href=https://blog.csdn.net/lz710117239/article/details/76192629 target=_blank rel=noopener>https://blog.csdn.net/lz710117239/article/details/76192629</a></p><p>æ¥è‡ª <a href=http://www.sohu.com/a/123958799_465959 target=_blank rel=noopener>http://www.sohu.com/a/123958799_465959</a></p></blockquote></li></ol><h2 id=11-åŸºæœ¬ä½¿ç”¨>1.1 åŸºæœ¬ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#11-åŸºæœ¬ä½¿ç”¨>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">94
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>// Function =&gt; å°±æ˜¯ä¸€ä¸ªå‡½æ•°,æœ‰è¾“å…¥è¾“å‡º
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â <span style=color:#75715e>// æ¥æ”¶ä¸€ä¸ªå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Function<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span> Integer<span style=color:#f92672>&gt;</span> add <span style=color:#f92672>=</span> x <span style=color:#f92672>-&gt;</span> x <span style=color:#f92672>+</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>add<span style=color:#f92672>.</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>(</span>4<span style=color:#f92672>));</span> <span style=color:#75715e>// è¾“å‡º: 5
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â <span style=color:#75715e>// æ¥æ”¶ä¸¤ä¸ªå‚æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â BiFunction<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>,</span> Integer<span style=color:#f92672>,</span> Person<span style=color:#f92672>&gt;</span> addxy2Str <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> y<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>new</span> Person<span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> y<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>addxy2Str<span style=color:#f92672>.</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;xkj&#34;</span><span style=color:#f92672>,</span> 6<span style=color:#f92672>));</span> <span style=color:#75715e>// è¾“å‡º: å¯¹è±¡ä¿¡æ¯
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â String nameStr<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;xkj,xkq,xkk,qoo&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> nameList <span style=color:#f92672>=</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>asList</span><span style=color:#f92672>(</span>nameStr<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;,&#34;</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â List<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span> personList <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â Person p1<span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> Person<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;xkj&#34;</span><span style=color:#f92672>,</span> 4<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â personList<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>p1<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>// PredicateÂ Â =&gt; å¯ä»¥ç”¨æ¥è¿‡æ»¤,æŸ¥æ‰¾
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//åŠŸèƒ½:æ‰¾åˆ°å« xkj çš„å­—ç¬¦ä¸²Â Â =&gt;Â Â è¿”å›é›†åˆÂ Â || è¿”å›å¸ƒå°”
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Predicate<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> isConxkj<span style=color:#f92672>=</span> n<span style=color:#f92672>-&gt;</span>n<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;xkj&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> xkjInfo <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>isConxkj<span style=color:#f92672>).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>());</span><span style=color:#75715e>//æŒ‰ isConxkj è¿‡æ»¤
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â <span style=color:#66d9ef>boolean</span> isHaveXkj <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>anyMatch</span><span style=color:#f92672>(</span>isConxkj<span style=color:#f92672>);</span> <span style=color:#75715e>// æŒ‰isConxkj æ‰¾åˆ°ä»»æ„ä¸€ä¸ªå°±è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>xkjInfo<span style=color:#f92672>);</span> <span style=color:#75715e>// è¾“å‡ºÂ :Â  xkj
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>isHaveXkj<span style=color:#f92672>);</span> <span style=color:#75715e>// è¾“å‡º: true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>// Consumer =&gt; åªæœ‰å…¥å‚æ²¡æœ‰è¿”å‚,å¯ä»¥åšä¸€äº›æ•°æ®å¤„ç† å¯ä»¥ç”¨åœ¨forEachä¸­ç»™listä¿®æ”¹å±æ€§å€¼, 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Consumer<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span> addPrefix <span style=color:#f92672>=</span> p<span style=color:#f92672>-&gt;</span>p<span style=color:#f92672>.</span><span style=color:#a6e22e>setAge</span><span style=color:#f92672>(</span>30<span style=color:#f92672>);;</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â personList<span style=color:#f92672>.</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span><span style=color:#75715e>//ä¿®æ”¹å‰Â Â // è¾“å‡º:Person [name=xkj, age=4]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â personList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>addPrefix<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â personList<span style=color:#f92672>.</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span><span style=color:#75715e>//ä¿®æ”¹åÂ Â // è¾“å‡º : Person [name=xkj, age=30]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//Supplier =&gt; å¯ä»¥ç”¨æ¥å–é…ç½®ä¿¡æ¯(è¿˜æ˜¯å®šä¹‰å˜é‡æ¥çˆ½),è¿˜æœ‰newå¯¹è±¡(æˆ‘æ„Ÿè§‰è¿˜æ˜¯ç›´æ¥newçˆ½å¿«)Â Â (æš‚æ—¶ä¸çŸ¥é“åœºæ™¯)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Supplier<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span> person<span style=color:#f92672>=</span>Person<span style=color:#f92672>::</span><span style=color:#66d9ef>new</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â Person p <span style=color:#f92672>=</span> person<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>();</span> <span style=color:#75715e>// æ¯ä¸ªgetéƒ½æ˜¯ä¸ªæ–°çš„å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>p<span style=color:#f92672>);</span>Â Â <span style=color:#75715e>//è¾“å‡º: Person [name=null, age=0]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>* åˆ¤æ–­è¯­å¥æ˜¯å¦æ­£ç¡®æ‰§è¡Œ,è¿”å›è¯­å¥çš„è¿”å›å€¼,æŠ¥é”™åˆ™ä¸ºnull
</span></span></span><span style=display:flex><span><span style=color:#75715e>* æ¯”å¦‚,ä¼ å…¥æ ¼å¼åŒ–æ—¶é—´è¯­å¥,ç¡®å®šæ—¶é—´æ˜¯å¦åˆæ³•
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> T <span style=color:#a6e22e>of</span><span style=color:#f92672>(</span>Supplier<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>extends</span> T<span style=color:#f92672>&gt;</span> supplier<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> supplier<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Throwable t<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>Â Â Â Â <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testCollect</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â initInfo<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â Predicate<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> isConxkj<span style=color:#f92672>=</span> n<span style=color:#f92672>-&gt;</span>n<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;xk&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//æŒ‰ isConxkj è®¡æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Long xkjCount <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>isConxkj<span style=color:#f92672>).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>counting</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>xkjCount<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//æŒ‰ isConxkj åˆ†åŒºå¹¶å¯¹ç»“æœè®¡æ•°  (å»æ‰åé¢çš„è®¡æ•°å‡½æ•°,å°±å¯ä»¥å¾—åˆ°å…·ä½“çš„å€¼)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Map<span style=color:#f92672>&lt;</span>Boolean<span style=color:#f92672>,</span> Long<span style=color:#f92672>&gt;</span> xkjCountMap <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>partitioningBy</span><span style=color:#f92672>(</span>n<span style=color:#f92672>-&gt;</span>n<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;xk&#34;</span><span style=color:#f92672>),</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>counting</span><span style=color:#f92672>()));</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>xkjCountMap<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//æŒ‰ isConxkj è¿‡æ»¤,å¾—åˆ°çš„ç»“æœç”¨,è¿æ¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â String xkJoin <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>isConxkj<span style=color:#f92672>).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>joining</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;,&#34;</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>xkJoin<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//æŒ‰ isConxkj è¿‡æ»¤,å¾—åˆ°çš„ç»“æœç”¨,è¿æ¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Map<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>,</span> Object<span style=color:#f92672>&gt;</span> xkMap <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>isConxkj<span style=color:#f92672>).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toMap</span><span style=color:#f92672>(</span>k<span style=color:#f92672>-&gt;</span>k<span style=color:#f92672>+</span><span style=color:#e6db74>&#34;_zz&#34;</span><span style=color:#f92672>,</span> v<span style=color:#f92672>-&gt;</span>v<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>xkMap<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â <span style=color:#75715e>//æŒ‰ åå­—map,personä¸ºval
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â Map<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>,</span> Person<span style=color:#f92672>&gt;</span> xkMapByName <span style=color:#f92672>=</span> personList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toMap</span><span style=color:#f92672>(</span>p<span style=color:#f92672>-&gt;</span>p<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>(),</span>p<span style=color:#f92672>-&gt;</span>p<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>xkMapByName<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â 
</span></span><span style=display:flex><span>    <span style=color:#75715e>//åˆ†ç»„åå»æœ€å¤§å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Map<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span> Optional<span style=color:#f92672>&lt;</span>Users<span style=color:#f92672>&gt;&gt;</span> collect <span style=color:#f92672>=</span> users<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>groupingBy</span><span style=color:#f92672>(</span>Users<span style=color:#f92672>::</span>getAge<span style=color:#f92672>,</span> Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>maxBy</span><span style=color:#f92672>(</span>Comparator<span style=color:#f92672>.</span><span style=color:#a6e22e>comparing</span><span style=color:#f92672>(</span>Users<span style=color:#f92672>::</span>getId<span style=color:#f92672>))));</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// https://www.jianshu.com/p/21b20c375599 æ›´å¤šä½¿ç”¨åˆ†ç»„
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// https://cloud.tencent.com/developer/article/1863390
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// æŒ‰å¹´é¾„åˆ†ç»„
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Map<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span> List<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;&gt;</span> groupMapByAge <span style=color:#f92672>=</span> personList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>groupingBy</span><span style=color:#f92672>(</span>p<span style=color:#f92672>-&gt;</span>p<span style=color:#f92672>.</span><span style=color:#a6e22e>getAge</span><span style=color:#f92672>()));</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>groupMapByAge<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ç”¨mapæ“ä½œæ•°å€¼ç±»å‹æ—¶æ˜¯æœ‰è£…ç®±å¤„ç†çš„,å¤šå°‘æœ‰æŸè€—,ç”¨mapToLongå°±æ˜¯å°†å€¼å˜æˆåŸºæœ¬ç±»å‹,ç„¶åç”¨boxedå˜æˆæ™®é€šæµ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Long decrease  <span style=color:#f92672>=</span> ageList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>mapToLong</span><span style=color:#f92672>(</span>a<span style=color:#f92672>-&gt;</span>a<span style=color:#f92672>).</span><span style=color:#a6e22e>boxed</span><span style=color:#f92672>().</span><span style=color:#a6e22e>reduce</span><span style=color:#f92672>((</span>x<span style=color:#f92672>,</span>y<span style=color:#f92672>)-&gt;</span>x<span style=color:#f92672>-</span>y<span style=color:#f92672>).</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>0L<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>decrease<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// åˆå¹¶list
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    List<span style=color:#f92672>&lt;</span>ServiceOrder<span style=color:#f92672>&gt;</span> serviceOrderList <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> projectNoAll <span style=color:#f92672>=</span> serviceOrderList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>flatMap</span><span style=color:#f92672>(</span>s<span style=color:#f92672>-&gt;</span>s<span style=color:#f92672>.</span><span style=color:#a6e22e>getProjectNos</span><span style=color:#f92672>().</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>()).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>AClass<span style=color:#f92672>&gt;</span> unionResult <span style=color:#f92672>=</span> Stream<span style=color:#f92672>.</span><span style=color:#a6e22e>of</span><span style=color:#f92672>(</span>serviceOrderList<span style=color:#f92672>,</span> serviceOrderList<span style=color:#f92672>).</span><span style=color:#a6e22e>flatMap</span><span style=color:#f92672>(</span>Collection<span style=color:#f92672>::</span>stream<span style=color:#f92672>).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>Â Â Â Â <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testMR</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â initInfo<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â BinaryOperator<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> lk <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> y<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> x <span style=color:#f92672>+</span> y<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>Â Â Â Â Â Â Â Â Optional<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> reduceStr <span style=color:#f92672>=</span> nameList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>n <span style=color:#f92672>-&gt;</span> n<span style=color:#f92672>).</span><span style=color:#a6e22e>reduce</span><span style=color:#f92672>(</span>lk<span style=color:#f92672>);</span><span style=color:#75715e>//å°†æ‰€æœ‰çš„å€¼æ‹¼èµ·æ¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Â Â Â Â Â Â Â Â System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>reduceStr<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>Â Â Â Â <span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><p><code>T reduce(T identity, BinaryOperator&lt;T> accumulator)</code></p><p>ç›¸å¯¹äºä¸€ä¸ªå‚æ•°çš„æ–¹æ³•æ¥è¯´ï¼Œå®ƒå¤šäº†ä¸€ä¸ªTç±»å‹çš„å‚æ•°ï¼›å®é™…ä¸Šå°±ç›¸å½“äºéœ€è¦è®¡ç®—çš„å€¼åœ¨Streamçš„åŸºç¡€ä¸Šå¤šäº†ä¸€ä¸ªåˆå§‹åŒ–çš„å€¼
eg.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Stream<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> s <span style=color:#f92672>=</span> Stream<span style=color:#f92672>.</span><span style=color:#a6e22e>of</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;test&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;t1&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;t2&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;teeeee&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;aaaa&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;taaa&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s<span style=color:#f92672>.</span><span style=color:#a6e22e>reduce</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;[value]:&#34;</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span>s1<span style=color:#f92672>,</span> s2<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> s1<span style=color:#f92672>.</span><span style=color:#a6e22e>concat</span><span style=color:#f92672>(</span>s2<span style=color:#f92672>)));</span>    <span style=color:#75715e>// [value]:testt1t2teeeeeaaaataaa
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>æ¥è‡ª <a href=https://blog.csdn.net/icarusliu/article/details/79504602 target=_blank rel=noopener>https://blog.csdn.net/icarusliu/article/details/79504602</a></p></blockquote><h2 id=12-å…¶ä»–åº”ç”¨>1.2 å…¶ä»–åº”ç”¨<a hidden class=anchor aria-hidden=true href=#12-å…¶ä»–åº”ç”¨>#</a></h2><p>json æ ¼å¼åŒ–ä½¿ç”¨, å€¼ä¸ä¸ºnullçš„æ‰è¾“å‡º</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>return</span> JSON<span style=color:#f92672>.</span><span style=color:#a6e22e>toJSONString</span><span style=color:#f92672>(</span>val<span style=color:#f92672>,(</span>PropertyFilter<span style=color:#f92672>)((</span>obj<span style=color:#f92672>,</span> name<span style=color:#f92672>,</span> value<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> value <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// NameFilter: å¤„ç†nameå­—æ®µ,(æ¯”å¦‚å¯¹nameåŠ ä¸ªåç¼€)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// ValueFilter: å¤„ç†valueå­—æ®µ,(æ¯”å¦‚å¯¹valueåŠ ä¸ªåç¼€)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// PropertyFilter: å¤„ç†objå­—æ®µ
</span></span></span></code></pre></td></tr></table></div></div><h1 id=2-é«˜é˜¶ä½¿ç”¨>2. é«˜é˜¶ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#2-é«˜é˜¶ä½¿ç”¨>#</a></h1><h2 id=21-å—æ£€å‡½æ•°å¼æ¥å£>2.1 å—æ£€å‡½æ•°å¼æ¥å£:<a hidden class=anchor aria-hidden=true href=#21-å—æ£€å‡½æ•°å¼æ¥å£>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">148
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.gree.ecommerce.utils.function<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Optional<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * (æ£€æŸ¥)æŠ›å‡ºlambdaä¸­å¼‚å¸¸æƒ…å†µ
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CheckFun</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Function</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * Functionç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param function å¤„ç†å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param p        å…¥å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @return å¤„ç†ç»“æœ, æŠ¥é”™è¿”å› Optional.empty();
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> Optional<span style=color:#f92672>&lt;</span>R<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>Function<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> function<span style=color:#f92672>,</span> T p<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> Optional<span style=color:#f92672>.</span><span style=color:#a6e22e>ofNullable</span><span style=color:#f92672>(</span>function<span style=color:#f92672>.</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>(</span>p<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Throwable t<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> Optional<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * å‚ç…§ java.util.function.Function
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param t å…¥å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @return R ç±»å‹æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @throws Exception å¼‚å¸¸
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        R <span style=color:#a6e22e>apply</span><span style=color:#f92672>(</span>T t<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Supplier</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * Supplier ç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param supplier å¤„ç†å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @return è¿”å›è¯­å¥çš„è¿”å›å€¼(optional), æŠ¥é”™åˆ™ä¸ºOptional.empty()
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> Optional<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Supplier</span><span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>extends</span> T<span style=color:#f92672>&gt;</span> supplier<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> Optional<span style=color:#f92672>.</span><span style=color:#a6e22e>ofNullable</span><span style=color:#f92672>(</span>supplier<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Throwable t<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> Optional<span style=color:#f92672>.</span><span style=color:#a6e22e>empty</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * å‚ç…§ java.util.function.Supplier
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @return T ç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @throws Exception å¼‚å¸¸
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        T <span style=color:#a6e22e>get</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> Exception<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Consumer</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * consumer ç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * &lt;p&gt; æŠ¥é”™å°†å¿½ç•¥
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param consumer å¤„ç†å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param p        å…¥å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Consumer</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> consumer<span style=color:#f92672>,</span> T p<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                consumer<span style=color:#f92672>.</span><span style=color:#a6e22e>accept</span><span style=color:#f92672>(</span>p<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Throwable ignored<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * å‚ç…§ java.util.function.Consumer
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param t å…¥å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @throws Exception å¼‚å¸¸
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>accept</span><span style=color:#f92672>(</span>T t<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Predicate</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * Predicateç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param predicate å¤„ç†å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param p         å…¥å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @return å¤„ç†ç»“æœ, æŠ¥é”™è¿”å› false
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Predicate</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> predicate<span style=color:#f92672>,</span> T p<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> predicate<span style=color:#f92672>.</span><span style=color:#a6e22e>test</span><span style=color:#f92672>(</span>p<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Throwable t<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * å‚ç…§ java.util.function.Predicate
</span></span></span><span style=display:flex><span><span style=color:#75715e>         *
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @param t å…¥å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @return boolean
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @throws Exception å¼‚å¸¸
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @author A80080
</span></span></span><span style=display:flex><span><span style=color:#75715e>         * @createDate 2021/4/21
</span></span></span><span style=display:flex><span><span style=color:#75715e>         */</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>test</span><span style=color:#f92672>(</span>T t<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> Exception<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ä½¿ç”¨æ¡ˆä¾‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>test</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    Stream<span style=color:#f92672>.</span><span style=color:#a6e22e>of</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;uNameCookie&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;uidCookie&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;loginNameCookie&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;loginStatusCookie&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;mobileLoginTokenCookie&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>.</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>c<span style=color:#f92672>-&gt;!</span>CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Predicate</span><span style=color:#f92672>.</span><span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>a<span style=color:#f92672>-&gt;</span>URLEncoder<span style=color:#f92672>.</span><span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>c<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>),</span>c<span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>.</span><span style=color:#a6e22e>peek</span><span style=color:#f92672>(</span>c <span style=color:#f92672>-&gt;</span> c<span style=color:#f92672>.</span><span style=color:#a6e22e>concat</span><span style=color:#f92672>(</span>CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Supplier</span><span style=color:#f92672>.</span><span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(()</span> <span style=color:#f92672>-&gt;</span> URLEncoder<span style=color:#f92672>.</span><span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>c<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>)).</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>c<span style=color:#f92672>)))</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>c <span style=color:#f92672>-&gt;</span> c<span style=color:#f92672>.</span><span style=color:#a6e22e>concat</span><span style=color:#f92672>(</span>CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Function</span><span style=color:#f92672>.</span><span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>a <span style=color:#f92672>-&gt;</span> URLEncoder<span style=color:#f92672>.</span><span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>a<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>),</span> c<span style=color:#f92672>).</span><span style=color:#a6e22e>orElse</span><span style=color:#f92672>(</span>c<span style=color:#f92672>)))</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>.</span><span style=color:#a6e22e>peek</span><span style=color:#f92672>(</span>c <span style=color:#f92672>-&gt;</span> CheckFun<span style=color:#f92672>.</span><span style=color:#a6e22e>Consumer</span><span style=color:#f92672>.</span><span style=color:#a6e22e>tryOf</span><span style=color:#f92672>(</span>x <span style=color:#f92672>-&gt;</span> c<span style=color:#f92672>.</span><span style=color:#a6e22e>concat</span><span style=color:#f92672>(</span>URLEncoder<span style=color:#f92672>.</span><span style=color:#a6e22e>encode</span><span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;utf-8&#34;</span><span style=color:#f92672>)),</span> c<span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>.</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=22--æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†>2.2 æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†<a hidden class=anchor aria-hidden=true href=#22--æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡ä»¥åŠåˆ†é¡µå¤„ç†>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// æ ¹æ®ç±»ä¸­æŸä¸ªå­—æ®µå»é‡
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>should_return_2_because_distinct_by_age</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        userList <span style=color:#f92672>=</span> userList<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>.</span><span style=color:#a6e22e>filter</span><span style=color:#f92672>(</span>distinctByKey<span style=color:#f92672>(</span>User<span style=color:#f92672>::</span>getName<span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>.</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        userList<span style=color:#f92672>.</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        assertEquals<span style=color:#f92672>(</span>2<span style=color:#f92672>,</span> userList<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> Predicate<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>distinctByKey</span><span style=color:#f92672>(</span>Function<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> keyExtractor<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Set<span style=color:#f92672>&lt;</span>R<span style=color:#f92672>&gt;</span> seen <span style=color:#f92672>=</span> ConcurrentHashMap<span style=color:#f92672>.</span><span style=color:#a6e22e>newKeySet</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> t <span style=color:#f92672>-&gt;</span> seen<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>keyExtractor<span style=color:#f92672>.</span><span style=color:#a6e22e>apply</span><span style=color:#f92672>(</span>t<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// é“¾æ¥ï¼šhttps://hacpai.com/article/1545321970124
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>divideBatchHandler<span style=color:#f92672>(</span>nameList<span style=color:#f92672>,</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Â Â Â Â <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è¿ç”¨åœºæ™¯:å½“æ•°æ®é‡è¿‡å¤§,éœ€è¦åˆ†æ‰¹å¤„ç†æ—¶
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @author xkj
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param dataList éœ€è¦å¤„ç†çš„æ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param consumer  å¤„ç†å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @since 
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>divideBatchHandler</span><span style=color:#f92672>(</span>List<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> dataList<span style=color:#f92672>,</span> Consumer<span style=color:#f92672>&lt;</span>List<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;&gt;</span> consumer<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Optional<span style=color:#f92672>.</span><span style=color:#a6e22e>ofNullable</span><span style=color:#f92672>(</span>dataList<span style=color:#f92672>).</span><span style=color:#a6e22e>ifPresent</span><span style=color:#f92672>(</span>list <span style=color:#f92672>-&gt;</span>
</span></span><span style=display:flex><span>                IntStream<span style=color:#f92672>.</span><span style=color:#a6e22e>range</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>())</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>mapToObj</span><span style=color:#f92672>(</span>i <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>new</span> AbstractMap<span style=color:#f92672>.</span><span style=color:#a6e22e>SimpleImmutableEntry</span><span style=color:#f92672>&lt;&gt;(</span>i<span style=color:#f92672>,</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>i<span style=color:#f92672>)))</span><span style=color:#75715e>// ç»™æ•°æ®ç¼–å·
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>groupingBy</span><span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>                                e <span style=color:#f92672>-&gt;</span> e<span style=color:#f92672>.</span><span style=color:#a6e22e>getKey</span><span style=color:#f92672>()</span> <span style=color:#f92672>/</span> 10<span style=color:#f92672>,</span> 
</span></span><span style=display:flex><span>                                Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>mapping</span><span style=color:#f92672>(</span>Map<span style=color:#f92672>.</span><span style=color:#a6e22e>Entry</span><span style=color:#f92672>::</span>getValue<span style=color:#f92672>,</span> Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>())))</span> <span style=color:#75715e>// æŒ‰ç¼–å·åˆ†æ‰¹å¹¶åˆå¹¶ç¼–å·å¯¹åº”çš„å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>values</span><span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>parallelStream</span><span style=color:#f92672>()</span><span style=color:#75715e>// å¹¶è¡Œå¤„ç†
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>consumer<span style=color:#f92672>)</span> <span style=color:#75715e>// æ‰§è¡Œå¤„ç†å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=23-è‡ªå®šä¹‰collector>2.3 è‡ªå®šä¹‰Collector<a hidden class=anchor aria-hidden=true href=#23-è‡ªå®šä¹‰collector>#</a></h2><p>Collectorä¸»è¦åŒ…å«äº”ä¸ªå‚æ•°ï¼Œå®ƒçš„è¡Œä¸ºä¹Ÿæ˜¯ç”±è¿™äº”ä¸ªå‚æ•°æ¥å®šä¹‰çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>Collectorå®ç°çš„ä¸‰ä¸ªæ³›å‹å…·ä½“æ˜¯ä»€ä¹ˆï¼š</p><ul><li>Tï¼ˆè¾“å…¥çš„å…ƒç´ ç±»å‹ï¼‰ï¼šT</li><li>Aï¼ˆç´¯ç§¯ç»“æœçš„å®¹å™¨ç±»å‹ï¼‰ï¼š</li><li>Rï¼ˆæœ€ç»ˆç”Ÿæˆçš„ç»“æœç±»å‹ï¼‰ï¼š</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Collector</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>,</span> A<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// supplierå‚æ•°ç”¨äºç”Ÿæˆç»“æœå®¹å™¨ï¼Œå®¹å™¨ç±»å‹ä¸ºA
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Supplier<span style=color:#f92672>&lt;</span>A<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>supplier</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// accumulatorç”¨äºæ¶ˆè´¹å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯å½’çº³å…ƒç´ ï¼Œè¿™é‡Œçš„Tå°±æ˜¯å…ƒç´ ï¼Œå®ƒä¼šå°†æµä¸­çš„å…ƒç´ ä¸€ä¸ªä¸€ä¸ªä¸ç»“æœå®¹å™¨Aå‘ç”Ÿæ“ä½œ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    BiConsumer<span style=color:#f92672>&lt;</span>A<span style=color:#f92672>,</span> T<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>accumulator</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// combinerç”¨äºä¸¤ä¸ªä¸¤ä¸ªåˆå¹¶å¹¶è¡Œæ‰§è¡Œçš„çº¿ç¨‹çš„æ‰§è¡Œç»“æœï¼Œå°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªæœ€ç»ˆç»“æœA
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    BinaryOperator<span style=color:#f92672>&lt;</span>A<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>combiner</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// finisherç”¨äºå°†ä¹‹å‰æ•´åˆå®Œçš„ç»“æœRè½¬æ¢æˆä¸ºA
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Function<span style=color:#f92672>&lt;</span>A<span style=color:#f92672>,</span> R<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>finisher</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// characteristicsè¡¨ç¤ºå½“å‰Collectorçš„ç‰¹å¾å€¼ï¼Œè¿™æ˜¯ä¸ªä¸å¯å˜Set
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Set<span style=color:#f92672>&lt;</span>Characteristics<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>characteristics</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>æšä¸¾å¸¸é‡Characteristics ä¸­å…±æœ‰ä¸‰ä¸ªç‰¹å¾å€¼ï¼Œå®ƒä»¬çš„å…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š</p><p>CONCURRENTï¼šè¡¨ç¤ºç»“æœå®¹å™¨åªæœ‰ä¸€ä¸ªï¼ˆå³ä½¿æ˜¯åœ¨å¹¶è¡Œæµçš„æƒ…å†µä¸‹ï¼‰ã€‚åªæœ‰åœ¨å¹¶è¡Œæµä¸”æ”¶é›†å™¨ä¸å…·å¤‡æ­¤ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œcombiner()è¿”å›çš„lambdaè¡¨è¾¾å¼æ‰ä¼šæ‰§è¡Œï¼ˆä¸­é—´ç»“æœå®¹å™¨åªæœ‰ä¸€ä¸ªå°±æ— éœ€åˆå¹¶ï¼‰ã€‚è®¾ç½®æ­¤ç‰¹æ€§æ—¶æ„å‘³ç€å¤šä¸ªçº¿ç¨‹å¯ä»¥å¯¹åŒä¸€ä¸ªç»“æœå®¹å™¨è°ƒç”¨ï¼Œå› æ­¤ç»“æœå®¹å™¨å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>UNORDEREDï¼šè¡¨ç¤ºæµä¸­çš„å…ƒç´ æ— åºã€‚</p><p>IDENTITY_FINISHï¼šè¡¨ç¤ºä¸­é—´ç»“æœå®¹å™¨ç±»å‹ä¸æœ€ç»ˆç»“æœç±»å‹ä¸€è‡´ã€‚<strong>è®¾ç½®æ­¤ç‰¹æ€§æ—¶finiser()æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚</strong></p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>/** è¯¥æ¡ˆä¾‹ä½œç”¨: å¯¹é›†åˆå…ƒç´  æ±‚å’Œå¹¶è½¬æˆå­—ç¬¦ä¸²
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>Test</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 1. ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸´æ—¶å€¼çš„å®¹å™¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 2. ç¬¬äºŒä¸ªå‚æ•°æ˜¯æŠŠå…¥å‚æ”¾åˆ°å®¹å™¨ä¸­
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 3. ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æŠŠç¬¬äºŒæ­¥çš„å€¼åšä¸€ä¸ªç»“åˆæ”¾åˆ°å®¹å™¨ä¸­
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 4. ç¬¬å››ä¸ªå‚æ•°æŠŠå®¹å™¨ä¸­çš„å€¼è½¬åŒ–æˆç»“æœç±»å‹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// 5. ç¬¬äº”ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç‰¹å¾å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        BiConsumer<span style=color:#f92672>&lt;</span>List<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;,</span> Long<span style=color:#f92672>&gt;</span> accumulator <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> y<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            x<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>y<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>        BinaryOperator<span style=color:#f92672>&lt;</span>List<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;&gt;</span> combiner <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> y<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            x<span style=color:#f92672>.</span><span style=color:#a6e22e>addAll</span><span style=color:#f92672>(</span>y<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> x<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>        Function<span style=color:#f92672>&lt;</span>List<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;,</span> String<span style=color:#f92672>&gt;</span> func <span style=color:#f92672>=</span> x <span style=color:#f92672>-&gt;</span> String<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>x<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>mapToLong</span><span style=color:#f92672>(</span>y<span style=color:#f92672>-&gt;</span> y<span style=color:#f92672>).</span><span style=color:#a6e22e>sum</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        Collector<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>,</span> List<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;,</span> String<span style=color:#f92672>&gt;</span> longSupplier <span style=color:#f92672>=</span> Collector<span style=color:#f92672>.</span><span style=color:#a6e22e>of</span><span style=color:#f92672>(</span>ArrayList<span style=color:#f92672>::</span><span style=color:#66d9ef>new</span><span style=color:#f92672>,</span> accumulator<span style=color:#f92672>,</span> combiner<span style=color:#f92672>,</span>func<span style=color:#f92672>,</span> Collector<span style=color:#f92672>.</span><span style=color:#a6e22e>Characteristics</span><span style=color:#f92672>.</span><span style=color:#a6e22e>UNORDERED</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        String collect <span style=color:#f92672>=</span> Stream<span style=color:#f92672>.</span><span style=color:#a6e22e>of</span><span style=color:#f92672>(</span>1<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 2<span style=color:#f92672>,</span> 2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>Long<span style=color:#f92672>::</span><span style=color:#66d9ef>new</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>.</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>longSupplier<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;collect = &#34;</span> <span style=color:#f92672>+</span> collect<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><p><a href=https://blog.csdn.net/xiliunian/article/details/88773718 target=_blank rel=noopener>java8æ–°ç‰¹æ€§(å››) Collectorï¼ˆæ”¶é›†å™¨ï¼‰_æˆæµå¹´çš„åšå®¢-CSDNåšå®¢_collector</a></p><p><a href=https://www.jianshu.com/p/7eaa0969b424 target=_blank rel=noopener>JavaåŸºç¡€ç³»åˆ—-Collectorå’ŒCollectors - ç®€ä¹¦ (jianshu.com)</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://xiaokunji.github.io/zh/tags/java%E5%9F%BA%E7%A1%80/>JavaåŸºç¡€</a></li><li><a href=https://xiaokunji.github.io/zh/tags/java%E5%8F%8A%E5%85%B6%E6%A1%86%E6%9E%B6/>javaåŠå…¶æ¡†æ¶</a></li></ul><nav class=paginav><a class=prev href=https://xiaokunji.github.io/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C/io%E6%A8%A1%E5%9E%8B/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>IOæ¨¡å‹</span></a>
<a class=next href=https://xiaokunji.github.io/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/java/javaee/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>javaEE</span></a></nav></footer></article></main><footer class=footer><span>Copyright
&copy;
-2023
<a href=https://xiaokunji.github.io/zh/ style=color:#939393>ç±³äºŒ</a>
All Rights Reserved</span>
<span id=busuanzi_container><span class="fa fa-user">ç”¨æˆ·æ•°:</span><span id=busuanzi_value_site_uv></span>
<span class="fa fa-eye">è®¿é—®æ•°:</span><span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>