<!DOCTYPE html>
<html dir="auto" lang="zh"><head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="x-ua-compatible"/><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"/><meta content="index, follow" name="robots"/><title>命令 | 米二</title>
<meta content=" 1. 大纲, 2. ddl命令, 2.1. 创建表create, 语法, 此种方式是上上面的简写方式，使用上面方式可以为列族指定更多的属性，如VERSIONS、TTL、BLOCKCACHE、CONFIGURATION等属性, 示例, 2.2 修改(添加、删除)表结构Schema alter, 语法 , 示例, 语法 , 示例, 修改f1列族的版本为5, 修改多个列族，修改f2为内存，版本号为5, 也可以修改table-scope属性，例如MAX_FILESIZE,READONLY,MEMSTORE_FLUSHSIZE,DEFERRED_LOG_FLUSH等。, 例如，修改region的最大大小为128MB：, 2.3 删除表drop, 语法, 示例, 2.4 显示hbase所支持的所有过滤器, 3. dml命令, 3.1. 插入或者修改数据put, 语法, 当列族中只有一个列时'列族名:列名'使用'列族名', 示例, 创建表, 第一行数据, 第二行数据, 第一行数据, 3.2 全表扫描scan, 获取表的所有数据, 语法, 示例, 扫描整个列簇, 语法, 示例, 扫描整个列簇的某个列, 语法, 示例, 3.3 获取数据get, 语法, 示例, 根据某一行某列族的数据, 语法, 示例, 获取rowKey=r1并且 1552819392398 &lt;= 时间戳范围 &lt; 1552819398244, 获取指定列的值，多个值使用数组表示, 3.4 删除某个列族中的某个列delete, 语法, 3.5 删除某行数据deleteall, 语法, 示例, 3.6 清空整个表的数据truncate, 3.7 LIMIT 返回的行数, 语法, 示例, 3.8 FILTER条件过滤器, 语法：binary 等于某个值, 语法 substring:包含某个值, 示例, 语法 substring:包含某个值, 示例, 通过括号、AND和OR的条件组合多个过滤器" name="keywords"/><meta content="     " name="description"/><meta content="xkj" name="author"/><link href="https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88/HBase/%E5%91%BD%E4%BB%A4.html" rel="canonical"/><link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.dc6bd2c841ee388e899e13872ae986c0e847e8b957d6714ad6ddc628ef2d17ff.css" integrity="sha256-3GvSyEHuOI6JnhOHKumGwOhH6LlX1nFK1t3GKO8tF/8=" rel="preload stylesheet"/><script crossorigin="anonymous" defer="" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload="hljs.initHighlightingOnLoad()" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js"></script><link href="https://xiaokunji.com/img/Q.svg" rel="icon"/><link href="https://xiaokunji.com/img/Q.svg" rel="icon" sizes="16x16" type="image/png"/><link href="https://xiaokunji.com/img/Q.svg" rel="icon" sizes="32x32" type="image/png"/><link href="https://xiaokunji.com/Q.svg" rel="apple-touch-icon"/><link href="https://xiaokunji.com/Q.svg" rel="mask-icon"/><meta content="#2e2e33" name="theme-color"/><meta content="#2e2e33" name="msapplication-TileColor"/><link href="https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88/HBase/%E5%91%BD%E4%BB%A4.html" hreflang="zh" rel="alternate"/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta content="命令" property="og:title"/><meta content="     " property="og:description"/><meta content="article" property="og:type"/><meta content="https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88/HBase/%E5%91%BD%E4%BB%A4.html" property="og:url"/><meta content="hadoop生态圈" property="article:section"/><meta content="2023-08-22T00:00:00+00:00" property="article:published_time"/><meta content="2023-08-29T00:59:17+08:00" property="article:modified_time"/><meta content="summary" name="twitter:card"/><meta content="命令" name="twitter:title"/><meta content="     " name="twitter:description"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":4,"name":"命令","item":"https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88/HBase/%E5%91%BD%E4%BB%A4.html"}]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"命令","name":"命令","description":"     ","keywords":[" 1. 大纲"," 2. ddl命令"," 2.1. 创建表create"," 语法"," 此种方式是上上面的简写方式，使用上面方式可以为列族指定更多的属性，如VERSIONS、TTL、BLOCKCACHE、CONFIGURATION等属性"," 示例"," 2.2 修改(添加、删除)表结构Schema alter"," 语法 "," 示例"," 语法 "," 示例"," 修改f1列族的版本为5"," 修改多个列族，修改f2为内存，版本号为5"," 也可以修改table-scope属性，例如MAX_FILESIZE, READONLY,MEMSTORE_FLUSHSIZE, DEFERRED_LOG_FLUSH等。"," 例如，修改region的最大大小为128MB："," 2.3 删除表drop"," 语法"," 示例"," 2.4 显示hbase所支持的所有过滤器"," 3. dml命令"," 3.1. 插入或者修改数据put"," 语法"," 当列族中只有一个列时'列族名:列名'使用'列族名'"," 示例"," 创建表"," 第一行数据"," 第二行数据"," 第一行数据"," 3.2 全表扫描scan"," 获取表的所有数据"," 语法"," 示例"," 扫描整个列簇"," 语法"," 示例"," 扫描整个列簇的某个列"," 语法"," 示例"," 3.3 获取数据get"," 语法"," 示例"," 根据某一行某列族的数据"," 语法"," 示例"," 获取rowKey=r1并且 1552819392398 \u003c= 时间戳范围 \u003c 1552819398244"," 获取指定列的值，多个值使用数组表示"," 3.4 删除某个列族中的某个列delete"," 语法"," 3.5 删除某行数据deleteall"," 语法"," 示例"," 3.6 清空整个表的数据truncate"," 3.7 LIMIT 返回的行数"," 语法"," 示例"," 3.8 FILTER条件过滤器"," 语法：binary 等于某个值"," 语法 substring:包含某个值"," 示例"," 语法 substring:包含某个值"," 示例"," 通过括号、AND和OR的条件组合多个过滤器"],"articleBody":"[toc]\n1. 大纲 启动hbase服务: start-hbase.sh\n停止hbase服务: stop-hbase.sh\n启动shelll:\thbase shell\nhbase shell命令 描述 alter 修改列族（column family）模式 count 统计表中行的数量 create 创建表 describe 显示表相关的详细信息 delete 删除指定对象的值（可以为表，行，列对应的值，另外也可以指定时间戳的值） deleteall 删除指定行的所有元素值 disable 使表无效 drop 删除表 enable 使表有效 exists 测试表是否存在 exit 退出hbase shell get 获取行或单元（cell）的值 incr 增加指定表，行或列的值 list 列出hbase中存在的所有表 put 向指向的表单元添加值 tools 列出hbase所支持的工具 scan 通过对表的扫描来获取对用的值 status 返回hbase集群的状态信息 shutdown 关闭hbase集群（与exit不同） truncate 重新创建指定表 version 返回hbase版本信息 来自 2. ddl命令 2.1. 创建表create 注意：创建表时只需要指定列族名称，不需要指定列名。\n# 语法 create '表名', {NAME =\u003e '列族名1'}, {NAME =\u003e '列族名2'}, {NAME =\u003e '列族名3'} # 此种方式是上上面的简写方式，使用上面方式可以为列族指定更多的属性，如VERSIONS、TTL、BLOCKCACHE、CONFIGURATION等属性 create '表名', '列族名1', '列族名2', '列族名3' create '表名', {NAME =\u003e '列族名1', VERSIONS =\u003e 版本号, TTL =\u003e 过期时间, BLOCKCACHE =\u003e true} # 示例 create 'tbl_user', 'info', 'detail' create 't1', {NAME =\u003e 'f1', VERSIONS =\u003e 1, TTL =\u003e 2592000, BLOCKCACHE =\u003e true} 2.2 修改(添加、删除)表结构Schema alter 添加一个列族\n# 语法 alter '表名', '列族名' # 示例 alter 'tbl_user', 'address' 删除一个列族\n# 语法 alter '表名', {NAME=\u003e '列族名', METHOD=\u003e 'delete'} # 示例 alter 'tbl_user', {NAME=\u003e 'address', METHOD=\u003e 'delete'} 修改列族信息\n# 修改f1列族的版本为5 alter 't1', NAME =\u003e 'f1', VERSIONS =\u003e 5 # 修改多个列族，修改f2为内存，版本号为5 alter 't1', 'f1', {NAME =\u003e 'f2', IN_MEMORY =\u003e true}, {NAME =\u003e 'f3', VERSIONS =\u003e 5} # 也可以修改table-scope属性，例如MAX_FILESIZE, READONLY,MEMSTORE_FLUSHSIZE, DEFERRED_LOG_FLUSH等。 # 例如，修改region的最大大小为128MB： alter 't1', MAX_FILESIZE =\u003e '134217728' 2.3 删除表drop 需要先禁用表，然后再删除表，启用的表是不允许删除的\n# 语法 disable '表名' drop '表名' # 示例 disable 'tbl_user' drop 'tbl_user' 2.4 显示hbase所支持的所有过滤器 show_filters\n过滤器用于get和scan命令中作为筛选数据的条件，类型关系型数据库中的where的作用\n3. dml命令 3.1. 插入或者修改数据put # 语法 # 当列族中只有一个列时'列族名:列名'使用'列族名' put '表名', '行键', '列族名', '列值' put '表名', '行键', '列族名:列名', '列值' # 示例 # 创建表 create 'tbl_user', 'info', 'detail', 'address' # 第一行数据 put 'tbl_user', 'mengday', 'info:id', '1' put 'tbl_user', 'mengday', 'info:name', '张三' put 'tbl_user', 'mengday', 'info:age', '28' put 'tbl_user', 'mengday', 'detail:birthday', '1990-06-26' put 'tbl_user', 'mengday', 'detail:email', 'abc@163.com' put 'tbl_user', 'mengday', 'detail:create_time', '2019-03-04 14:26:10' put 'tbl_user', 'mengday', 'address', '上海市' # 第二行数据 put 'tbl_user', 'vbirdbest', 'info:id', '2' put 'tbl_user', 'vbirdbest', 'info:name', '李四' put 'tbl_user', 'vbirdbest', 'info:age', '27' put 'tbl_user', 'vbirdbest', 'detail:birthday', '1990-06-27' put 'tbl_user', 'vbirdbest', 'detail:email', 'xxx@gmail.com' put 'tbl_user', 'vbirdbest', 'detail:create_time', '2019-03-05 14:26:10' put 'tbl_user', 'vbirdbest', 'address', '北京市' # 第一行数据 put 'tbl_user', 'xiaoming', 'info:id', '3' put 'tbl_user', 'xiaoming', 'info:name', '王五' put 'tbl_user', 'xiaoming', 'info:age', '26' put 'tbl_user', 'xiaoming', 'detail:birthday', '1990-06-28' put 'tbl_user', 'xiaoming', 'detail:email', 'xyz@qq.com' put 'tbl_user', 'xiaoming', 'detail:create_time', '2019-03-06 14:26:10' put 'tbl_user', 'xiaoming', 'address', '杭州市' 3.2 全表扫描scan # 获取表的所有数据 # 语法 scan '表名' # 示例 scan 'tbl_user' # 扫描整个列簇 # 语法 scan '表名', {COLUMN=\u003e'列族名'} # 示例 scan 'tbl_user', {COLUMN=\u003e'info'} # 扫描整个列簇的某个列 # 语法 scan '表名', {COLUMN=\u003e'列族名:列名'} # 示例 scan 'tbl_user', {COLUMN=\u003e'info:age'} 3.3 获取数据get # 语法 get '表名', '行键' # 示例 get 'tbl_user', 'mengday' # 根据某一行某列族的数据 # 语法 get '表名', '行键', '列族名' # 示例 get 'tbl_user', 'mengday', 'info' # 获取rowKey=r1并且 1552819392398 \u003c= 时间戳范围 \u003c 1552819398244 get 't1', 'r1', {TIMERANGE =\u003e [1552819392398, 1552819398244]} # 获取指定列的值，多个值使用数组表示 get 't1', 'r1', {COLUMN =\u003e ['c1', 'c2', 'c3']} 3.4 删除某个列族中的某个列delete # 语法 delete '表名', '行键', '列族名:列名' create 'tbl_test', 'columnFamily1' put 'tbl_test', 'rowKey1', 'columnFamily1:column1', 'value1' put 'tbl_test', 'rowKey1', 'columnFamily1:column2', 'value2' delete 'tbl_test', 'rowKey1', 'columnFamily1:column1' 3.5 删除某行数据deleteall # 语法 deleteall '表名', '行键' # 示例 deleteall 'tbl_test', 'rowKey1' 3.6 清空整个表的数据truncate truncate '表名'\n3.7 LIMIT 返回的行数 # 语法 scan '表名', { LIMIT =\u003e 行数} # 示例 scan 'tbl_user', { LIMIT =\u003e 2 } 3.8 FILTER条件过滤器 过滤器之间可以使用AND、OR连接多个过滤器。\nValueFilter 值过滤器\n# 语法：binary 等于某个值 scan '表名', FILTER=\u003e\"ValueFilter(=,'binary:列值')\" # 语法 substring:包含某个值 scan '表名', FILTER=\u003e\"ValueFilter(=,'substring:列值')\" # 示例 scan 'tbl_user', FILTER=\u003e\"ValueFilter(=, 'binary:26')\" scan 'tbl_user', FILTER=\u003e\"ValueFilter(=, 'substring:6')\" ColumnPrefixFilter 列名前缀过滤器\n# 语法 substring:包含某个值 scan '表名', FILTER=\u003e\"ColumnPrefixFilter('列名前缀')\" # 示例 scan 'tbl_user', FILTER=\u003e\"ColumnPrefixFilter('birth')\" # 通过括号、AND和OR的条件组合多个过滤器 scan 'tbl_user', FILTER=\u003e\"ColumnPrefixFilter('birth') AND ValueFilter(=,'substring:26')\" https://blog.csdn.net/u013980127/article/details/52443155 https://blog.csdn.net/vbirdbest/article/details/88236575 ","wordCount":"2258","inLanguage":"zh","datePublished":"2023-08-22T00:00:00Z","dateModified":"2023-08-29T00:59:17+08:00","author":{"@type":"Person","name":"xkj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88/HBase/%E5%91%BD%E4%BB%A4.html"},"publisher":{"@type":"Organization","name":"米二","logo":{"@type":"ImageObject","url":"https://xiaokunji.com/img/Q.svg"}}}</script></head><body class="dark" id="top"><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class="header"><nav class="nav"><div class="logo"><a accesskey="h" href="https://xiaokunji.com/zh/" title="米二 (Alt + H)"><img alt="" aria-label="logo" height="35" src="https://xiaokunji.com/img/Q.svg"/>米二</a><div class="logo-switches"><button accesskey="t" id="theme-toggle" title="(Alt + T)"><svg fill="none" height="18" id="moon" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg><svg fill="none" height="18" id="sun" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="5"></circle><line x1="12" x2="12" y1="1" y2="3"></line><line x1="12" x2="12" y1="21" y2="23"></line><line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line><line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line><line x1="1" x2="3" y1="12" y2="12"></line><line x1="21" x2="23" y1="12" y2="12"></line><line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line><line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line></svg></button><ul class="lang-switch"><li>|</li><li><a aria-label="English" href="https://xiaokunji.com/en/" title="English">English</a></li></ul></div></div><ul id="menu"><li><a href="https://xiaokunji.com/zh/" title="🏠主页"><span>🏠主页</span></a></li><li><a accesskey="/" href="https://xiaokunji.com/zh/search" title="🔍搜索 (Alt + /)"><span>🔍搜索</span></a></li><li><a href="https://xiaokunji.com/zh/post.html" title="📚文章"><span>📚文章</span></a></li><li><a href="https://xiaokunji.com/zh/archives.html" title="⏱时间轴"><span>⏱时间轴</span></a></li><li><a href="https://xiaokunji.com/zh/tags.html" title="🔖标签"><span>🔖标签</span></a></li><li><a href="https://xiaokunji.com/zh/categories.html" title="📖分类"><span>📖分类</span></a></li><li><a href="https://xiaokunji.com/zh/links.html" title="🤝友链"><span>🤝友链</span></a></li></ul></nav></header><main class="main"><article class="post-single"><header class="post-header"><nav aria-label="breadcrumb"><ul><a href="https://xiaokunji.com/zh/">🏠</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88.html">hadoop生态圈</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/hadoop%E7%94%9F%E6%80%81%E5%9C%88/HBase.html">HBase</a> <span>&gt;</span></ul></nav><h1 class="post-title">命令</h1><div class="post-description"></div><div class="post-meta">创建:&amp;nbsp;&lt;span title='2023-08-22 00:00:00 +0000 UTC'&gt;2023-08-22&lt;/span&gt;&amp;nbsp;·&amp;nbsp;更新:&amp;nbsp;2023-08-29&amp;nbsp;·&amp;nbsp;xkj
 | 分类:  <ul class="post-categories-meta" style="display:inline"><a href="https://xiaokunji.com/zh/categories/Hadoop%E7%94%9F%E6%80%81%E5%9C%88.html">Hadoop生态圈</a></ul><span id="busuanzi_container_page_pv"> | 访问: <span id="busuanzi_value_page_pv">1</span></span></div></header><aside class="toc-container wide" id="toc-container"><div class="toc"><details open=""><summary accesskey="c" title="(Alt + C)"><span class="details">目录</span></summary><div class="inner"><ul><li><a aria-label="1. 大纲" href="#1-%e5%a4%a7%e7%ba%b2">1. 大纲</a></li><li><a aria-label="2. ddl命令" href="#2-ddl%e5%91%bd%e4%bb%a4">2. ddl命令</a><ul><li><a aria-label="2.1. 创建表create" href="#21-%e5%88%9b%e5%bb%ba%e8%a1%a8create">2.1. 创建表create</a></li><li><a aria-label="2.2 修改(添加、删除)表结构Schema alter" href="#22-%e4%bf%ae%e6%94%b9%e6%b7%bb%e5%8a%a0%e5%88%a0%e9%99%a4%e8%a1%a8%e7%bb%93%e6%9e%84schema-alter">2.2 修改(添加、删除)表结构Schema alter</a></li><li><a aria-label="2.3 删除表drop" href="#23-%e5%88%a0%e9%99%a4%e8%a1%a8drop">2.3 删除表drop</a></li><li><a aria-label="2.4 显示hbase所支持的所有过滤器" href="#24-%e6%98%be%e7%a4%bahbase%e6%89%80%e6%94%af%e6%8c%81%e7%9a%84%e6%89%80%e6%9c%89%e8%bf%87%e6%bb%a4%e5%99%a8">2.4 显示hbase所支持的所有过滤器</a></li></ul></li><li><a aria-label="3. dml命令" href="#3-dml%e5%91%bd%e4%bb%a4">3. dml命令</a><ul><li><a aria-label="3.1. 插入或者修改数据put" href="#31-%e6%8f%92%e5%85%a5%e6%88%96%e8%80%85%e4%bf%ae%e6%94%b9%e6%95%b0%e6%8d%aeput">3.1. 插入或者修改数据put</a></li><li><a aria-label="3.2 全表扫描scan" href="#32-%e5%85%a8%e8%a1%a8%e6%89%ab%e6%8f%8fscan">3.2 全表扫描scan</a></li><li><a aria-label="3.3 获取数据get" href="#33-%e8%8e%b7%e5%8f%96%e6%95%b0%e6%8d%aeget">3.3 获取数据get</a></li><li><a aria-label="3.4 删除某个列族中的某个列delete" href="#34-%e5%88%a0%e9%99%a4%e6%9f%90%e4%b8%aa%e5%88%97%e6%97%8f%e4%b8%ad%e7%9a%84%e6%9f%90%e4%b8%aa%e5%88%97delete">3.4 删除某个列族中的某个列delete</a></li><li><a aria-label="3.5 删除某行数据deleteall" href="#35-%e5%88%a0%e9%99%a4%e6%9f%90%e8%a1%8c%e6%95%b0%e6%8d%aedeleteall">3.5 删除某行数据deleteall</a></li><li><a aria-label="3.6 清空整个表的数据truncate" href="#36-%e6%b8%85%e7%a9%ba%e6%95%b4%e4%b8%aa%e8%a1%a8%e7%9a%84%e6%95%b0%e6%8d%aetruncate">3.6 清空整个表的数据truncate</a></li><li><a aria-label="3.7 LIMIT 返回的行数" href="#37-limit-%e8%bf%94%e5%9b%9e%e7%9a%84%e8%a1%8c%e6%95%b0">3.7 LIMIT 返回的行数</a></li><li><a aria-label="3.8 FILTER条件过滤器" href="#38-filter%e6%9d%a1%e4%bb%b6%e8%bf%87%e6%bb%a4%e5%99%a8">3.8 FILTER条件过滤器</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class="post-content"><p>[toc]</p><h1 id="1-大纲">1. 大纲<a aria-hidden="true" class="anchor" hidden="" href="#1-大纲">#</a></h1><p>启动hbase服务: <code>start-hbase.sh</code><br/>停止hbase服务: <code>stop-hbase.sh</code><br/>启动shelll: <code>hbase shell</code></p><table><thead><tr><th>hbase shell命令</th><th>描述</th></tr></thead><tbody><tr><td>alter</td><td>修改列族（column family）模式</td></tr><tr><td>count</td><td>统计表中行的数量</td></tr><tr><td>create</td><td>创建表</td></tr><tr><td>describe</td><td>显示表相关的详细信息</td></tr><tr><td>delete</td><td>删除指定对象的值（可以为表，行，列对应的值，另外也可以指定时间戳的值）</td></tr><tr><td>deleteall</td><td>删除指定行的所有元素值</td></tr><tr><td>disable</td><td>使表无效</td></tr><tr><td>drop</td><td>删除表</td></tr><tr><td>enable</td><td>使表有效</td></tr><tr><td>exists</td><td>测试表是否存在</td></tr><tr><td>exit</td><td>退出hbase shell</td></tr><tr><td>get</td><td>获取行或单元（cell）的值</td></tr><tr><td>incr</td><td>增加指定表，行或列的值</td></tr><tr><td>list</td><td>列出hbase中存在的所有表</td></tr><tr><td>put</td><td>向指向的表单元添加值</td></tr><tr><td>tools</td><td>列出hbase所支持的工具</td></tr><tr><td>scan</td><td>通过对表的扫描来获取对用的值</td></tr><tr><td>status</td><td>返回hbase集群的状态信息</td></tr><tr><td>shutdown</td><td>关闭hbase集群（与exit不同）</td></tr><tr><td>truncate</td><td>重新创建指定表</td></tr><tr><td>version</td><td>返回hbase版本信息</td></tr></tbody></table><p>来自 <code>&lt;https://www.cnblogs.com/cxzdy/p/5583239.html&gt;</code></p><h1 id="2-ddl命令">2. ddl命令<a aria-hidden="true" class="anchor" hidden="" href="#2-ddl命令">#</a></h1><h2 id="21-创建表create">2.1. 创建表create<a aria-hidden="true" class="anchor" hidden="" href="#21-创建表create">#</a></h2><p>注意：创建表时只需要指定列族名称，不需要指定列名。</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>create '表名', {NAME =&gt; '列族名1'}, {NAME =&gt; '列族名2'}, {NAME =&gt; '列族名3'}
</span></span><span style="display:flex"><span># 此种方式是上上面的简写方式，使用上面方式可以为列族指定更多的属性，如VERSIONS、TTL、BLOCKCACHE、CONFIGURATION等属性
</span></span><span style="display:flex"><span>create '表名', '列族名1', '列族名2', '列族名3'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>create '表名', {NAME =&gt; '列族名1', VERSIONS =&gt; 版本号, TTL =&gt; 过期时间, BLOCKCACHE =&gt; true}
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>create 'tbl_user', 'info', 'detail'
</span></span><span style="display:flex"><span>create 't1', {NAME =&gt; 'f1', VERSIONS =&gt; 1, TTL =&gt; 2592000, BLOCKCACHE =&gt; true}
</span></span></code></pre></div><h2 id="22-修改添加删除表结构schema-alter">2.2 修改(添加、删除)表结构Schema alter<a aria-hidden="true" class="anchor" hidden="" href="#22-修改添加删除表结构schema-alter">#</a></h2><p>添加一个列族</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法 
</span></span><span style="display:flex"><span>alter '表名', '列族名'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>alter 'tbl_user', 'address'
</span></span></code></pre></div><p>删除一个列族</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法 
</span></span><span style="display:flex"><span>alter '表名', {NAME=&gt; '列族名', METHOD=&gt; 'delete'}
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>alter 'tbl_user', {NAME=&gt; 'address', METHOD=&gt; 'delete'}
</span></span></code></pre></div><p>修改列族信息</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 修改f1列族的版本为5
</span></span><span style="display:flex"><span>alter 't1', NAME =&gt; 'f1', VERSIONS =&gt; 5
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 修改多个列族，修改f2为内存，版本号为5
</span></span><span style="display:flex"><span>alter 't1', 'f1', {NAME =&gt; 'f2', IN_MEMORY =&gt; true}, {NAME =&gt; 'f3', VERSIONS =&gt; 5}
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 也可以修改table-scope属性，例如MAX_FILESIZE, READONLY,MEMSTORE_FLUSHSIZE, DEFERRED_LOG_FLUSH等。
</span></span><span style="display:flex"><span># 例如，修改region的最大大小为128MB：
</span></span><span style="display:flex"><span>alter 't1', MAX_FILESIZE =&gt; '134217728'
</span></span></code></pre></div><h2 id="23-删除表drop">2.3 删除表drop<a aria-hidden="true" class="anchor" hidden="" href="#23-删除表drop">#</a></h2><p>需要先禁用表，然后再删除表，启用的表是不允许删除的</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>disable '表名'
</span></span><span style="display:flex"><span>drop '表名'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>disable 'tbl_user'
</span></span><span style="display:flex"><span>drop 'tbl_user'
</span></span></code></pre></div><h2 id="24-显示hbase所支持的所有过滤器">2.4 显示hbase所支持的所有过滤器<a aria-hidden="true" class="anchor" hidden="" href="#24-显示hbase所支持的所有过滤器">#</a></h2><p><code>show_filters</code></p><p>过滤器用于get和scan命令中作为筛选数据的条件，类型关系型数据库中的where的作用</p><h1 id="3-dml命令">3. dml命令<a aria-hidden="true" class="anchor" hidden="" href="#3-dml命令">#</a></h1><h2 id="31-插入或者修改数据put">3.1. 插入或者修改数据put<a aria-hidden="true" class="anchor" hidden="" href="#31-插入或者修改数据put">#</a></h2><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span># 当列族中只有一个列时'列族名:列名'使用'列族名'
</span></span><span style="display:flex"><span>put '表名', '行键', '列族名', '列值'
</span></span><span style="display:flex"><span>put '表名', '行键', '列族名:列名', '列值'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 创建表
</span></span><span style="display:flex"><span>create 'tbl_user', 'info', 'detail', 'address'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 第一行数据
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'info:id', '1'
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'info:name', '张三'
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'info:age', '28'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'detail:birthday', '1990-06-26'
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'detail:email', 'abc@163.com'
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'detail:create_time', '2019-03-04 14:26:10'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>put 'tbl_user', 'mengday', 'address', '上海市'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 第二行数据
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'info:id', '2'
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'info:name', '李四'
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'info:age', '27'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'detail:birthday', '1990-06-27'
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'detail:email', 'xxx@gmail.com'
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'detail:create_time', '2019-03-05 14:26:10'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>put 'tbl_user', 'vbirdbest', 'address', '北京市'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 第一行数据
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'info:id', '3'
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'info:name', '王五'
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'info:age', '26'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'detail:birthday', '1990-06-28'
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'detail:email', 'xyz@qq.com'
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'detail:create_time', '2019-03-06 14:26:10'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>put 'tbl_user', 'xiaoming', 'address', '杭州市'
</span></span></code></pre></div><h2 id="32-全表扫描scan">3.2 全表扫描scan<a aria-hidden="true" class="anchor" hidden="" href="#32-全表扫描scan">#</a></h2><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 获取表的所有数据
</span></span><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>scan '表名'
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>scan 'tbl_user'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 扫描整个列簇
</span></span><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>scan '表名', {COLUMN=&gt;'列族名'}
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>scan 'tbl_user', {COLUMN=&gt;'info'}
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 扫描整个列簇的某个列
</span></span><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>scan '表名', {COLUMN=&gt;'列族名:列名'}    
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>scan 'tbl_user', {COLUMN=&gt;'info:age'}
</span></span></code></pre></div><h2 id="33-获取数据get">3.3 获取数据get<a aria-hidden="true" class="anchor" hidden="" href="#33-获取数据get">#</a></h2><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>get '表名', '行键'
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>get 'tbl_user', 'mengday'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 根据某一行某列族的数据
</span></span><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>get '表名', '行键', '列族名'
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>get 'tbl_user', 'mengday', 'info'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 获取rowKey=r1并且 1552819392398 &lt;= 时间戳范围 &lt; 1552819398244
</span></span><span style="display:flex"><span>get 't1', 'r1', {TIMERANGE =&gt; [1552819392398, 1552819398244]}
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 获取指定列的值，多个值使用数组表示
</span></span><span style="display:flex"><span>get 't1', 'r1', {COLUMN =&gt; ['c1', 'c2', 'c3']}
</span></span></code></pre></div><h2 id="34-删除某个列族中的某个列delete">3.4 删除某个列族中的某个列delete<a aria-hidden="true" class="anchor" hidden="" href="#34-删除某个列族中的某个列delete">#</a></h2><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>delete '表名', '行键', '列族名:列名'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>create 'tbl_test', 'columnFamily1'
</span></span><span style="display:flex"><span>put 'tbl_test', 'rowKey1', 'columnFamily1:column1', 'value1'
</span></span><span style="display:flex"><span>put 'tbl_test', 'rowKey1', 'columnFamily1:column2', 'value2'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>delete 'tbl_test', 'rowKey1', 'columnFamily1:column1'
</span></span></code></pre></div><h2 id="35-删除某行数据deleteall">3.5 删除某行数据deleteall<a aria-hidden="true" class="anchor" hidden="" href="#35-删除某行数据deleteall">#</a></h2><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>deleteall '表名', '行键'
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>deleteall 'tbl_test', 'rowKey1'
</span></span></code></pre></div><h2 id="36-清空整个表的数据truncate">3.6 清空整个表的数据truncate<a aria-hidden="true" class="anchor" hidden="" href="#36-清空整个表的数据truncate">#</a></h2><p><code>truncate '表名'</code></p><h2 id="37-limit-返回的行数">3.7 LIMIT 返回的行数<a aria-hidden="true" class="anchor" hidden="" href="#37-limit-返回的行数">#</a></h2><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法
</span></span><span style="display:flex"><span>scan '表名', { LIMIT =&gt; 行数}
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>scan 'tbl_user', { LIMIT =&gt; 2 }
</span></span></code></pre></div><h2 id="38-filter条件过滤器">3.8 FILTER条件过滤器<a aria-hidden="true" class="anchor" hidden="" href="#38-filter条件过滤器">#</a></h2><p>过滤器之间可以使用AND、OR连接多个过滤器。<br/><strong>ValueFilter 值过滤器</strong></p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法：binary 等于某个值
</span></span><span style="display:flex"><span>scan '表名', FILTER=&gt;"ValueFilter(=,'binary:列值')"
</span></span><span style="display:flex"><span># 语法 substring:包含某个值
</span></span><span style="display:flex"><span>scan '表名', FILTER=&gt;"ValueFilter(=,'substring:列值')"
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>scan 'tbl_user', FILTER=&gt;"ValueFilter(=, 'binary:26')"
</span></span><span style="display:flex"><span>scan 'tbl_user', FILTER=&gt;"ValueFilter(=, 'substring:6')"
</span></span></code></pre></div><p><strong>ColumnPrefixFilter 列名前缀过滤器</strong></p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span># 语法 substring:包含某个值
</span></span><span style="display:flex"><span>scan '表名', FILTER=&gt;"ColumnPrefixFilter('列名前缀')"
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span># 示例
</span></span><span style="display:flex"><span>scan 'tbl_user', FILTER=&gt;"ColumnPrefixFilter('birth')"
</span></span><span style="display:flex"><span># 通过括号、AND和OR的条件组合多个过滤器
</span></span><span style="display:flex"><span>scan 'tbl_user', FILTER=&gt;"ColumnPrefixFilter('birth') AND ValueFilter(=,'substring:26')"
</span></span></code></pre></div><blockquote><p><a href="https://blog.csdn.net/u013980127/article/details/52443155" rel="noopener" target="_blank">https://blog.csdn.net/u013980127/article/details/52443155</a>
<a href="https://blog.csdn.net/vbirdbest/article/details/88236575" rel="noopener" target="_blank">https://blog.csdn.net/vbirdbest/article/details/88236575</a></p></blockquote></div><footer class="post-footer"><ul class="post-tags"><li><a href="https://xiaokunji.com/zh/tags/HBase.html">HBase</a></li><li><a href="https://xiaokunji.com/zh/tags/Hadoop%E7%94%9F%E6%80%81%E5%9C%88.html">Hadoop生态圈</a></li></ul></footer></article></main><script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><footer class="footer"><span>Copyright
©
-2023
<a href="https://xiaokunji.com/zh/" style="color:#939393">米二</a>
All Rights Reserved
</span><span id="busuanzi_container"><span class="fa fa-user">用户数:</span><span id="busuanzi_value_site_uv"></span>
<span class="fa fa-eye">访问数:</span><span id="busuanzi_value_site_pv"></span></span></footer><a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)"><svg fill="currentcolor" viewbox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M12 6H0l6-6z"></path></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>