<!DOCTYPE html>
<html dir="auto" lang="zh"><head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="x-ua-compatible"/><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"/><meta content="index, follow" name="robots"/><title>代码质量与技术债介绍 | 米二</title><meta content="代码质量:,技术债,破窗效应,单元测试,代码坏味道" name="keywords"/><meta content="代码质量与技术债介绍" name="description"/><meta content="xkj" name="author"/><link href="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%80%BA.html" rel="canonical"/><link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.dc6bd2c841ee388e899e13872ae986c0e847e8b957d6714ad6ddc628ef2d17ff.css" integrity="sha256-3GvSyEHuOI6JnhOHKumGwOhH6LlX1nFK1t3GKO8tF/8=" rel="preload stylesheet"/><script crossorigin="anonymous" defer="" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload="hljs.initHighlightingOnLoad()" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js"></script>
<link href="https://xiaokunji.com/img/Q.svg" rel="icon"/><link href="https://xiaokunji.com/img/Q.svg" rel="icon" sizes="16x16" type="image/png"/><link href="https://xiaokunji.com/img/Q.svg" rel="icon" sizes="32x32" type="image/png"/><link href="https://xiaokunji.com/Q.svg" rel="apple-touch-icon"/><link href="https://xiaokunji.com/Q.svg" rel="mask-icon"/><meta content="#2e2e33" name="theme-color"/><meta content="#2e2e33" name="msapplication-TileColor"/><link href="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%80%BA.html" hreflang="zh" rel="alternate"/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta content="代码质量与技术债介绍" property="og:title"/><meta content="代码质量与技术债介绍" property="og:description"/><meta content="article" property="og:type"/><meta content="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%80%BA.html" property="og:url"/><meta content="综合" property="article:section"/><meta content="2024-09-04T00:00:00+00:00" property="article:published_time"/><meta content="2024-09-04T20:06:34+08:00" property="article:modified_time"/><meta content="summary" name="twitter:card"/><meta content="代码质量与技术债介绍" name="twitter:title"/><meta content="代码质量与技术债介绍" name="twitter:description"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":5,"name":"代码质量与技术债介绍","item":"https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%80%BA.html"}]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"代码质量与技术债介绍","name":"代码质量与技术债介绍","description":"代码质量与技术债介绍","keywords":["代码质量:","技术债","破窗效应","单元测试","代码坏味道"],"articleBody":"1. 为什么代码质量很重要? 生成高质量的代码最终会提高最终用户的体验。专注于创建高质量的代码还可以帮助使用者了解他们正在使用的软件或程序的安全性和可靠性。\n编写正常运行的高质量代码至关重要。当开发人员编写低质量的代码时，可能会产生漏洞和缺陷，从而使软件面临网络安全威胁，影响软件使用和业务进行，并影响软件的可靠性。\n增强代码可读性：代码可读性很重要，这可以提高其他开发人员对代码的理解率。易于阅读的代码也易于改进。\n提高程序可持续性水平：程序可持续性衡量代码在最小更改下存活更长时间。高质量的代码可以持续运行多年。\n提高可转移性：将代码从一个平台传输到另一个平台过程很复杂，对于开发人员来说，传输高质量的代码要容易得多，因为他们只需要进行尽可能少的更改。\n降低与程序或软件相关的成本：当软件持续很长时间而几乎没有问题时，可以为公司节省成本。公司无需花费额外的时间来重写低质量的代码。\n提高代码安全性：在编写代码时，每千行代码就可能会引入4到6个缺陷，通过编写高质量代码遵循编码规范，可以提高代码安全性，减少代码中的缺陷或漏洞，从而提高软件安全性。\n2. 优秀代码的特质：CLEAN Cohesive: 高内聚的代码更容易理解和查找bug\nLoosely Coupled: 松耦合的代码让实体之间的副作用更少，更容易测试、复用、扩展\nEncapsulated: 封装良好的代码有助于管理复杂度，也更容易修改\nAssertive: 自主的代码其行为和其所依赖的数据放在一起，不与其它代码互相干预(Tell but not Ask)\nNonredundant: 无冗余的代码意味着可以只在一个地方修复bug和进行更改\n3. 软件工程中的破窗效应 破窗效应是社会学 （犯罪学）的词语，语义如下:\n“一个房子如果窗户破了，没有人去修补，隔不久，其它的窗户也会莫名其妙地被人打破; 一面墙，如果出现一些涂鸦没有被清洗掉，很快 的，墙上就布满了乱七八糟、不堪入目的东西;一个很干净的地方，人们不好意思丢垃圾，但是一旦地上有垃圾出现之后，人就会毫不犹疑地抛，丝毫不觉羞愧。”\n引申到软件工程中: 当团队成员观察到代码库中存在质量不高的代码时，他们对自己的代码质量标准也可能相应降低。\n比如\n原来的代码连续写了好几个if, 当后续新功能增加时也是累加if判断, 而不是抽取使用设计模式或者map映射\n方法长度不断增长\n类的方法数, 成员变量数不断累加\n相似代码不断粘贴复制\n破窗效应在软件开发中的体现可以分为以下几个方面：\n代码质量的连锁反应：一旦代码库中出现了质量不高的代码，其他开发者可能会认为低质量代码是可以接受的，从而导致新写的代码也存在类似问题。\n技术债务的累积：破窗效应不仅仅是代码质量下降的问题，它还可能导致技术债务的快速增加，长期来看将严重影响项目的可维护性和扩展性。\n团队士气和标准的下降：当看到低质量代码被接受时，团队成员的士气可能会受到影响。他们可能会觉得追求代码质量的努力是没有回报的。\n4. 代码质量的度量：技术债 概念 开发人员为了加速软件开发，在应该采用最佳方案时进行了妥协，改用了短期内能加速软件开发的方案，从而在未来给自己带来的额外开发负担。\n本金\n修复代码质量问题所需人力资源估值(人天、人月等)\n年利息\n代码质量问题每年造成损失的估值\n负债率\n偿还债务所需资源 / 重写所有代码的预估资源\n如果负债率超过 100% , 意味着代码已经破产,\n在开发过程中, 当改动屎山代码时,会觉得改不动了, 还不如重新写一份来得快, 此时基本标志代码已经破产\n5. 代码质量衡量指标 SQALE(Software Quality Assessment based on Lifecycle Expectations)方法整合了ISO-25010标准与代码规范，其目标是：以客观、准确、可复制和自动化的方式为评估软件应用程序的源代码提供支持；为管理技术债务提供一种有效的方法。SQALE是目前众多主流代码分析工具的参照标准，包括我们熟知的SonarQube，和CoderGears, SQUORE等商用代码扫描分析工具。\n5.1 代码可维护性规则列表 类型 扫描规则 可测性 1. 函数不能太复杂2. 函数不能有太多参数3. 表达式不能太复杂 可变更性 源文件不能有重复代码块控制流\"if\",“for”,“while”,“switch”,“try\"等不能嵌套太深类不能与其他的类耦合（单一职责）类不能有太多方法类不能有太多域不能使用魔数“switch\"不能有太多的\"case” 可读性 函数不能有太多行代码不应被注释掉注释不能放在代码行的行末 6. EPC代码质量管理指标 6.1 圈复杂度 定义\n圈复杂度是用来衡量一个模块判定结构的复杂程度，数量上表现为线性无关的路径条数，即合理的预防错误所需测试的最少路径条数。圈复杂度大说明程序代码可能质量低且难于测试和维护，根据经验，程序的可能错误和高的圈复杂度有着很大关系。\n举例 如果一段源码中不包含控制流语句（条件或决策点），那么这段代码的圈复杂度为1，因为这段代码中只有一条路径；如果一段代码中仅包含一个f语句，且f语句仅有一个条件，那么这段代码的圈复杂度为2；包含两个嵌套的f语句，或是一个f语句有两个 条件的代码块的圈复杂度为3。\n6.2 圈复杂度千行平均超标数 定义 代码仓库主干上的某一个revision的所有代码，去除所有自动化测试代码后，通过工具对函数圈复杂度扫描之后，计算出所有超出阈值的函数圈复杂度总和。\n圈复杂度千行平均超标数 = 超阈值函数圈复杂度总和 / 该语言本次被扫描的生产代码总行数 * 1000\n说明： 1, 第三方生产的代码，或者由工具自动生成的非人工代码不计入到代码行数和圈复杂度数据当中。 2, 代码仓库中包含的第三方代码和工具生成的代码应该在研发部登记，以便核查。\n6.3 函数长度 定义 一个函数中，去除空行及注释后的代码行数。\n阈值及统计方式\n指定阈值(根据EPC代码质量维度中不同级别的要求)\n计算方式与前面阈值统计计算的方法。\n6.4 文件长度 定义 一个文件中，去除空行及注释后的行数。\n阈值及统计方式\n指定阈值(根据EPC代码质量维度中不同级别的要求)\n计算方式与前面阈值统计计算的方法。\n6.5 函数缩进深度 定义 举例说明深度的定义。下面的函数中，缩进深度是3.\npublic void calculate(int count,boolean isInChina){ for(int i =0;i\u003ccount;i++){ // 1 if(isInChina){ // 2 tax+=price*5%; // 3 } } } 6.6 函数入参数量 定义 一个函数声明中所接受的传入参数个数。\n6.7 对象耦合度 定义 在面向对象语言中，此规则计算对象中唯一属性、局部变量和返回类型的数量。高于指定阈值的数字表示耦合度较高。\n7. 圈复杂度 VS 认知复杂度 圈复杂度它指的是独立的执行路径，\n认知复杂度则是说人脑去理解它的复杂程度。\n圈复杂度对比:\n两段代码的圈复杂度都是4\n认知复杂度\n左边代码认知复杂度为7 , 右边代码认知复杂度为1\n8. 技术债从何来? 8.1 对象函数的问题 过长函数\n过长参数列表\n基本类型偏执\n表现为不愿意在小的问题域上运用对象\n例如, 一个订单类中目前只有商品名称字段, 坏味道的代码就是直接把商品名称字段写订单类中, 而不是引入一个商品类, 当后续需要增加商品价格/商品分类时 可能会继续累加字段\n重复的switch/if\n循环语句\n表现为: 多层嵌套或者认知复杂度高的循环类代码\n可以用jdk8的lambda和map等手段降低认知复杂度\n8.2 对象数据的问题 神秘命名\n命名不规范或者命名单词错误等\n全局数据\n使用全局变量, 并在代码中修改其值\n这会加大代码的理解程度, 稍有不注意, 就会在哪个犄角旮旯修改了, 造成幽灵式bug\n优化: 减少可变的全局变量; 写操作次数和场景尽可能的少\n可变数据\n对数据的随意修改经常会导致出乎意料的结果和难以发现的bug\n比如类的成员变量应该只有一种修改入口, setXXX(), 而不能直接修改成员变量, 引申到其他变量也一样, 变量的修改入口只有一种,不能有各种方式都能修复\n数据泥团\n指不同类拥有大部分相同的成员变量,\n比如: 订单类 和商品类 都有 id/创建时间/修改时间/创建人 等\n此时应该考虑抽离公共基础类, 使业务类继承它, 若有相同的业务字段也应该类似处理\n临时字段\n表现为 一个临时字段但拥有较大的作用范围,\n例如, 一个方法内的变量, 但设置成全局变量, 或者设置成上游函数的变量(再传递到当前函数)\n应当让变量的作用域尽可能的小\n纯数据类\n意思是, 只有数据没有行为\njava中的pojo类都属于这种情况, 在java中有大量的DAO/DTO/VO 这样的后缀类, 类中一般只有成员变量, get/set, 而且没有对这个类具体的业务操作\n但这种刚好属于例外情况: 纯数据记录对象被用作函数调用的返回结果\n第 3 章 代码的坏味道 · 重构: 改善既有代码的设计 8.3 对象关系的问题 过长的消息链\n中间人\nA类对B类进行封装, 使B隐藏起来, 但 A类中都是直接调用了B类, 此时A类这个中间人就是多余的\n内幕交易\n通常指的是类或模块之间过度依赖内部实现细节，而不是通过公开的接口进行交互\n比如 A类中直接处理了B类的数据, 而不是调用B类方法来处理\nclass Order { private List\u003cItem\u003e items; public List\u003cItem\u003e getItems() { return items; } } class OrderProcessor { public void processOrder(Order order) { List\u003cItem\u003e items = order.getItems(); for (Item item : items) { // 直接访问 Item 的内部数据 if (item.getPrice() \u003e 100) { System.out.println(\"Expensive item: \" + item.getName()); } } } } // OrderProcessor 类的processOrder方法直接处理了 Order类的Item类的字段, 当别人调用processOrder方法时被认为存在内幕交易(明明只处理order, 但连order里字段也处理了, 而且处理位置在OrderProcessor ) // 改进: 将对item变量的处理逻辑放在Order类中 被拒绝的馈赠\n子类仅仅使用父类中的部分方法和属性。其他来自父类的馈赠成为了累赘。\n可以 以委托取代继承来达到目的。\n发散式变化：一个类因为多个原因被修改，类的功能过多\n霰弹式修改：增加/修改一个功能，需要修改多个类\n依恋情结：某个函数为了计算某值，从另一个对象那儿调用了大量的取值函数\n夸夸其谈通用性：遵循合适原则，不用为未来的无限的可能情况做设计\n8.4 其他问题 重复代码\n冗赘的元素\n过大的类\n异曲同工的类\n注释\n9. 还债的技术 9.1 重构 9.1.1 实现逻辑重构 遵循代码规范\n解决代码静态分析工具扫描出的问题\n消灭code smell\n9.1.2 设计重构 抽象规则\n封装规则\n模块化原则\n层次结构原则\n9.1.3 架构重构 9.2 单元测试 单测的好处\n提升质量信心\n保护开发自己\n如何写单测\njunit , spock等单测框架\n9.3 Code Review CR的好处\n建立CR的机制\n10. 技术债管理 10.1 战略战术 定战略\n切记一刀切\n根据业务发展阶段可以分为 探索阶段/ 上升阶段 / 稳定阶段 / 下沉阶段,\n它们分别的管理方案: 预防技术债 / 治理 / 控制 / 放任\n定战术\n平衡业务和债务的关系\n10.2 工具流程 codeDog \u0026\u0026 CodeCC\n质量红线\n10.3 打造学习型组织 工程素养提升\n设计模式：掌握24种设计模式\n设计原则：掌握SOLID原则(单一职责、开闭原则、里氏替换、接口隔离、依赖反转)\n方法学：了解Devops,极限编程，Scrum,精益，看板，瀑布，结构化分析，结构化设计\n实践：实践测试驱动开发，面向对象设计，结构化编程，函数式编程，持续集成，结对编程\n工程文化培养\n为什么代码质量很重要?代码质量是指软件代码的编写和可维护程度。它包括可读性、效率、可扩展性、可靠性、可维护性和安全性等因 - 掘金 软件开发中的破窗效应分析破窗效应，这一起源于城市犯罪学的理论，已经逐渐被应用于多个领域，包括软件开发。在软件开发的环境中 - 掘金 代码质量衡量指标 - ideal_1412 - 博客园 第 3 章 代码的坏味道 · 重构: 改善既有代码的设计 重构-改善既有代码的设计：坏代码的味道，编写代码20多宗罪（三）-腾讯云开发者社区-腾讯云 ","wordCount":"4487","inLanguage":"zh","datePublished":"2024-09-04T00:00:00Z","dateModified":"2024-09-04T20:06:34+08:00","author":{"@type":"Person","name":"xkj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%80%BA.html"},"publisher":{"@type":"Organization","name":"米二","logo":{"@type":"ImageObject","url":"https://xiaokunji.com/img/Q.svg"}}}</script></head><body class="dark" id="top"><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class="header"><nav class="nav"><div class="logo"><a accesskey="h" href="https://xiaokunji.com/zh/" title="米二 (Alt + H)"><img alt="" aria-label="logo" height="35" src="https://xiaokunji.com/img/Q.svg"/>米二</a><div class="logo-switches"><button accesskey="t" id="theme-toggle" title="(Alt + T)"><svg fill="none" height="18" id="moon" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg><svg fill="none" height="18" id="sun" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="5"></circle><line x1="12" x2="12" y1="1" y2="3"></line><line x1="12" x2="12" y1="21" y2="23"></line><line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line><line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line><line x1="1" x2="3" y1="12" y2="12"></line><line x1="21" x2="23" y1="12" y2="12"></line><line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line><line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line></svg></button><ul class="lang-switch"><li>|</li><li><a aria-label="English" href="https://xiaokunji.com/en/" title="English">English</a></li></ul></div></div><ul id="menu"><li><a href="https://xiaokunji.com/zh/" title="🏠主页"><span>🏠主页</span></a></li><li><a accesskey="/" href="https://xiaokunji.com/zh/search" title="🔍搜索 (Alt + /)"><span>🔍搜索</span></a></li><li><a href="https://xiaokunji.com/zh/post.html" title="📚文章"><span>📚文章</span></a></li><li><a href="https://xiaokunji.com/zh/archives.html" title="⏱时间轴"><span>⏱时间轴</span></a></li><li><a href="https://xiaokunji.com/zh/tags.html" title="🔖标签"><span>🔖标签</span></a></li><li><a href="https://xiaokunji.com/zh/categories.html" title="📖分类"><span>📖分类</span></a></li><li><a href="https://xiaokunji.com/zh/links.html" title="🤝友链"><span>🤝友链</span></a></li></ul></nav></header><main class="main"><article class="post-single"><header class="post-header"><nav aria-label="breadcrumb"><ul><a href="https://xiaokunji.com/zh/">🏠</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88.html">综合</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86.html">个人小知识</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB.html">代码类</a> <span>&gt;</span></ul></nav><h1 class="post-title">代码质量与技术债介绍</h1><div class="post-description">代码质量与技术债介绍</div><div class="post-meta">创建: <span title="2024-09-04 00:00:00 +0000 UTC">2024-09-04</span> · 更新: 2024-09-04 · xkj
 | 分类:  <ul class="post-categories-meta" style="display:inline"><a href="https://xiaokunji.com/zh/categories/%E7%BB%BC%E5%90%88.html">综合</a></ul><span id="busuanzi_container_page_pv"> | 访问: <span id="busuanzi_value_page_pv">1</span></span></div></header><aside class="toc-container wide" id="toc-container"><div class="toc"><details open=""><summary accesskey="c" title="(Alt + C)"><span class="details">目录</span></summary><div class="inner"><ul><li><a aria-label="1. 为什么代码质量很重要?" href="#1-%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bb%a3%e7%a0%81%e8%b4%a8%e9%87%8f%e5%be%88%e9%87%8d%e8%a6%81">1. 为什么代码质量很重要?</a></li><li><a aria-label="2. 优秀代码的特质：CLEAN" href="#2-%e4%bc%98%e7%a7%80%e4%bb%a3%e7%a0%81%e7%9a%84%e7%89%b9%e8%b4%a8clean">2. 优秀代码的特质：CLEAN</a></li><li><a aria-label="3. 软件工程中的破窗效应" href="#3-%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b%e4%b8%ad%e7%9a%84%e7%a0%b4%e7%aa%97%e6%95%88%e5%ba%94">3. 软件工程中的破窗效应</a></li><li><a aria-label="4. 代码质量的度量：技术债" href="#4-%e4%bb%a3%e7%a0%81%e8%b4%a8%e9%87%8f%e7%9a%84%e5%ba%a6%e9%87%8f%e6%8a%80%e6%9c%af%e5%80%ba">4. 代码质量的度量：技术债</a><ul><li><a aria-label="概念" href="#%e6%a6%82%e5%bf%b5">概念</a></li></ul></li><li><a aria-label="5. 代码质量衡量指标" href="#5-%e4%bb%a3%e7%a0%81%e8%b4%a8%e9%87%8f%e8%a1%a1%e9%87%8f%e6%8c%87%e6%a0%87">5. 代码质量衡量指标</a><ul><li><a aria-label="5.1 代码可维护性规则列表" href="#51-%e4%bb%a3%e7%a0%81%e5%8f%af%e7%bb%b4%e6%8a%a4%e6%80%a7%e8%a7%84%e5%88%99%e5%88%97%e8%a1%a8">5.1 代码可维护性规则列表</a></li></ul></li><li><a aria-label="6. EPC代码质量管理指标" href="#6-epc%e4%bb%a3%e7%a0%81%e8%b4%a8%e9%87%8f%e7%ae%a1%e7%90%86%e6%8c%87%e6%a0%87">6. EPC代码质量管理指标</a><ul><li><a aria-label="6.1 圈复杂度" href="#61-%e5%9c%88%e5%a4%8d%e6%9d%82%e5%ba%a6">6.1 圈复杂度</a></li><li><a aria-label="6.2 圈复杂度千行平均超标数" href="#62-%e5%9c%88%e5%a4%8d%e6%9d%82%e5%ba%a6%e5%8d%83%e8%a1%8c%e5%b9%b3%e5%9d%87%e8%b6%85%e6%a0%87%e6%95%b0">6.2 圈复杂度千行平均超标数</a></li><li><a aria-label="6.3 函数长度" href="#63-%e5%87%bd%e6%95%b0%e9%95%bf%e5%ba%a6">6.3 函数长度</a></li><li><a aria-label="6.4 文件长度" href="#64-%e6%96%87%e4%bb%b6%e9%95%bf%e5%ba%a6">6.4 文件长度</a></li><li><a aria-label="6.5 函数缩进深度" href="#65-%e5%87%bd%e6%95%b0%e7%bc%a9%e8%bf%9b%e6%b7%b1%e5%ba%a6">6.5 函数缩进深度</a></li><li><a aria-label="6.6 函数入参数量" href="#66-%e5%87%bd%e6%95%b0%e5%85%a5%e5%8f%82%e6%95%b0%e9%87%8f">6.6 函数入参数量</a></li><li><a aria-label="6.7 对象耦合度" href="#67-%e5%af%b9%e8%b1%a1%e8%80%a6%e5%90%88%e5%ba%a6">6.7 对象耦合度</a></li></ul></li><li><a aria-label="7. 圈复杂度 VS 认知复杂度" href="#7-%e5%9c%88%e5%a4%8d%e6%9d%82%e5%ba%a6-vs-%e8%ae%a4%e7%9f%a5%e5%a4%8d%e6%9d%82%e5%ba%a6">7. 圈复杂度 VS 认知复杂度</a></li><li><a aria-label="8. 技术债从何来?" href="#8-%e6%8a%80%e6%9c%af%e5%80%ba%e4%bb%8e%e4%bd%95%e6%9d%a5">8. 技术债从何来?</a><ul><li><a aria-label="8.1 对象函数的问题" href="#81-%e5%af%b9%e8%b1%a1%e5%87%bd%e6%95%b0%e7%9a%84%e9%97%ae%e9%a2%98">8.1 对象函数的问题</a></li><li><a aria-label="8.2 对象数据的问题" href="#82-%e5%af%b9%e8%b1%a1%e6%95%b0%e6%8d%ae%e7%9a%84%e9%97%ae%e9%a2%98">8.2 对象数据的问题</a></li><li><a aria-label="8.3 对象关系的问题" href="#83-%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb%e7%9a%84%e9%97%ae%e9%a2%98">8.3 对象关系的问题</a></li><li><a aria-label="8.4 其他问题" href="#84-%e5%85%b6%e4%bb%96%e9%97%ae%e9%a2%98">8.4 其他问题</a></li></ul></li><li><a aria-label="9. 还债的技术" href="#9-%e8%bf%98%e5%80%ba%e7%9a%84%e6%8a%80%e6%9c%af">9. 还债的技术</a><ul><li><a aria-label="9.1 重构" href="#91-%e9%87%8d%e6%9e%84">9.1 重构</a><ul><li><a aria-label="9.1.1  实现逻辑重构" href="#911--%e5%ae%9e%e7%8e%b0%e9%80%bb%e8%be%91%e9%87%8d%e6%9e%84">9.1.1 实现逻辑重构</a></li><li><a aria-label="9.1.2 设计重构" href="#912-%e8%ae%be%e8%ae%a1%e9%87%8d%e6%9e%84">9.1.2 设计重构</a></li><li><a aria-label="9.1.3 架构重构" href="#913-%e6%9e%b6%e6%9e%84%e9%87%8d%e6%9e%84">9.1.3 架构重构</a></li></ul></li><li><a aria-label="9.2 单元测试" href="#92-%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95">9.2 单元测试</a></li><li><a aria-label="9.3 Code Review" href="#93-code-review">9.3 Code Review</a></li></ul></li><li><a aria-label="10. 技术债管理" href="#10-%e6%8a%80%e6%9c%af%e5%80%ba%e7%ae%a1%e7%90%86">10. 技术债管理</a><ul><li><a aria-label="10.1 战略战术" href="#101-%e6%88%98%e7%95%a5%e6%88%98%e6%9c%af">10.1 战略战术</a></li><li><a aria-label="10.2 工具流程" href="#102-%e5%b7%a5%e5%85%b7%e6%b5%81%e7%a8%8b">10.2 工具流程</a></li><li><a aria-label="10.3 打造学习型组织" href="#103-%e6%89%93%e9%80%a0%e5%ad%a6%e4%b9%a0%e5%9e%8b%e7%bb%84%e7%bb%87">10.3 打造学习型组织</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class="post-content"><h1 id="1-为什么代码质量很重要">1. 为什么代码质量很重要?<a aria-hidden="true" class="anchor" hidden="" href="#1-为什么代码质量很重要">#</a></h1><p>生成高质量的代码最终会提高最终用户的体验。专注于创建高质量的代码还可以帮助使用者了解他们正在使用的软件或程序的安全性和可靠性。</p><p>编写正常运行的高质量代码至关重要。当开发人员编写低质量的代码时，可能会产生漏洞和缺陷，从而使软件面临网络安全威胁，影响软件使用和业务进行，并影响软件的可靠性。</p><p><strong>增强代码可读性</strong>：代码可读性很重要，这可以提高其他开发人员对代码的理解率。易于阅读的代码也易于改进。</p><p><strong>提高程序可持续性水平</strong>：程序可持续性衡量代码在最小更改下存活更长时间。高质量的代码可以持续运行多年。</p><p><strong>提高可转移性</strong>：将代码从一个平台传输到另一个平台过程很复杂，对于开发人员来说，传输高质量的代码要容易得多，因为他们只需要进行尽可能少的更改。</p><p><strong>降低与程序或软件相关的成本</strong>：当软件持续很长时间而几乎没有问题时，可以为公司节省成本。公司无需花费额外的时间来重写低质量的代码。</p><p><strong>提高代码安全性</strong>：在编写代码时，每千行代码就可能会引入4到6个缺陷，通过编写高质量代码遵循编码规范，可以提高代码安全性，减少代码中的缺陷或漏洞，从而提高软件安全性。</p><h1 id="2-优秀代码的特质clean">2. 优秀代码的特质：CLEAN<a aria-hidden="true" class="anchor" hidden="" href="#2-优秀代码的特质clean">#</a></h1><ol><li><p><strong>Cohesive</strong>: 高内聚的代码更容易理解和查找bug</p></li><li><p><strong>Loosely Coupled</strong>: 松耦合的代码让实体之间的副作用更少，更容易测试、复用、扩展</p></li><li><p><strong>Encapsulated</strong>: 封装良好的代码有助于管理复杂度，也更容易修改</p></li><li><p><strong>Assertive</strong>: 自主的代码其行为和其所依赖的数据放在一起，不与其它代码互相干预(Tell but not Ask)</p></li><li><p><strong>Nonredundant</strong>: 无冗余的代码意味着可以只在一个地方修复bug和进行更改</p></li></ol><h1 id="3-软件工程中的破窗效应">3. 软件工程中的破窗效应<a aria-hidden="true" class="anchor" hidden="" href="#3-软件工程中的破窗效应">#</a></h1><p>破窗效应是社会学 （犯罪学）的词语，语义如下:</p><p>“一个房子如果窗户破了，没有人去修补，隔不久，其它的窗户也会莫名其妙地被人打破; 一面墙，如果出现一些涂鸦没有被清洗掉，很快 的，墙上就布满了乱七八糟、不堪入目的东西;一个很干净的地方，人们不好意思丢垃圾，但是一旦地上有垃圾出现之后，人就会毫不犹疑地抛，丝毫不觉羞愧。”</p><img alt="企业环境管理工具——破窗效应(Broken windows theory)_云杉思库-商业新知" src="data:image/jpeg;base64,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" title="" width="426"/><p>引申到软件工程中: <strong>当团队成员观察到代码库中存在质量不高的代码时，他们对自己的代码质量标准也可能相应降低。</strong></p><p>比如</p><ol><li><p>原来的代码连续写了好几个if, 当后续新功能增加时也是累加if判断, 而不是抽取使用设计模式或者map映射</p></li><li><p>方法长度不断增长</p></li><li><p>类的方法数, 成员变量数不断累加</p></li><li><p>相似代码不断粘贴复制</p></li></ol><p>破窗效应在软件开发中的体现可以分为以下几个方面：</p><ol><li><p><strong>代码质量的连锁反应</strong>：一旦代码库中出现了质量不高的代码，其他开发者可能会认为低质量代码是可以接受的，从而导致新写的代码也存在类似问题。</p></li><li><p><strong>技术债务的累积</strong>：破窗效应不仅仅是代码质量下降的问题，它还可能导致技术债务的快速增加，长期来看将严重影响项目的可维护性和扩展性。</p></li><li><p><strong>团队士气和标准的下降</strong>：当看到低质量代码被接受时，团队成员的士气可能会受到影响。他们可能会觉得追求代码质量的努力是没有回报的。</p></li></ol><h1 id="4-代码质量的度量技术债">4. 代码质量的度量：技术债<a aria-hidden="true" class="anchor" hidden="" href="#4-代码质量的度量技术债">#</a></h1><h2 id="概念">概念<a aria-hidden="true" class="anchor" hidden="" href="#概念">#</a></h2><p>开发人员为了加速软件开发，在应该采用最佳方案时进行了妥协，改用了短期内能加速软件开发的方案，从而在未来给自己带来的额外开发负担。</p><p><strong>本金</strong></p><p>修复代码质量问题所需人力资源估值(人天、人月等)</p><p><strong>年利息</strong></p><p>代码质量问题每年造成损失的估值</p><p><strong>负债率</strong></p><p><code>偿还债务所需资源</code> / <code>重写所有代码的预估资源</code></p><blockquote><p>如果负债率超过 100% , 意味着代码已经破产,</p><p>在开发过程中, 当改动屎山代码时,会觉得改不动了, 还不如重新写一份来得快, 此时基本标志代码已经破产</p></blockquote><h1 id="5-代码质量衡量指标">5. 代码质量衡量指标<a aria-hidden="true" class="anchor" hidden="" href="#5-代码质量衡量指标">#</a></h1><p>SQALE(Software Quality Assessment based on Lifecycle Expectations)方法整合了ISO-25010标准与代码规范，其目标是：以客观、准确、可复制和自动化的方式为评估软件应用程序的源代码提供支持；为管理技术债务提供一种有效的方法。SQALE是目前众多主流代码分析工具的参照标准，包括我们熟知的SonarQube，和CoderGears, SQUORE等商用代码扫描分析工具。</p><h2 id="51-代码可维护性规则列表">5.1 代码可维护性规则列表<a aria-hidden="true" class="anchor" hidden="" href="#51-代码可维护性规则列表">#</a></h2><table><thead><tr><th>类型</th><th>扫描规则</th></tr></thead><tbody><tr><td>可测性</td><td>1. 函数不能太复杂<br/>2. 函数不能有太多参数<br/>3. 表达式不能太复杂</td></tr><tr><td>可变更性</td><td>源文件不能有重复代码块<br/>控制流"if",“for”,“while”,“switch”,“try"等不能嵌套太深<br/>类不能与其他的类耦合（单一职责）<br/>类不能有太多方法<br/>类不能有太多域<br/>不能使用魔数<br/>“switch"不能有太多的"case”</td></tr><tr><td>可读性</td><td>函数不能有太多行<br/>代码不应被注释掉<br/>注释不能放在代码行的行末</td></tr></tbody></table><h1 id="6-epc代码质量管理指标">6. EPC代码质量管理指标<a aria-hidden="true" class="anchor" hidden="" href="#6-epc代码质量管理指标">#</a></h1><h2 id="61-圈复杂度">6.1 圈复杂度<a aria-hidden="true" class="anchor" hidden="" href="#61-圈复杂度">#</a></h2><p><strong>定义</strong></p><p>    圈复杂度是用来衡量一个模块判定结构的复杂程度，数量上表现为线性无关的路径条数，即合理的预防错误所需测试的最少路径条数。圈复杂度大说明程序代码可能质量低且难于测试和维护，根据经验，程序的可能错误和高的圈复杂度有着很大关系。</p><p><strong>举例</strong>
如果一段源码中不包含控制流语句（条件或决策点），那么这段代码的圈复杂度为1，因为这段代码中只有一条路径；如果一段代码中仅包含一个f语句，且f语句仅有一个条件，那么这段代码的圈复杂度为2；包含两个嵌套的f语句，或是一个f语句有两个
条件的代码块的圈复杂度为3。</p><h2 id="62-圈复杂度千行平均超标数">6.2 圈复杂度千行平均超标数<a aria-hidden="true" class="anchor" hidden="" href="#62-圈复杂度千行平均超标数">#</a></h2><p><strong>定义</strong>
代码仓库主干上的某一个revision的所有代码，去除所有自动化测试代码后，通过工具对函数圈复杂度扫描之后，计算出所有超出阈值的函数圈复杂度总和。</p><p><code>圈复杂度千行平均超标数</code> = <code>超阈值函数圈复杂度总和</code> / <code>该语言本次被扫描的生产代码总行数</code> * <code>1000</code></p><p><strong>说明：</strong>
1, 第三方生产的代码，或者由工具自动生成的非人工代码不计入到代码行数和圈复杂度数据当中。
2, 代码仓库中包含的第三方代码和工具生成的代码应该在研发部登记，以便核查。</p><h2 id="63-函数长度">6.3 函数长度<a aria-hidden="true" class="anchor" hidden="" href="#63-函数长度">#</a></h2><p><strong>定义</strong>
一个函数中，去除空行及注释后的代码行数。</p><p><strong>阈值及统计方式</strong></p><ul><li><p>指定阈值(根据EPC代码质量维度中不同级别的要求)</p></li><li><p>计算方式与前面阈值统计计算的方法。</p></li></ul><h2 id="64-文件长度">6.4 文件长度<a aria-hidden="true" class="anchor" hidden="" href="#64-文件长度">#</a></h2><p><strong>定义</strong>
一个文件中，去除空行及注释后的行数。</p><p><strong>阈值及统计方式</strong></p><ul><li><p>指定阈值(根据EPC代码质量维度中不同级别的要求)</p></li><li><p>计算方式与前面阈值统计计算的方法。</p></li></ul><h2 id="65-函数缩进深度">6.5 函数缩进深度<a aria-hidden="true" class="anchor" hidden="" href="#65-函数缩进深度">#</a></h2><p><strong>定义</strong>
举例说明深度的定义。下面的函数中，缩进深度是3.</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-java" data-lang="java"><span style="display:flex"><span><span style="color:#ff7b72">public</span> <span style="color:#ff7b72">void</span> <span style="color:#d2a8ff;font-weight:700">calculate</span><span style="color:#ff7b72;font-weight:700">(</span><span style="color:#ff7b72">int</span> count<span style="color:#ff7b72;font-weight:700">,</span><span style="color:#ff7b72">boolean</span> isInChina<span style="color:#ff7b72;font-weight:700">){</span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72">for</span><span style="color:#ff7b72;font-weight:700">(</span><span style="color:#ff7b72">int</span> i <span style="color:#ff7b72;font-weight:700">=</span><span style="color:#a5d6ff">0</span><span style="color:#ff7b72;font-weight:700">;</span>i<span style="color:#ff7b72;font-weight:700">&lt;</span>count<span style="color:#ff7b72;font-weight:700">;</span>i<span style="color:#ff7b72;font-weight:700">++){</span>     <span style="color:#8b949e;font-style:italic">// 1
</span></span></span><span style="display:flex"><span><span style="color:#8b949e;font-style:italic"></span>        <span style="color:#ff7b72">if</span><span style="color:#ff7b72;font-weight:700">(</span>isInChina<span style="color:#ff7b72;font-weight:700">){</span>             <span style="color:#8b949e;font-style:italic">// 2
</span></span></span><span style="display:flex"><span><span style="color:#8b949e;font-style:italic"></span>            tax<span style="color:#ff7b72;font-weight:700">+=</span>price<span style="color:#ff7b72;font-weight:700">*</span><span style="color:#a5d6ff">5</span><span style="color:#ff7b72;font-weight:700">%;</span>         <span style="color:#8b949e;font-style:italic">// 3
</span></span></span><span style="display:flex"><span><span style="color:#8b949e;font-style:italic"></span>        <span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span><span style="color:#ff7b72;font-weight:700">}</span>
</span></span></code></pre></div><h2 id="66-函数入参数量">6.6 函数入参数量<a aria-hidden="true" class="anchor" hidden="" href="#66-函数入参数量">#</a></h2><p><strong>定义</strong>
一个函数声明中所接受的传入参数个数。</p><h2 id="67-对象耦合度">6.7 对象耦合度<a aria-hidden="true" class="anchor" hidden="" href="#67-对象耦合度">#</a></h2><p><strong>定义</strong>
在面向对象语言中，此规则计算对象中唯一属性、局部变量和返回类型的数量。高于指定阈值的数字表示耦合度较高。</p><h1 id="7-圈复杂度-vs-认知复杂度">7. 圈复杂度 VS 认知复杂度<a aria-hidden="true" class="anchor" hidden="" href="#7-圈复杂度-vs-认知复杂度">#</a></h1><p>圈复杂度它指的是独立的执行路径，</p><p>认知复杂度则是说人脑去理解它的复杂程度。</p><p><strong>圈复杂度对比:</strong></p><p>两段代码的圈复杂度都是4</p><img alt="" src="代码质量与技术债.assets/2024-09-04-20-04-27-2024-09-04-11-43-26-企业微信截图_17254214021027.png" title="" width="880"/><p><strong>认知复杂度</strong></p><p>左边代码认知复杂度为7 , 右边代码认知复杂度为1</p><img alt="" src="代码质量与技术债.assets/2024-09-04-20-05-10-2024-09-04-11-44-40-企业微信截图_1725421468473.png" title="" width="878"/><h1 id="8-技术债从何来">8. 技术债从何来?<a aria-hidden="true" class="anchor" hidden="" href="#8-技术债从何来">#</a></h1><h2 id="81-对象函数的问题">8.1 对象函数的问题<a aria-hidden="true" class="anchor" hidden="" href="#81-对象函数的问题">#</a></h2><ol><li><p>过长函数</p></li><li><p>过长参数列表</p></li><li><p>基本类型偏执</p><blockquote><p>表现为不愿意在小的问题域上运用对象</p><p>例如, 一个订单类中目前只有商品名称字段, 坏味道的代码就是直接把商品名称字段写订单类中, 而不是引入一个商品类, 当后续需要增加商品价格/商品分类时 可能会继续累加字段</p></blockquote></li><li><p>重复的switch/if</p></li><li><p>循环语句</p><blockquote><p>表现为: 多层嵌套或者认知复杂度高的循环类代码</p><p>可以用jdk8的lambda和map等手段降低认知复杂度</p></blockquote></li></ol><h2 id="82-对象数据的问题">8.2 对象数据的问题<a aria-hidden="true" class="anchor" hidden="" href="#82-对象数据的问题">#</a></h2><ol><li><p>神秘命名</p><blockquote><p>命名不规范或者命名单词错误等</p></blockquote></li><li><p>全局数据</p><blockquote><p>使用全局变量, 并在代码中修改其值</p><p>这会加大代码的理解程度, 稍有不注意, 就会在哪个犄角旮旯修改了, 造成幽灵式bug</p><p>优化: 减少可变的全局变量; 写操作次数和场景尽可能的少</p></blockquote></li><li><p>可变数据</p><blockquote><p>对数据的随意修改经常会导致出乎意料的结果和难以发现的bug</p><p>比如类的成员变量应该只有一种修改入口, setXXX(), 而不能直接修改成员变量, 引申到其他变量也一样, 变量的修改入口只有一种,不能有各种方式都能修复</p></blockquote></li><li><p>数据泥团</p><blockquote><p>指不同类拥有大部分相同的成员变量,</p><p>比如: 订单类 和商品类 都有 id/创建时间/修改时间/创建人 等</p><p>此时应该考虑抽离公共基础类, 使业务类继承它, 若有相同的业务字段也应该类似处理</p></blockquote></li><li><p>临时字段</p><blockquote><p>表现为 一个临时字段但拥有较大的作用范围,</p><p>例如, 一个方法内的变量, 但设置成全局变量, 或者设置成上游函数的变量(再传递到当前函数)</p><p>应当让变量的作用域尽可能的小</p></blockquote></li><li><p>纯数据类</p><blockquote><p>意思是, 只有数据没有行为</p><p>java中的pojo类都属于这种情况, 在java中有大量的<code>DAO</code>/<code>DTO</code>/<code>VO</code> 这样的后缀类, 类中一般只有成员变量, get/set, 而且没有对这个类具体的业务操作</p><p>但这种刚好属于例外情况: 纯数据记录对象被用作函数调用的返回结果</p><p><a href="https://book-refactoring2.ifmicro.com/docs/ch3.html#322-%E7%BA%AF%E6%95%B0%E6%8D%AE%E7%B1%BB%EF%BC%88data-class%EF%BC%89" rel="noopener" target="_blank">第 3 章 代码的坏味道 · 重构: 改善既有代码的设计</a></p></blockquote></li></ol><h2 id="83-对象关系的问题">8.3 对象关系的问题<a aria-hidden="true" class="anchor" hidden="" href="#83-对象关系的问题">#</a></h2><ol><li><p>过长的消息链</p></li><li><p>中间人</p><blockquote><p>A类对B类进行封装, 使B隐藏起来, 但 A类中都是直接调用了B类, 此时A类这个中间人就是多余的</p></blockquote></li><li><p>内幕交易</p><blockquote><p>通常指的是类或模块之间过度依赖内部实现细节，而不是通过公开的接口进行交互</p><p>比如 A类中直接处理了B类的数据, 而不是调用B类方法来处理</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-java" data-lang="java"><span style="display:flex"><span><span style="color:#ff7b72">class</span> <span style="color:#f0883e;font-weight:700">Order</span> <span style="color:#ff7b72;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72">private</span> List<span style="color:#ff7b72;font-weight:700">&lt;</span>Item<span style="color:#ff7b72;font-weight:700">&gt;</span> items<span style="color:#ff7b72;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72">public</span> List<span style="color:#ff7b72;font-weight:700">&lt;</span>Item<span style="color:#ff7b72;font-weight:700">&gt;</span> <span style="color:#d2a8ff;font-weight:700">getItems</span><span style="color:#ff7b72;font-weight:700">()</span> <span style="color:#ff7b72;font-weight:700">{</span>
</span></span><span style="display:flex"><span>        <span style="color:#ff7b72">return</span> items<span style="color:#ff7b72;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span><span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:#ff7b72">class</span> <span style="color:#f0883e;font-weight:700">OrderProcessor</span> <span style="color:#ff7b72;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72">public</span> <span style="color:#ff7b72">void</span> <span style="color:#d2a8ff;font-weight:700">processOrder</span><span style="color:#ff7b72;font-weight:700">(</span>Order order<span style="color:#ff7b72;font-weight:700">)</span> <span style="color:#ff7b72;font-weight:700">{</span>
</span></span><span style="display:flex"><span>        List<span style="color:#ff7b72;font-weight:700">&lt;</span>Item<span style="color:#ff7b72;font-weight:700">&gt;</span> items <span style="color:#ff7b72;font-weight:700">=</span> order<span style="color:#ff7b72;font-weight:700">.</span>getItems<span style="color:#ff7b72;font-weight:700">();</span>
</span></span><span style="display:flex"><span>        <span style="color:#ff7b72">for</span> <span style="color:#ff7b72;font-weight:700">(</span>Item item <span style="color:#ff7b72;font-weight:700">:</span> items<span style="color:#ff7b72;font-weight:700">)</span> <span style="color:#ff7b72;font-weight:700">{</span>
</span></span><span style="display:flex"><span>            <span style="color:#8b949e;font-style:italic">// 直接访问 Item 的内部数据
</span></span></span><span style="display:flex"><span><span style="color:#8b949e;font-style:italic"></span>            <span style="color:#ff7b72">if</span> <span style="color:#ff7b72;font-weight:700">(</span>item<span style="color:#ff7b72;font-weight:700">.</span>getPrice<span style="color:#ff7b72;font-weight:700">()</span> <span style="color:#ff7b72;font-weight:700">&gt;</span> <span style="color:#a5d6ff">100</span><span style="color:#ff7b72;font-weight:700">)</span> <span style="color:#ff7b72;font-weight:700">{</span>
</span></span><span style="display:flex"><span>                System<span style="color:#ff7b72;font-weight:700">.</span>out<span style="color:#ff7b72;font-weight:700">.</span>println<span style="color:#ff7b72;font-weight:700">(</span><span style="color:#a5d6ff">"Expensive item: "</span> <span style="color:#ff7b72;font-weight:700">+</span> item<span style="color:#ff7b72;font-weight:700">.</span>getName<span style="color:#ff7b72;font-weight:700">());</span>
</span></span><span style="display:flex"><span>            <span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span>       <span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span>    <span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span><span style="color:#ff7b72;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:#8b949e;font-style:italic">// OrderProcessor 类的processOrder方法直接处理了 Order类的Item类的字段, 当别人调用processOrder方法时被认为存在内幕交易(明明只处理order, 但连order里字段也处理了, 而且处理位置在OrderProcessor )
</span></span></span><span style="display:flex"><span><span style="color:#8b949e;font-style:italic">// 改进: 将对item变量的处理逻辑放在Order类中
</span></span></span></code></pre></div></blockquote></li><li><p>被拒绝的馈赠</p><blockquote><p>子类仅仅使用父类中的部分方法和属性。其他来自父类的馈赠成为了累赘。</p><p>可以 以委托取代继承来达到目的。</p></blockquote></li><li><p>发散式变化：一个类因为多个原因被修改，类的功能过多</p></li><li><p>霰弹式修改：增加/修改一个功能，需要修改多个类</p></li><li><p>依恋情结：某个函数为了计算某值，从另一个对象那儿调用了大量的取值函数</p></li><li><p>夸夸其谈通用性：遵循合适原则，不用为未来的无限的可能情况做设计</p></li></ol><h2 id="84-其他问题">8.4 其他问题<a aria-hidden="true" class="anchor" hidden="" href="#84-其他问题">#</a></h2><ol><li><p>重复代码</p></li><li><p>冗赘的元素</p></li><li><p>过大的类</p></li><li><p>异曲同工的类</p></li><li><p>注释</p></li></ol><h1 id="9-还债的技术">9. 还债的技术<a aria-hidden="true" class="anchor" hidden="" href="#9-还债的技术">#</a></h1><h2 id="91-重构">9.1 重构<a aria-hidden="true" class="anchor" hidden="" href="#91-重构">#</a></h2><h3 id="911--实现逻辑重构">9.1.1 实现逻辑重构<a aria-hidden="true" class="anchor" hidden="" href="#911--实现逻辑重构">#</a></h3><ol><li><p>遵循代码规范</p></li><li><p>解决代码静态分析工具扫描出的问题</p></li><li><p>消灭code smell</p></li></ol><h3 id="912-设计重构">9.1.2 设计重构<a aria-hidden="true" class="anchor" hidden="" href="#912-设计重构">#</a></h3><ol><li><p>抽象规则</p></li><li><p>封装规则</p></li><li><p>模块化原则</p></li><li><p>层次结构原则</p></li></ol><h3 id="913-架构重构">9.1.3 架构重构<a aria-hidden="true" class="anchor" hidden="" href="#913-架构重构">#</a></h3><h2 id="92-单元测试">9.2 单元测试<a aria-hidden="true" class="anchor" hidden="" href="#92-单元测试">#</a></h2><ol><li><p>单测的好处</p><ol><li><p>提升质量信心</p></li><li><p>保护开发自己</p></li></ol></li><li><p>如何写单测</p><blockquote><p>junit , spock等单测框架</p></blockquote></li></ol><h2 id="93-code-review">9.3 Code Review<a aria-hidden="true" class="anchor" hidden="" href="#93-code-review">#</a></h2><ol><li><p>CR的好处</p></li><li><p>建立CR的机制</p></li></ol><h1 id="10-技术债管理">10. 技术债管理<a aria-hidden="true" class="anchor" hidden="" href="#10-技术债管理">#</a></h1><h2 id="101-战略战术">10.1 战略战术<a aria-hidden="true" class="anchor" hidden="" href="#101-战略战术">#</a></h2><ol><li><p>定战略</p><ol><li><p>切记一刀切</p><blockquote><p>根据业务发展阶段可以分为 探索阶段/ 上升阶段 / 稳定阶段 / 下沉阶段,</p><p>它们分别的管理方案: 预防技术债 / 治理 / 控制 / 放任</p></blockquote></li></ol></li><li><p>定战术</p><blockquote><p>平衡业务和债务的关系</p></blockquote></li></ol><h2 id="102-工具流程">10.2 工具流程<a aria-hidden="true" class="anchor" hidden="" href="#102-工具流程">#</a></h2><ol><li><p>codeDog &amp;&amp; CodeCC</p></li><li><p>质量红线</p></li></ol><h2 id="103-打造学习型组织">10.3 打造学习型组织<a aria-hidden="true" class="anchor" hidden="" href="#103-打造学习型组织">#</a></h2><ol><li><p>工程素养提升</p><ol><li><p>设计模式：掌握24种设计模式</p></li><li><p>设计原则：掌握SOLID原则(单一职责、开闭原则、里氏替换、接口隔离、依赖反转)</p></li><li><p>方法学：了解Devops,极限编程，Scrum,精益，看板，瀑布，结构化分析，结构化设计</p></li><li><p>实践：实践测试驱动开发，面向对象设计，结构化编程，函数式编程，持续集成，结对编程</p></li></ol></li><li><p>工程文化培养</p></li></ol><p><a href="https://juejin.cn/post/7213240802378580024" rel="noopener" target="_blank">为什么代码质量很重要?代码质量是指软件代码的编写和可维护程度。它包括可读性、效率、可扩展性、可靠性、可维护性和安全性等因 - 掘金</a></p><p><a href="https://juejin.cn/post/7328309852283469851" rel="noopener" target="_blank">软件开发中的破窗效应分析破窗效应，这一起源于城市犯罪学的理论，已经逐渐被应用于多个领域，包括软件开发。在软件开发的环境中 - 掘金</a></p><p><a href="https://www.cnblogs.com/hello-zy/p/15070894.html" rel="noopener" target="_blank">代码质量衡量指标 - ideal_1412 - 博客园</a></p><p><a href="https://book-refactoring2.ifmicro.com/docs/ch3.html#322-%E7%BA%AF%E6%95%B0%E6%8D%AE%E7%B1%BB%EF%BC%88data-class%EF%BC%89" rel="noopener" target="_blank">第 3 章 代码的坏味道 · 重构: 改善既有代码的设计</a></p><p><a href="https://cloud.tencent.com/developer/article/1981766" rel="noopener" target="_blank">重构-改善既有代码的设计：坏代码的味道，编写代码20多宗罪（三）-腾讯云开发者社区-腾讯云</a></p></div><footer class="post-footer"><ul class="post-tags"><li><a href="https://xiaokunji.com/zh/tags/%E4%BB%A3%E7%A0%81%E7%B1%BB.html">代码类</a></li><li><a href="https://xiaokunji.com/zh/tags/%E7%BB%BC%E5%90%88.html">综合</a></li></ul><nav class="paginav"><a class="prev" href="https://xiaokunji.com/zh/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F.html"><span class="title">« 上一页</span><br/><span>数据库架构设计的三种模式</span></a>
<a class="next" href="https://xiaokunji.com/zh/%E7%BB%BC%E5%90%88/%E4%B8%AA%E4%BA%BA%E5%B0%8F%E7%9F%A5%E8%AF%86/%E4%BB%A3%E7%A0%81%E7%B1%BB/%E5%A6%82%E4%BD%95%E5%81%9A%E5%A5%BDCodeReview.html"><span class="title">下一页 »</span><br/><span>如何做好CodeReview</span></a></nav></footer></article></main><script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><footer class="footer"><span>Copyright
©
-2024
<a href="https://xiaokunji.com/zh/" style="color:#939393">米二</a>
All Rights Reserved</span>
<span id="busuanzi_container"><span class="fa fa-user">用户数:</span><span id="busuanzi_value_site_uv"></span>
<span class="fa fa-eye">访问数:</span><span id="busuanzi_value_site_pv"></span></span></footer><a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)"><svg fill="currentcolor" viewbox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M12 6H0l6-6z"></path></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>