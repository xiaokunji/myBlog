<!DOCTYPE html>
<html dir="auto" lang="zh"><head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="x-ua-compatible"/><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"/><meta content="index, follow" name="robots"/><title>Linux常用命令 | 米二</title><meta content="default" name="keywords"/><meta content="linus常用命令" name="description"/><meta content="xkj" name="author"/><link href="https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" rel="canonical"/><link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.dc6bd2c841ee388e899e13872ae986c0e847e8b957d6714ad6ddc628ef2d17ff.css" integrity="sha256-3GvSyEHuOI6JnhOHKumGwOhH6LlX1nFK1t3GKO8tF/8=" rel="preload stylesheet"/><script crossorigin="anonymous" defer="" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload="hljs.initHighlightingOnLoad()" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js"></script>
<link href="https://xiaokunji.com/img/Q.svg" rel="icon"/><link href="https://xiaokunji.com/img/Q.svg" rel="icon" sizes="16x16" type="image/png"/><link href="https://xiaokunji.com/img/Q.svg" rel="icon" sizes="32x32" type="image/png"/><link href="https://xiaokunji.com/Q.svg" rel="apple-touch-icon"/><link href="https://xiaokunji.com/Q.svg" rel="mask-icon"/><meta content="#2e2e33" name="theme-color"/><meta content="#2e2e33" name="msapplication-TileColor"/><link href="https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" hreflang="zh" rel="alternate"/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta content="Linux常用命令" property="og:title"/><meta content="linus常用命令" property="og:description"/><meta content="article" property="og:type"/><meta content="https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" property="og:url"/><meta content="linux系统" property="article:section"/><meta content="2023-08-22T00:00:00+00:00" property="article:published_time"/><meta content="2023-10-23T11:59:54+08:00" property="article:modified_time"/><meta content="summary" name="twitter:card"/><meta content="Linux常用命令" name="twitter:title"/><meta content="linus常用命令" name="twitter:description"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":4,"name":"Linux常用命令","item":"https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html"}]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux常用命令","name":"Linux常用命令","description":"linus常用命令","keywords":["default"],"articleBody":"==写得很乱,以后知识体系完善了,再整理==\nlinux知识 操作系统分类: linux : derbin,ubuntu,redhat,contos,fcortor,redflag,suse\nunix:\nwindow NT:\nMAC :\nlinux由Linux内核,系统基本库,应用程序组成\n环境变量配置\n1.系统配置\n/etc/profile /etc/environment 2.用户环境变量(运行时优先于系统配置)\n~/.profile ~/.bashrc 快捷键: ctrl+alt+t //打开终端(桌面版)\n( “#” 注释符号 )\n用户账户文件 /etc/passwd\n用户密码文件\t/etc/shadow\n用户组信息\t/etc/group\n管理ip地址与主机的映射\t/etc/hosts\n主机名文件\t/etc/hostname\n~/.profile:用户每次登录时运行\n~/.bashrc:每次进入新的Bash环境时执行(打开一个新的终端)\n~/.bash_login:用户每次退出登录时执行\n分区:\n​\tbin boot sbin bin lib64 etc\n​\t这些文件夹一般放在一个分区中\n​\t一种做为服务器:\n​\t一种做为客户端:\n​\tswap(交换空间):虚拟内存\n​\tboot:启动项目录\n​\nbin sbin 是执行指令所在目录 etc 系统配置文件 dev 设备文件目录 lib lib64\t库文件 home 个人(用户)主目录,一般个人主目录名与用户名一致..\t普通用户除了操作个人主目录外,默认情况下,不能操作(增删改)其他的文件 识别个人主目录\n~ 表示个人主目录\n$\t表示普通用户\n# 表示管理员\n设置Ubuntu的静态ip地址和DNS `/etc/network/interfaces` //ip地址文件路径 `sudo /etc/init.d/networking restart ` //重启网卡 修改如下(静态ip):\nauto ens32 iface ens32 inet static address 192.168.22.127 netmask 255.255.255.0 gateway 192.168.22.254 DNS设置:\n临时设置:/etc/resolv.conf 永久设置:/etc/resolvconf/resolv.conf.d/base 使用 lrzsz 可以实现window与Ubuntu之间的文件上传与下载\n​\tsudo apt-get install lrzsz ​\n权限相关 drwxr-xr-x 24 root root 4096 Mar 10 16:49 ./ 第一组:\n第一个字符: “-” 开头表示文件, “d” 开头表示目录, “l” 开头表示软连接,可以认为是快捷方式 2~4个字符表示:文件拥有者对文件拥有的操作权限\tu 5~7个字符表示:用户所属组对文件拥有的操作权限\tg 8~10个字符表示:其他用户对文件拥有的操作权限\to 第三组字符:\n表示所有者(这里表示该文件是root所有) 第四组字符:\n表示文件所属组 chmod :\n+ 表示添加权限 ; - 表示删除权限\t; u 表示文件拥有者\t; g 表示文件所属组\t; o 表示其他用户 ; a 表示ugo三者; 用二进制表示是否有权限,所有可能如下:\n001 010 011 100 101 110 111 1 2 3 4 5 6 7 进而可以用十进制表示(如上)\n或者记住: 读等于4; 写等于2; 执行等于1\n注: r表示可读,w表示可写,x表示可执行\nchown : 改变所有者[和改变所属组] chgrp:\t改变所属组\nvi 和 vim 有三种模式:\n命令模式(只能输入命令执行,比如要退出vim,在界面的最下面,) 编辑模式(可以进行字符操作) 一般模式(可以删除行,或者复制粘贴等操作) 刚进入时是一般模式\n一般模式 –\u003e编辑模式 :\na(在光标之后添加) i(光标前添加) o(光标下一行) (大写字母效果则相反且范围变大)\n一般模式 –\u003e 命令模式 :\n: / ? 命令模式,编辑模式 –\u003e一般模式 :\nesc (命令可以组合使用 eg: d表示删除,G表示跳到文件尾部,组合起来dG就是删除到文件尾部)\n命令 备注 扩展 :wq 或者 ZZ 保持并退出 w表示保存, q表示退出 :q! 强制退出(不保存) ctrl+f 下一页 ctrl+b 上一页 gg 跳到文件首位 5gg: 跳到第5行 G 跳到文件尾部 5G:跳到第5行 ^ 跳转光标行首 $ 跳转光标行尾 :set nu 显示行号 dd 删除当前行(其实是放入一个剪切板,用p可粘贴) 7dd: 删除光标初开始的后面的7行 dw 删除一个单词 d3w 表示删除3个单词 yy 复制当前行 p 粘贴 r 剪切 x 删除光标后的一个字符 u 撤销 ctrl+r 返回撤销 :r filepath 复制一个文件到当前光标出 :s /old/new 在当前行中用new字符代替old字符 :s /old/new/cg 同上, 外加c 表示对每个替换动作提示用户进行确定;\ng 表示当前行查找并替换所有字符串 :%s /old/new 该文件中用new字符代替old字符 https://mssora.com/archives/182 Linux常用命令: 基础命令 shutdown -h now 立刻关机\nshutdown -r now 立刻重启\ncd\npwd\nls\ngrep(筛选)\nrm 删除文件\nrm -rf\t删除目录\nmv 旧名字 新名字 //重命名文件\nmv 旧位置\t新位置 //移动文件\ncp 旧文件 新位置 拷贝文件\ncp -r 旧目录\t新位置 拷贝目录\nps -elf | grep lrzrs 可以查看某个服务是否存在\nhistory 列出所有历史命令\n!+命令所在行 就可执行 eg:!23\n软链 ln -s 源文件/目录 软连接名 为源文件创建一个软连接\nln 源文件 连接名 为源文件创建一个硬连接(目录不可以建立硬连接)\nwhich sshd //查找是否安装了sshd这个软件\nifconfig //查看ip地址\nless 分页显示文件内容\n-l 显示行号\n-S 不换行显示\n进入文本显示(与vim的命令模式类似):\nF 进入tailf 命令模式\nv 进入vim的编辑模式\nmore 分页显示文件内容\n按enter键:\t每次显示一行\n按空格(space)键:\t下一页 ctrl+b : 上一页 ctrl+f 按 \"/\" 查找,按n下一个找到的值,N上一个找到的值 head : 查看头部分信息\neg.: head -n5 xx.txt\n显示前5行数据 默认显示前十行\ntail:\t查看尾部分信息\neg.: tail -n5 xx.txt 显示前5行数据 默认显示前十行 -f : 可以暂停文档,当改变时会实时显示,用于日志分析 wc :统计\n管道符 \"|\" 管道符 把前一个的指令运行结果给后面的指令执行\n\"||\" 连接两条命令 上一条执行失败了才会执行下一条\n\"\u0026\u0026\" 连接两条命令 上一条执行成功了才会执行下一条\n\"\u0026\" 连接两条命令 不关心失败与否,所有命令都会执行\n\"\u003e\u003e\",\"\u003e\" 重定向符 把前一个的指令运行结果给(符号右边)一个文件 前者是追加,后者是覆盖\n当要写多行命令时,可以使用\"\"或者\"|“来连续输入\nuseradd/adduser 用户名 -\u003e添加用户\nuserdel 用户名 -\u003e删除用户\npasswd 用户名 -\u003e 修改密码\nusermod -l newname oldname -\u003e 修改用户名\nadduser 用户名 组名 -\u003e 更改用户权限(例如加入组,管理员组名:sudo)\njps 查看(java启动的)后台进程\ncrontab 定时任务(-e,-l)\nsudo vim /etc/crontab(系统的定时任务文件)\n识别系统的版本\n​\tunmae -m\nx86_64-\u003e64位 ; i586 -\u003e 32位\nuname -a 系统所有信息\n文件物理属性(lsattr) lsattr:显示的是文件系统的物理属性,由linux内核支持\nls显示的是文件系统的逻辑属性\nlsattr a.txt 查看文件隐藏属性\nchattr -i a.txt\t撤销文件某个隐藏属性\nls -l 显示列表(可以简写成ll)\n隐藏文件是以 “.” 开头\nfind 命令: find [path] -name \"pattern \" 2\u003e/dev/null 按文件名查找,并不输出错误信息(就是这个Permission denied)\nfind /home | xargs grep -i \"start\" 在home路径下所有文件中查找start字符串 (贼好用) 直接用 grep 也是可以的,\n语法: grep [OPTION]… PATTERN [FILE]…\ngrep -n \"start\" /home -r 参数表示递归查询\n查找/home下文件中含\"start” 字符串的文件名和对应行\nfind . -mtime +10 -name *.log | xargs rm -f\n删除十天以前的log文件\nfind . -type f -size +150M | xargs rm -f\n删除文件大小超过150M的 文件\ndu 查看文件大小 du -sh ~/* | sort -nr\n查询指定目录下文件夹大小(包含其下文件),并排序\nsed 文本操作工具 sed [-nefri] ‘command’ 输入文本\n常用选项：\n-n∶使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN的资料一般都会被列出到萤幕上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。 -e∶直接在指令列模式上进行 sed 的动作编辑； -f∶直接将 sed 的动作写在一个档案内， -f filename 则可以执行 filename 内的sed 动作； -r∶sed 的动作支援的是延伸型正规表示法的语法。(预设是基础正规表示法语法) -i∶直接修改读取的档案内容，而不是由萤幕输出。 常用命令：\na ∶新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～ c ∶取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！ d ∶删除，因为是删除啊，所以 d 后面通常不接任何咚咚； i ∶插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)； p ∶列印，亦即将某个选择的资料印出。通常 p 会与参数 sed -n 一起运作～ s ∶取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！ 举例:\nsed '1,2d' text.txt #删除第一行到第二行\nsed -n '1,2p' a.txt #显示第一行到第二行\nsed -n '/ruby/p' ab | sed 's/ruby/bird/g' #替换ruby为bird\nsed -n '1,/'\"${keyword}\"'/p' a.txt # 显示第一行到出现关键词的一行,keyword是变量\nsed -n '1,/xiaokj/p' a.txt # 显示第一行到出现关键词的一行\n来自:https://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html\nxargs 管道命令 xargs 是给命令传递参数的一个过滤器，也是组合多个命令的一个工具。 xargs 可以将管道或标准输入（stdin）数据转换成命令行参数，也能够从文件的输出中读取数据。 xargs 也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行。e.g.cat test.txt | xargs cat test.txt | xargs -n3 xargs 默认的命令是 echo，这意味着通过管道传递给 xargs 的输入将会包含换行和空白，不过通过 xargs 的处理，换行和空白将被空格取代。 xargs 是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令。 之所以能用到这个命令，关键是由于很多命令不支持|管道来传递参数，而日常工作中有有这个必要，所以就有了 xargs 命令\nsomecommand |xargs -item command\n-a file 从文件中读入作为sdtin -e flag ，注意有的时候可能会是-E，flag必须是一个以空格分隔的标志，当xargs分析到含有flag这个标志的时候就停止。 -p 当每次执行一个argument的时候询问一次用户。 -n num 后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的。 -t 表示先打印命令，然后再执行。 -i 或者是-I，这得看linux支持了，将xargs的每项名称，一般是一行一行赋值给 {}，可以用 {} 代替。e.g.: cat arg.txt | xargs -I {} ./sk.sh -p {} -l,可以给每行批量加数据 -r no-run-if-empty 当xargs的输入为空的时候则停止xargs，不用再去执行了。 -s num 命令行的最大字符数，指的是 xargs 后面那个命令的最大命令行字符数。 -L num 从标准输入一次读取 num 行送给 command 命令。 -l 同 -L。 -d delim 分隔符，默认的xargs分隔符是回车，argument的分隔符是空格，这里修改的是xargs的分隔符。e.g.:echo \"nameXnameXnameXname\" | xargs -dX -x exit的意思，主要是配合-s使用。。 -P 修改最大的进程数，默认是1，为0时候为as many as it can ，这个例子我没有想到，应该平时都用不到的吧。 用 rm 删除太多的文件时候，可能得到一个错误信息：/bin/rm Argument list too long. 用 xargs 去避免这个问题：\ne.g.:find . -type f -name \"*.log\" -print0 | xargs -0 rm -f\nxargs -0 将 \\0 作为定界符。\n来自:https://www.runoob.com/linux/linux-comm-xargs.html\nAWK 是一种处理文本文件的语言，是一个强大的文本分析工具。\n每行(默认)按空格或TAB分割，输出文本中的1、4项\nawk '{print $1,$4}' log.txt\n关闭名字叫jportal的进程\nps -ef | grep jportal | awk {'print $2'} | xargs kill -9\nps -ef | grep jportal | awk '{print \"kill -9 \"$2}' | sh\n用这种更好,不会因为重复执行而报错\n格式化输出\nawk '{printf \"%-8s %-10s\\n\",$1,$4}' log.txt\n使用\",“分割\nawk -F, '{print $1,$2}' log.txt\nawk -F #-F相当于内置变量FS, 指定分割字符\n使用多个分隔符.先使用空格分割，然后对分割结果再使用”,“分割 awk -F '[ ,]' '{print $1,$2,$5}' log.txt 过滤第一列大于2并且第二列等于’Are’的行\nawk '$1\u003e2 \u0026\u0026 $2==\"Are\" {print $1,$2,$3}' log.txt\n输出第二列包含 “th”，并打印第二列与第四列\nawk '$2 ~ /th/ {print $2,$4}' log.txt\n关于awk脚本，我们需要注意两个关键词BEGIN和END。\nBEGIN{ 这里面放的是执行前的语句 } END {这里面放的是处理完所有的行后要执行的语句 } {这里面放的是处理每一行时要执行的语句} 还有好多,这个命令真是超牛逼,以后想看了再看\n来自:https://www.runoob.com/linux/linux-comm-awk.html\ntar 压缩和解压命令 tar -czvf test.tar.gz a.txt 把a.txt文件压缩成test.tar.gz\ntar -xzvf test.tar.gz 解压test.tar.gz\nflock 文件锁命令 flock 命令最大的用途就是实现对 crontab 任务的串行化。\n* * * * * flock -xn /tmp/mytest.lock -c '/home/fdipzone/bin/test.sh start'\n这里的定时任务是每分钟执行一次，但是任务中并未直接执行目标命令 ‘/home/fdipzone/bin/test.sh start’ ，而是将命令作为 flock 的 -c 选项的参数。flock 命令中，-x 表示对文件加上排他锁，-n 表示文件使用非阻塞模式，-c 选项指明加锁成功后要执行的命令。\n因而上面flock 命令的整体含义就是：如果对 /tmp/mytest.lock 文件（如果文件不存在， flock 命令会自动创建）加锁成功就执行后面的命令，否则不执行。\n来源: https://zhuanlan.zhihu.com/p/25134841 ","wordCount":"4772","inLanguage":"zh","datePublished":"2023-08-22T00:00:00Z","dateModified":"2023-10-23T11:59:54+08:00","author":{"@type":"Person","name":"xkj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html"},"publisher":{"@type":"Organization","name":"米二","logo":{"@type":"ImageObject","url":"https://xiaokunji.com/img/Q.svg"}}}</script></head><body class="dark" id="top"><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class="header"><nav class="nav"><div class="logo"><a accesskey="h" href="https://xiaokunji.com/zh/" title="米二 (Alt + H)"><img alt="" aria-label="logo" height="35" src="https://xiaokunji.com/img/Q.svg"/>米二</a><div class="logo-switches"><button accesskey="t" id="theme-toggle" title="(Alt + T)"><svg fill="none" height="18" id="moon" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg><svg fill="none" height="18" id="sun" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="5"></circle><line x1="12" x2="12" y1="1" y2="3"></line><line x1="12" x2="12" y1="21" y2="23"></line><line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line><line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line><line x1="1" x2="3" y1="12" y2="12"></line><line x1="21" x2="23" y1="12" y2="12"></line><line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line><line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line></svg></button><ul class="lang-switch"><li>|</li><li><a aria-label="English" href="https://xiaokunji.com/en/" title="English">English</a></li></ul></div></div><ul id="menu"><li><a href="https://xiaokunji.com/zh/" title="🏠主页"><span>🏠主页</span></a></li><li><a accesskey="/" href="https://xiaokunji.com/zh/search" title="🔍搜索 (Alt + /)"><span>🔍搜索</span></a></li><li><a href="https://xiaokunji.com/zh/post.html" title="📚文章"><span>📚文章</span></a></li><li><a href="https://xiaokunji.com/zh/archives.html" title="⏱时间轴"><span>⏱时间轴</span></a></li><li><a href="https://xiaokunji.com/zh/tags.html" title="🔖标签"><span>🔖标签</span></a></li><li><a href="https://xiaokunji.com/zh/categories.html" title="📖分类"><span>📖分类</span></a></li><li><a href="https://xiaokunji.com/zh/links.html" title="🤝友链"><span>🤝友链</span></a></li></ul></nav></header><main class="main"><article class="post-single"><header class="post-header"><nav aria-label="breadcrumb"><ul><a href="https://xiaokunji.com/zh/">🏠</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F.html">linux系统</a> <span>&gt;</span>
<a href="https://xiaokunji.com/zh/linux%E7%B3%BB%E7%BB%9F/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86.html">公共部分</a> <span>&gt;</span></ul></nav><h1 class="post-title">Linux常用命令</h1><div class="post-description">linus常用命令</div><div class="post-meta">创建: <span title="2023-08-22 00:00:00 +0000 UTC">2023-08-22</span> · 更新: 2023-10-23 · xkj
 | 分类:  <ul class="post-categories-meta" style="display:inline"><a href="https://xiaokunji.com/zh/categories/Linux%E7%B3%BB%E7%BB%9F.html">Linux系统</a></ul><span id="busuanzi_container_page_pv"> | 访问: <span id="busuanzi_value_page_pv">1</span></span></div></header><aside class="toc-container wide" id="toc-container"><div class="toc"><details open=""><summary accesskey="c" title="(Alt + C)"><span class="details">目录</span></summary><div class="inner"><ul><li><a aria-label="linux知识" href="#linux%e7%9f%a5%e8%af%86">linux知识</a><ul><li><a aria-label="操作系统分类:" href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e5%88%86%e7%b1%bb">操作系统分类:</a></li></ul></li><li><a aria-label="设置Ubuntu的静态ip地址和DNS" href="#%e8%ae%be%e7%bd%aeubuntu%e7%9a%84%e9%9d%99%e6%80%81ip%e5%9c%b0%e5%9d%80%e5%92%8cdns">设置Ubuntu的静态ip地址和DNS</a></li><li><a aria-label="使用 lrzsz" href="#%e4%bd%bf%e7%94%a8-lrzsz">使用 lrzsz</a></li><li><a aria-label="权限相关" href="#%e6%9d%83%e9%99%90%e7%9b%b8%e5%85%b3">权限相关</a></li><li><a aria-label="vi 和 vim" href="#vi-%e5%92%8c-vim">vi 和 vim</a></li><li><a aria-label="Linux常用命令:" href="#linux%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4">Linux常用命令:</a><ul><li><a aria-label="基础命令" href="#%e5%9f%ba%e7%a1%80%e5%91%bd%e4%bb%a4">基础命令</a><ul><li><a aria-label="软链" href="#%e8%bd%af%e9%93%be">软链</a></li><li><a aria-label="管道符" href="#%e7%ae%a1%e9%81%93%e7%ac%a6">管道符</a></li><li><a aria-label="文件物理属性(lsattr)" href="#%e6%96%87%e4%bb%b6%e7%89%a9%e7%90%86%e5%b1%9e%e6%80%a7lsattr">文件物理属性(lsattr)</a></li><li><a aria-label="find 命令:" href="#find-%e5%91%bd%e4%bb%a4"><code>find</code> 命令:</a></li><li><a aria-label="du 查看文件大小" href="#du--%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e5%a4%a7%e5%b0%8f"><code>du</code> 查看文件大小</a></li><li><a aria-label="sed 文本操作工具" href="#sed--%e6%96%87%e6%9c%ac%e6%93%8d%e4%bd%9c%e5%b7%a5%e5%85%b7"><code>sed</code> 文本操作工具</a></li><li><a aria-label="xargs 管道命令" href="#xargs--%e7%ae%a1%e9%81%93%e5%91%bd%e4%bb%a4"><code>xargs</code> 管道命令</a></li><li><a aria-label="AWK" href="#awk"><code>AWK</code></a></li><li><a aria-label="tar 压缩和解压命令" href="#tar-%e5%8e%8b%e7%bc%a9%e5%92%8c%e8%a7%a3%e5%8e%8b%e5%91%bd%e4%bb%a4"><code>tar</code> 压缩和解压命令</a></li><li><a aria-label="flock 文件锁命令" href="#flock-%e6%96%87%e4%bb%b6%e9%94%81%e5%91%bd%e4%bb%a4"><code>flock</code> 文件锁命令</a></li></ul></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class="post-content"><p>==写得很乱,以后知识体系完善了,再整理==</p><h1 id="linux知识">linux知识<a aria-hidden="true" class="anchor" hidden="" href="#linux知识">#</a></h1><h2 id="操作系统分类">操作系统分类:<a aria-hidden="true" class="anchor" hidden="" href="#操作系统分类">#</a></h2><ol><li><p>linux :
derbin,ubuntu,redhat,contos,fcortor,redflag,suse</p></li><li><p>unix:</p></li><li><p>window NT:</p></li><li><p>MAC :</p></li></ol><p>linux由Linux内核,系统基本库,应用程序组成</p><p>环境变量配置</p><ul><li><p>1.系统配置</p><ul><li>/etc/profile</li><li>/etc/environment</li></ul></li><li><p>2.用户环境变量(运行时优先于系统配置)</p><ul><li>~/.profile</li><li>~/.bashrc</li></ul><p>快捷键:
ctrl+alt+t //打开终端(桌面版)</p></li></ul><p>( “#” 注释符号 )</p><p>用户账户文件 <code>/etc/passwd</code></p><p>用户密码文件 <code>/etc/shadow</code></p><p>用户组信息 <code>/etc/group</code></p><p>管理ip地址与主机的映射 <code>/etc/hosts</code></p><p>主机名文件 <code>/etc/hostname</code></p><p><code>~/.profile</code>:用户每次登录时运行</p><p><code>~/.bashrc</code>:每次进入新的Bash环境时执行(打开一个新的终端)</p><p><code>~/.bash_login</code>:用户每次退出登录时执行</p><p>分区:</p><p>​ bin boot sbin bin lib64 etc</p><p>​ 这些文件夹一般放在一个分区中</p><p>​ 一种做为服务器:</p><p>​ 一种做为客户端:</p><p>​ swap(交换空间):虚拟内存</p><p>​ boot:启动项目录</p><p>​</p><ul><li>bin sbin 是执行指令所在目录</li><li>etc 系统配置文件</li><li>dev 设备文件目录</li><li>lib lib64 库文件</li><li>home 个人(用户)主目录,一般个人主目录名与用户名一致.. 普通用户除了操作个人主目录外,默认情况下,不能操作(增删改)其他的文件</li></ul><p>识别个人主目录</p><p><code>~</code> 表示个人主目录</p><ul><li><p><code>$</code> 表示普通用户</p></li><li><p><code>#</code> 表示管理员</p></li></ul><h1 id="设置ubuntu的静态ip地址和dns">设置Ubuntu的静态ip地址和DNS<a aria-hidden="true" class="anchor" hidden="" href="#设置ubuntu的静态ip地址和dns">#</a></h1><pre><code>`/etc/network/interfaces`   //ip地址文件路径    

`sudo /etc/init.d/networking restart  ` //重启网卡   
</code></pre><p>修改如下(静态ip):</p><div class="highlight"><pre style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-fallback" data-lang="fallback"><span style="display:flex"><span>auto ens32
</span></span><span style="display:flex"><span>iface ens32 inet static
</span></span><span style="display:flex"><span>address 192.168.22.127
</span></span><span style="display:flex"><span>netmask 255.255.255.0
</span></span><span style="display:flex"><span>gateway 192.168.22.254
</span></span></code></pre></div><p>DNS设置:</p><ul><li>临时设置:<code>/etc/resolv.conf</code></li><li>永久设置:<code>/etc/resolvconf/resolv.conf.d/base</code></li></ul><h1 id="使用-lrzsz">使用 lrzsz<a aria-hidden="true" class="anchor" hidden="" href="#使用-lrzsz">#</a></h1><p>可以实现window与Ubuntu之间的文件上传与下载</p><p>​ <code>sudo apt-get install lrzsz</code>
​</p><h1 id="权限相关">权限相关<a aria-hidden="true" class="anchor" hidden="" href="#权限相关">#</a></h1><p><code>drwxr-xr-x 24 root root 4096 Mar 10 16:49 ./</code></p><ul><li><p>第一组:</p><ul><li>第一个字符:<ul><li>“-” 开头表示文件,</li><li>“d” 开头表示目录,</li><li>“l” 开头表示软连接,可以认为是快捷方式</li><li>2~4个字符表示:文件拥有者对文件拥有的操作权限 u</li><li>5~7个字符表示:用户所属组对文件拥有的操作权限 g</li><li>8~10个字符表示:其他用户对文件拥有的操作权限 o</li></ul></li></ul></li><li><p>第三组字符:</p><ul><li>表示所有者(这里表示该文件是root所有)</li></ul></li><li><p>第四组字符:</p><ul><li>表示文件所属组</li></ul></li></ul><p>chmod :</p><ul><li><code>+</code> 表示添加权限 ;</li><li><code>-</code> 表示删除权限 ;</li><li><code>u</code> 表示文件拥有者 ;</li><li><code>g</code> 表示文件所属组 ;</li><li><code>o</code> 表示其他用户 ;</li><li><code>a</code> 表示ugo三者;</li></ul><p>用二进制表示是否有权限,所有可能如下:</p><table><thead><tr><th>001</th><th>010</th><th>011</th><th>100</th><th>101</th><th>110</th><th>111</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr></tbody></table><p>进而可以用十进制表示(如上)</p><p>或者记住: 读等于4; 写等于2; 执行等于1</p><blockquote><p>注: r表示可读,w表示可写,x表示可执行</p></blockquote><p><code>chown</code> : 改变所有者[和改变所属组]
<code>chgrp</code>: 改变所属组</p><h1 id="vi-和-vim">vi 和 vim<a aria-hidden="true" class="anchor" hidden="" href="#vi-和-vim">#</a></h1><p>有三种模式:</p><ul><li>命令模式(只能输入命令执行,比如要退出vim,在界面的最下面,)</li><li>编辑模式(可以进行字符操作)</li><li>一般模式(可以删除行,或者复制粘贴等操作)</li></ul><blockquote><p>刚进入时是一般模式</p></blockquote><ul><li><p>一般模式 –&gt;编辑模式 :</p><ul><li>a(在光标之后添加)</li><li>i(光标前添加)</li><li>o(光标下一行)</li></ul><blockquote><p>(大写字母效果则相反且范围变大)</p></blockquote></li><li><p>一般模式 –&gt; 命令模式 :</p><ul><li>:</li><li>/</li><li>?</li></ul></li><li><p>命令模式,编辑模式 –&gt;一般模式 :</p><ul><li>esc</li></ul></li></ul><blockquote><p>(命令可以组合使用 eg: d表示删除,G表示跳到文件尾部,组合起来dG就是删除到文件尾部)</p></blockquote><table><thead><tr><th>命令</th><th style="text-align:left">备注</th><th style="text-align:left">扩展</th></tr></thead><tbody><tr><td>:wq 或者 ZZ</td><td style="text-align:left">保持并退出</td><td style="text-align:left">w表示保存, q表示退出</td></tr><tr><td>:q!</td><td style="text-align:left">强制退出(不保存)</td><td style="text-align:left"></td></tr><tr><td>ctrl+f</td><td style="text-align:left">下一页</td><td style="text-align:left"></td></tr><tr><td>ctrl+b</td><td style="text-align:left">上一页</td><td style="text-align:left"></td></tr><tr><td>gg</td><td style="text-align:left">跳到文件首位</td><td style="text-align:left">5gg: 跳到第5行</td></tr><tr><td>G</td><td style="text-align:left">跳到文件尾部</td><td style="text-align:left">5G:跳到第5行</td></tr><tr><td>^</td><td style="text-align:left">跳转光标行首</td><td style="text-align:left"></td></tr><tr><td>$</td><td style="text-align:left">跳转光标行尾</td><td style="text-align:left"></td></tr><tr><td>:set nu</td><td style="text-align:left">显示行号</td><td style="text-align:left"></td></tr><tr><td>dd</td><td style="text-align:left">删除当前行(其实是放入一个剪切板,用p可粘贴)</td><td style="text-align:left">7dd: 删除光标初开始的后面的7行</td></tr><tr><td>dw</td><td style="text-align:left">删除一个单词</td><td style="text-align:left">d3w 表示删除3个单词</td></tr><tr><td>yy</td><td style="text-align:left">复制当前行</td><td style="text-align:left"></td></tr><tr><td>p</td><td style="text-align:left">粘贴</td><td style="text-align:left"></td></tr><tr><td>r</td><td style="text-align:left">剪切</td><td style="text-align:left"></td></tr><tr><td>x</td><td style="text-align:left">删除光标后的一个字符</td><td style="text-align:left"></td></tr><tr><td>u</td><td style="text-align:left">撤销</td><td style="text-align:left"></td></tr><tr><td>ctrl+r</td><td style="text-align:left">返回撤销</td><td style="text-align:left"></td></tr><tr><td>:r</td><td style="text-align:left">filepath</td><td style="text-align:left">复制一个文件到当前光标出</td></tr><tr><td>:s</td><td style="text-align:left">/old/new</td><td style="text-align:left">在当前行中用new字符代替old字符</td></tr><tr><td>:s</td><td style="text-align:left">/old/new/cg</td><td style="text-align:left">同上, 外加c 表示对每个替换动作提示用户进行确定;<br/>g 表示当前行查找并替换所有字符串</td></tr><tr><td>:%s</td><td style="text-align:left">/old/new</td><td style="text-align:left">该文件中用new字符代替old字符</td></tr></tbody></table><blockquote><p><a href="https://mssora.com/archives/182" rel="noopener" target="_blank">https://mssora.com/archives/182</a></p></blockquote><h1 id="linux常用命令">Linux常用命令:<a aria-hidden="true" class="anchor" hidden="" href="#linux常用命令">#</a></h1><h2 id="基础命令">基础命令<a aria-hidden="true" class="anchor" hidden="" href="#基础命令">#</a></h2><p><code>shutdown -h now</code> 立刻关机</p><p><code>shutdown -r now</code> 立刻重启</p><p><code>cd</code></p><p><code>pwd</code></p><p><code>ls</code></p><p><code>grep</code>(筛选)</p><p><code>rm</code> 删除文件</p><p><code>rm -rf</code> 删除目录</p><p><code>mv 旧名字 新名字</code> //重命名文件</p><p><code>mv 旧位置 新位置</code> //移动文件</p><p><code>cp 旧文件 新位置</code> 拷贝文件</p><p><code>cp -r 旧目录 新位置</code> 拷贝目录</p><p><code>ps -elf | grep lrzrs</code> 可以查看某个服务是否存在</p><p><code>history</code> 列出所有历史命令</p><blockquote><p>!+命令所在行 就可执行 eg:!23</p></blockquote><h3 id="软链">软链<a aria-hidden="true" class="anchor" hidden="" href="#软链">#</a></h3><p><code>ln -s 源文件/目录 软连接名</code> 为源文件创建一个软连接</p><p><code>ln 源文件 连接名</code> 为源文件创建一个硬连接(目录不可以建立硬连接)</p><p><code>which sshd</code> //查找是否安装了sshd这个软件</p><p><code>ifconfig</code> //查看ip地址</p><p><code>less</code> 分页显示文件内容</p><blockquote><p>-l 显示行号</p><p>-S 不换行显示</p><p>进入文本显示(与vim的命令模式类似):</p><p>F 进入tailf 命令模式</p><p>v 进入vim的编辑模式</p></blockquote><p><code>more</code> 分页显示文件内容</p><blockquote><p>按enter键: 每次显示一行</p></blockquote><pre><code>按空格(space)键:	下一页   

ctrl+b :  上一页   

ctrl+f    

按 "/" 查找,按n下一个找到的值,N上一个找到的值   
</code></pre><p><code>head</code> : 查看头部分信息</p><blockquote><p>eg.: <code>head -n5 xx.txt</code></p><p>显示前5行数据 默认显示前十行</p></blockquote><p><code>tail</code>: 查看尾部分信息</p><blockquote><p>eg.: <code>tail -n5 xx.txt</code></p></blockquote><pre><code>显示前5行数据    默认显示前十行
-f : 可以暂停文档,当改变时会实时显示,用于日志分析
</code></pre><p><code>wc</code> :统计</p><h3 id="管道符">管道符<a aria-hidden="true" class="anchor" hidden="" href="#管道符">#</a></h3><p><code>"|"</code> 管道符 把前一个的指令运行结果给后面的指令执行</p><p><code>"||"</code> 连接两条命令 上一条执行失败了才会执行下一条</p><p><code>"&amp;&amp;"</code> 连接两条命令 上一条执行成功了才会执行下一条</p><p><code>"&amp;"</code> 连接两条命令 不关心失败与否,所有命令都会执行</p><p><code>"&gt;&gt;","&gt;"</code> 重定向符 把前一个的指令运行结果给(符号右边)一个文件 前者是追加,后者是覆盖</p><blockquote><p>当要写多行命令时,可以使用""或者"|“来连续输入</p></blockquote><p><code>useradd/adduser 用户名</code> -&gt;添加用户</p><p><code>userdel 用户名</code> -&gt;删除用户</p><p><code>passwd 用户名</code> -&gt; 修改密码</p><p><code>usermod -l newname oldname</code> -&gt; 修改用户名</p><p><code>adduser 用户名 组名</code> -&gt; 更改用户权限(例如加入组,管理员组名:sudo)</p><p><code>jps</code> 查看(java启动的)后台进程</p><p><code>crontab 定时任务(-e,-l)</code></p><p><code>sudo vim /etc/crontab</code>(系统的定时任务文件)</p><p>识别系统的版本</p><p>​ <code>unmae -m</code></p><blockquote><p>x86_64-&gt;64位 ; i586 -&gt; 32位</p></blockquote><p><code>uname -a</code> 系统所有信息</p><h3 id="文件物理属性lsattr">文件物理属性(lsattr)<a aria-hidden="true" class="anchor" hidden="" href="#文件物理属性lsattr">#</a></h3><p><code>lsattr</code>:显示的是文件系统的物理属性,由linux内核支持</p><blockquote><p>ls显示的是文件系统的逻辑属性</p></blockquote><p><code>lsattr a.txt</code> 查看文件隐藏属性</p><p><code>chattr -i a.txt</code> 撤销文件某个隐藏属性</p><p><code>ls -l</code> 显示列表(可以简写成ll)</p><blockquote><p>隐藏文件是以 “.” 开头</p></blockquote><h3 id="find-命令"><code>find</code> 命令:<a aria-hidden="true" class="anchor" hidden="" href="#find-命令">#</a></h3><p><code>find [path] -name "pattern " 2&gt;/dev/null</code></p><blockquote><p>按文件名查找,并不输出错误信息(就是这个Permission denied)</p></blockquote><p><code>find /home | xargs grep -i "start"</code></p><blockquote><p>在home路径下所有文件中查找start字符串 (贼好用)
直接用 grep 也是可以的,</p><p>语法: grep [OPTION]&amp;mldr; PATTERN [FILE]&amp;mldr;</p><p><code>grep -n "start" /home</code></p><p>-r 参数表示递归查询</p><p>查找/home下文件中含"start” 字符串的文件名和对应行</p></blockquote><p><code>find . -mtime +10 -name *.log | xargs rm -f</code></p><blockquote><p>删除十天以前的log文件</p></blockquote><p><code>find . -type f -size +150M | xargs rm -f</code></p><blockquote><p>删除文件大小超过150M的 文件</p></blockquote><h3 id="du--查看文件大小"><code>du</code> 查看文件大小<a aria-hidden="true" class="anchor" hidden="" href="#du--查看文件大小">#</a></h3><p><code>du -sh ~/* | sort -nr</code></p><blockquote><p>查询指定目录下文件夹大小(包含其下文件),并排序</p></blockquote><h3 id="sed--文本操作工具"><code>sed</code> 文本操作工具<a aria-hidden="true" class="anchor" hidden="" href="#sed--文本操作工具">#</a></h3><p><code>sed [-nefri] ‘command’ 输入文本</code></p><p>常用选项：</p><ul><li>-n∶使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN的资料一般都会被列出到萤幕上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。</li><li>-e∶直接在指令列模式上进行 sed 的动作编辑；</li><li>-f∶直接将 sed 的动作写在一个档案内， -f filename 则可以执行 filename 内的sed 动作；</li><li>-r∶sed 的动作支援的是延伸型正规表示法的语法。(预设是基础正规表示法语法)</li><li>-i∶直接修改读取的档案内容，而不是由萤幕输出。</li></ul><p>常用命令：</p><ul><li>a ∶新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</li><li>c ∶取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</li><li>d ∶删除，因为是删除啊，所以 d 后面通常不接任何咚咚；</li><li>i ∶插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</li><li>p ∶列印，亦即将某个选择的资料印出。通常 p 会与参数 sed -n 一起运作～</li><li>s ∶取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！</li></ul><blockquote><p>举例:<br/><code>sed '1,2d' text.txt</code> #删除第一行到第二行<br/><code>sed -n '1,2p' a.txt</code> #显示第一行到第二行<br/><code>sed -n '/ruby/p' ab | sed 's/ruby/bird/g'</code> #替换ruby为bird<br/><code>sed -n '1,/'"${keyword}"'/p' a.txt</code> # 显示第一行到出现关键词的一行,keyword是变量<br/><code>sed -n '1,/xiaokj/p' a.txt</code> # 显示第一行到出现关键词的一行</p><p>来自:https://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html</p></blockquote><h3 id="xargs--管道命令"><code>xargs</code> 管道命令<a aria-hidden="true" class="anchor" hidden="" href="#xargs--管道命令">#</a></h3><ul><li>xargs 是给命令传递参数的一个过滤器，也是组合多个命令的一个工具。</li><li>xargs 可以将管道或标准输入（stdin）数据转换成命令行参数，也能够从文件的输出中读取数据。</li><li>xargs 也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行。e.g.<code>cat test.txt | xargs</code> <code>cat test.txt | xargs -n3</code></li><li>xargs 默认的命令是 echo，这意味着通过管道传递给 xargs 的输入将会包含换行和空白，不过通过 xargs 的处理，换行和空白将被空格取代。</li><li>xargs 是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令。</li></ul><p>之所以能用到这个命令，关键是由于很多命令不支持|管道来传递参数，而日常工作中有有这个必要，所以就有了 xargs 命令</p><p><code>somecommand |xargs -item command</code></p><ul><li>-a file 从文件中读入作为sdtin</li><li>-e flag ，注意有的时候可能会是-E，flag必须是一个以空格分隔的标志，当xargs分析到含有flag这个标志的时候就停止。</li><li>-p 当每次执行一个argument的时候询问一次用户。</li><li>-n num 后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的。</li><li>-t 表示先打印命令，然后再执行。</li><li>-i 或者是-I，这得看linux支持了，将xargs的每项名称，一般是一行一行赋值给 {}，可以用 {} 代替。e.g.:<code> cat arg.txt | xargs -I {} ./sk.sh -p {} -l</code>,可以给每行批量加数据</li><li>-r no-run-if-empty 当xargs的输入为空的时候则停止xargs，不用再去执行了。</li><li>-s num 命令行的最大字符数，指的是 xargs 后面那个命令的最大命令行字符数。</li><li>-L num 从标准输入一次读取 num 行送给 command 命令。
-l 同 -L。</li><li>-d delim 分隔符，默认的xargs分隔符是回车，argument的分隔符是空格，这里修改的是xargs的分隔符。e.g.:<code>echo "nameXnameXnameXname" | xargs -dX</code></li><li>-x exit的意思，主要是配合-s使用。。</li><li>-P 修改最大的进程数，默认是1，为0时候为as many as it can ，这个例子我没有想到，应该平时都用不到的吧。</li><li></li></ul><p>用 rm 删除太多的文件时候，可能得到一个错误信息：/bin/rm Argument list too long. 用 xargs 去避免这个问题：<br/>e.g.:<code>find . -type f -name "*.log" -print0 | xargs -0 rm -f</code></p><blockquote><p>xargs -0 将 \0 作为定界符。</p><p>来自:https://www.runoob.com/linux/linux-comm-xargs.html</p></blockquote><h3 id="awk"><code>AWK</code><a aria-hidden="true" class="anchor" hidden="" href="#awk">#</a></h3><p>是一种处理文本文件的语言，是一个强大的文本分析工具。</p><p>每行(默认)按空格或TAB分割，输出文本中的1、4项</p><p><code>awk '{print $1,$4}' log.txt</code></p><p>关闭名字叫jportal的进程</p><p><code>ps -ef | grep jportal | awk {'print $2'} | xargs kill -9</code></p><blockquote><p><code>ps -ef | grep jportal | awk '{print "kill -9 "$2}' | sh</code></p><p>用这种更好,不会因为重复执行而报错</p></blockquote><p>格式化输出<br/><code>awk '{printf "%-8s %-10s\n",$1,$4}' log.txt</code><br/>使用",“分割<br/><code>awk -F, '{print $1,$2}' log.txt</code></p><blockquote><p>awk -F #-F相当于内置变量FS, 指定分割字符</p></blockquote><p>使用多个分隔符.先使用空格分割，然后对分割结果再使用”,“分割<br/><code>awk -F '[ ,]' '{print $1,$2,$5}' log.txt</code><br/>过滤第一列大于2并且第二列等于’Are’的行<br/><code>awk '$1&gt;2 &amp;&amp; $2=="Are" {print $1,$2,$3}' log.txt</code><br/>输出第二列包含 “th”，并打印第二列与第四列<br/><code>awk '$2 ~ /th/ {print $2,$4}' log.txt</code></p><p>关于awk脚本，我们需要注意两个关键词BEGIN和END。</p><ul><li>BEGIN{ 这里面放的是执行前的语句 }</li><li>END {这里面放的是处理完所有的行后要执行的语句 }</li><li>{这里面放的是处理每一行时要执行的语句}</li></ul><blockquote><p>还有好多,这个命令真是超牛逼,以后想看了再看</p><p>来自:https://www.runoob.com/linux/linux-comm-awk.html</p></blockquote><h3 id="tar-压缩和解压命令"><code>tar</code> 压缩和解压命令<a aria-hidden="true" class="anchor" hidden="" href="#tar-压缩和解压命令">#</a></h3><p><code>tar -czvf test.tar.gz a.txt</code></p><blockquote><p>把a.txt文件压缩成test.tar.gz</p></blockquote><p><code>tar -xzvf test.tar.gz</code></p><blockquote><p>解压test.tar.gz</p></blockquote><h3 id="flock-文件锁命令"><code>flock</code> 文件锁命令<a aria-hidden="true" class="anchor" hidden="" href="#flock-文件锁命令">#</a></h3><p>flock 命令最大的用途就是实现对 crontab 任务的串行化。</p><p><code>* * * * * flock -xn /tmp/mytest.lock -c '/home/fdipzone/bin/test.sh start'</code></p><blockquote><p>这里的定时任务是每分钟执行一次，但是任务中并未直接执行目标命令 ‘/home/fdipzone/bin/test.sh start’ ，而是将命令作为 flock 的 -c 选项的参数。flock 命令中，-x 表示对文件加上排他锁，-n 表示文件使用非阻塞模式，-c 选项指明加锁成功后要执行的命令。</p><p>因而上面flock 命令的整体含义就是：如果对 /tmp/mytest.lock 文件（如果文件不存在， flock 命令会自动创建）加锁成功就执行后面的命令，否则不执行。</p><p>来源: <a href="https://zhuanlan.zhihu.com/p/25134841" rel="noopener" target="_blank">https://zhuanlan.zhihu.com/p/25134841</a></p></blockquote></div><footer class="post-footer"><ul class="post-tags"><li><a href="https://xiaokunji.com/zh/tags/%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%E6%9A%82%E5%AE%9A.html">公共部分(暂定)</a></li><li><a href="https://xiaokunji.com/zh/tags/Linux%E7%B3%BB%E7%BB%9F.html">Linux系统</a></li></ul></footer></article></main><script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><footer class="footer"><span>Copyright
©
-2024
<a href="https://xiaokunji.com/zh/" style="color:#939393">米二</a>
All Rights Reserved</span>
<span id="busuanzi_container"><span class="fa fa-user">用户数:</span><span id="busuanzi_value_site_uv"></span>
<span class="fa fa-eye">访问数:</span><span id="busuanzi_value_site_pv"></span></span></footer><a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)"><svg fill="currentcolor" viewbox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M12 6H0l6-6z"></path></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>